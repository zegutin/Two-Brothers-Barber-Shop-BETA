;/*FB_PKG_DELIM*/

__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=f,d[0]=d[1]),c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45],isEmployee:!1}):0})},function(d){return c.sp(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.seq([function(d){return c[0]=e.queueName,b.fe(b.db.table(2).fetch([[[c[0],{lte:a[0]}]],"queueNameTaskId"]),function(a){a.item;return 0})},function(d){return b.fe(b.db.table(2).fetch([[[c[0],{lte:a[0]}]],"queueNameTaskId"]),function(a){return a["delete"]()})}]))})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("LSVec",[],(function(a,b,c,d,e,f){"use strict";var g={tag:{value:"ls-array"}};function h(a){return Object.defineProperties([].concat(a),g)}function a(a){return h(a)}function b(a){return Array.from(a)}c={from:h,make:a,toArray:b};f["default"]=c}),66);
__d("LSDict",["I64","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return void 0;var b=d("I64").cast(a);return b!=null?JSON.stringify([d("I64").to_string(b)]):JSON.stringify(a)}function i(a){if(a==null)return void 0;a=JSON.parse(a);return Array.isArray(a)?d("I64").of_string(a[0]):a}a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return b==null?null:[h(b),a]}).filter(Boolean));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return a==null?void 0:this.$1.get(h(a))};b.set=function(a,b){if(a==null)return this;this.$1.set(h(a),b);return this};b["delete"]=function(a){return a==null?!1:this.$1["delete"](h(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a){var b=this;this.$1.forEach(function(c,d){return a(c,i(d),b)})};b.has=function(a){return a==null?!1:this.$1.has(h(a))};b.entries=function*(){for(var a of this.$1.entries()){var b=a[0],c=a[1];yield [i(b),c]}};b.keys=function(){return c("LSVec").from(Array.from(this.$1.keys()).map(function(a){return i(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("unrecoverableViolation")("Cannot convert dicts with mixed keys to records","messenger_web_product");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSJson",["I64","LSDict","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=512;function i(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>h)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a))return a.tag==="ls-array"?"["+a.map(function(a,c){return i(a,b+1,e+"/"+c.toString())}).join(",")+"]":d("I64").to_string(a);else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+i(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.stringify=i}),98);
__d("LSIterationHelpers",["FBLogger","I64","LSDbKeyComparer","LSDict","ReStoreVaulting","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];while(a!==0)b.push(a.hd),a=a.tl;return b}function i(a){return a.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function j(a,c,e){e===void 0&&(e="asc");var f=a.entries(new WeakMap(),e);function g(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=g,a.next=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield f.next());outer:while(!a.done){var b=function*(b){var g=c[b]||{},j=g.end;g=g.start;var k=h(a.value[0]),l=k.slice(0,b);if(g){var m=d("LSDbKeyComparer").compareValue(k[b],g[0]);if(m*(e==="asc"?1:-1)<g[1]){if(b===k.length-1&&m===0)a=(yield f.next());else{m=[].concat(l,[g[0]],g[1]&&e==="asc"||!g[1]&&e==="desc"?[d("LSDbKeyComparer").MAX_KEY]:[]);a=(yield f.next(i(m)))}if(a.done)return{v:{done:!0}};k=h(a.value[0]);if(!l.every(function(b,a){return d("LSDbKeyComparer").compareValue(b,k[a])===0}))return"continue|outer"}}if(j&&d("LSDbKeyComparer").compareValue(j[0],k[b])*(e==="asc"?1:-1)<j[1]){a=(yield f.next(i([].concat(k.slice(0,b),e==="asc"?[d("LSDbKeyComparer").MAX_KEY]:[]))));return"continue|outer"}};for(var g=0;g<c.length;g++){var j=(yield* b(g));switch(j){case"continue|outer":continue outer;default:if(typeof j==="object")return j.v}}break}return a});function g(){return a.apply(this,arguments)}return g}(),a}return g()}function k(a,c){var d;return d={},d[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=k.bind(null,a,c),d.next=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a.next());while(!b.done&&!(yield c(b.value.item)))b=(yield a.next());return b});function e(){return d.apply(this,arguments)}return e}(),d}function l(a,d,e){var f,g=0;return f={},f[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=l.bind(null,a,d,e),f.next=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(g<d){var b=(yield a.next());b=b.done;if(b){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",d);return{done:!0}}g++}if(g<e){g++;return a.next()}return{done:!0}});function h(){return f.apply(this,arguments)}return h}(),f}function a(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield a.next()),d=[];while(!c.done)d.push(c.value),c=(yield a.next());for(c of d)yield b(c)});return m.apply(this,arguments)}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],c=(yield a.next());while(!c.done)b.push(c.value),c=(yield a.next());return b});return o.apply(this,arguments)}function e(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var h=a[g];g=c[g];var i;h==null&&g==null?i=0:h==null&&g!=null?i=-1:h!=null&&g==null?i=1:i=d("LSDbKeyComparer").compareValue(h,g);if(i===0)continue;return i*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var h=0;for(var i=c.length-1;i>=0;i--)h={hd:b.value.item[c[i]],tl:h};if(e!=null&&d("LSDbKeyComparer").compareKey(e,h)!==0){for(i of g.sort(f))yield i;g=[]}b.done||g.push(b.value);e=h;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(i of g.sort(f))yield i});return function(){return b.apply(this,arguments)}}();return g()}function f(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=0,c=(yield a.next());while(!c.done)b++,c=(yield a.next());return d("I64").of_int32(b)});return p.apply(this,arguments)}function q(a,e){return{forEach:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=(yield n(a));f=f.reduce(function(b,c){c=c.item[e];var a=(b.get(c)||0)+1;return b.set(c,a)},new(c("LSDict"))());for(f of f.entries()){var g,h=f[0],i=f[1];yield b((g={},g[e]=h,g.group_count=d("I64").of_int32(i),g))}});function g(a){return f.apply(this,arguments)}return g}()}}function r(a,b,c){return{"delete":function(){return c["delete"](a)},item:b,update:function(d){return c.upsert(a,babelHelpers["extends"]({},b,d))}}}function s(a,b){return t.apply(this,arguments)}function t(){t=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return t.apply(this,arguments)}function u(a,b,c){return v.apply(this,arguments)}function v(){v=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=d("LSDbKeyComparer").compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return v.apply(this,arguments)}function w(a,c,e,f,g,h){var k=new Set(),l=a.length>1,m=a.length===1&&a[0][1]==null,n=a.map(function(a){var k=a[0],l=a[1];return k.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var k=a.map(function(a){return h(a,c)});a=k.length===(l==null?e.primaryKeyIds:e.indexes[l]).length&&k.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var c,f=!1;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,c.next=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(f)return{done:!0};f=!0;var a=i(k.map(function(a){a=a.start;return a[0]})),b=(yield (l==null?g:g.index(l)).get(a));if(!b)return{done:!0};b=d("ReStoreVaulting").maybeUnvaultDbRow(b,e.name);return{done:!1,value:[a,b]}});function c(){return a.apply(this,arguments)}return c}(),c};return a()}return j(l==null?g:g.index(l),k,c)})}).flat().reduce(function(b,d){return a.length>1?s(b,d):u(b,d,c)});function o(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=o,a.next=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b,c,d=(yield n.next());while(!d.done){var f=d.value;b=f[0];c=f[1];a=m?b:e.primaryKeyIds.reduceRight(function(a,b){return{hd:c[b],tl:a}},0);if(l){f=JSON.stringify(a);if(k.has(f)){d=(yield n.next());continue}k.add(f)}break}return d.done||a==null||c==null?{done:!0}:{done:!1,value:r(a,c,g)}});function c(){return a.apply(this,arguments)}return c}(),a}return o()}g.filter=k;g.slice=l;g.forEach=a;g.toArray=n;g.sortBy=e;g.count=f;g.groupBy=q;g.fetch=w}),98);
__d("QuickLogActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({START:1,SUCCESS:2,FAIL:3,CANCEL:4,DRAW_COMPLETE:5,ON_RESUME:6,ACTIVITY_CREATED:7,CONSISTENCY_MODEL_UPDATER:8,SEND_MESSAGE:9,SUCCESS_COLD:10,SUCCESS_WARM:11,UI_IDLE:12,PHASE_ONE:13,PHASE_TWO:14,DEQUEUE:15,NETWORK_COMPLETE:16,MEMORY_CACHE_VISIT:17,DISK_CACHE_VISIT:18,CONSISTENCY_UPDATE:19,RETURN_TO_CALLER:20,PHOTO_UPLOAD_COMPLETE:21,USER_NAVIGATION_CANCELLATION:22,DB_FETCH:23,SERVER_FETCH:24,SUCCESS_CACHE:25,SUCCESS_DB:26,SUCCESS_NETWORK:27,SUCCESS_LOCAL_UNSPECIFIED:28,CACHE_UPDATED:29,DB_UPDATED:30,DATA_RECEIVED:31,DRAW_VIEW:32,DATA_EMPTY:33,CACHE_FETCH:34,PREPARE_BEGIN:35,PREPARE_END:36,ASYNC_BEGIN:37,ASYNC_END:38,REMOVE_BEGIN:39,REMOVE_END:40,BROADCAST_DONE:41,ON_RESUME_END:42,ON_ATTACH_END:43,ON_FRAGMENT_CREATE_END:44,ON_CREATE_VIEW_END:45,ON_ACTIVITY_CREATED_END:46,ON_START_END:47,QUEUED:48,IN_PROGRESS:49,INIT:50,UNKNOWN:51,RETRY_AFTER_FAILURE:52,RETRY_AFTER_RECONNECT:53,QUEUEING_BEGIN:54,QUEUEING_SUCCESS:55,QUEUEING_FAIL:56,MESSAGE_UPDATE_START:57,MESSAGE_UPDATE_END:58,PHOTO_CAPTURED:59,MEDIA_PREVIEW_VISIBLE:60,COUNTER:61,INTERACTION_LOAD_TIMELINE_HEADER:62,INTERACTION_LOAD_EVENT_PERMALINK:63,INTERACTION_LOAD_GROUPS_FEED:64,INTERACTION_LOAD_PAGE_HEADER:65,INTERACTION_LOAD_PAGE_HEADER_ADMIN:66,INTERACTION_LOAD_PERMALINK:67,INTERACTION_OPEN_COMPOSER:68,INTERACTION_OPEN_MEDIA_PICKER:69,INTERACTION_OPEN_PHOTO_GALLERY:70,INTERACTION_OPEN_CHECK_IN:71,INTERACTION_LOAD_WEB_VIEW:72,INTENT_MAPPED:73,ACTIVITY_LAUNCHED:74,ACTIVITY_PAUSED:75,ACTIVITY_STARTED:76,ACTIVITY_RESUMED:77,FRAGMENT_CREATED:78,FRAGMENT_RESUMED:79,ACTIVITY_ON_CREATE:80,INTENT_MAPPING_BEGIN:81,FRAGMENT_ON_CREATE:82,FRAGMENT_NEW_INSTANCE:83,MARKER_SWAPPED:84,FRAGMENT_INSTANCE_CREATED:85,PREV_ACTIVITY_PAUSED:86,ERROR:87,METHOD_INVOKE:88,FINALLY:89,PHOTO_DOWNLOAD_COMPLETE:90,MINIPREVIEW_COMPLETE:91,SEARCH_TYPEAHEAD:92,ANIMATION_END:93,UDP_REQUEST_SEND:94,MAIN_COMPLETE:95,INTERRUPTED:96,NETWORK_FAILED:97,NETWORK_RESPONSE:98,EDGE_PROCESSING_BEGIN:99,NEWSFEED_PROCESS_RESPONSE:100,ON_VIEW_CREATED_END:101,DATA_LOAD_START:102,LEGACY_MARKER:103,ACTION_BAR_COMPLETE:104,ABORTED:105,QUERY_READY:106,RTMP_PACKET_RECEIVED:107,REQUESTED_PLAYING:108,RTMP_CONNECTION_REQUESTED:109,RTMP_CONNECTION_RELEASE:110,NEW_START_FOUND:111,MISSED_EVENT:112,TIMEOUT:113,CONTROLLER_INITIATED:114,RTMP_STREAM_PREPARED:115,VIDEO_PLAYING:116,RTMP_CONNECTION_CONNECTED:117,RTMP_CONNECTION_FAILED:118,RTMP_CONNECTION_INTERCEPTED:119,VIDEO_SET_RENDERER_CONTEXT:120,HEADER_DATA_LOADED:121,CARD_DATA_LOADED:122,VIEW_WILL_APPEAR_BEGIN:123,VIEW_DID_LOAD_BEGIN:124,COMPONENTS_DATA_SOURCE_WILL_BEGIN_UPDATES:125,COMPONENTS_DATA_SOURCE_DID_END_UPDATES:126,LOAD_VIEW_BEGIN:127,RTMP_FIRST_KEY_FRAME_RECEIVED:128,MESSENGER_QUEUE_CREATION:129,APP_DID_FINISH_LAUNCHING:130,APP_DID_BECOME_ACTIVE:131,APP_WILL_ENTER_FOREGROUND:132,APP_DID_ENTER_BACKGROUND:133,APP_MAIN:134,MQTT_CONNECTING:135,MQTT_CONNECTED:136,MQTT_DISCONNECTED:137,MESSENGER_DELTA_REQUEST:138,APP_FIRST_VIEW_CONTROLLER:139,MESSENGER_THREAD_LIST_LOADED:140,MESSENGER_THREAD_LIST_DISPLAYED:141,PREV_ACTIVITY_PAUSE:142,ACTIVITY_RESUME:143,ACTIVITY_START:144,BEGIN_START_ACTIVITY:145,END_START_ACTIVITY:146,FILE_SYSTEM_FAIL:147,FORMAT_ERROR:148,PRIVACY_VIOLATION:149,NETWORK_RESPONSE_INITIAL_SCAN:150,POPULATE_CONSISTENCY_MEMORY_CACHE:151,APPLY_OPTIMISTICS:152,APPLY_FINISHED_LIST:153,APPLY_FINISHED_LIST_AGAIN:154,FUTURE_LISTENERS_COMPLETE:155,SERVICE_ON_START_COMMAND:156,WAIT_FOR_BLOCKERS:157,NOTIFY_SUBSCRIBERS:158,FAIL_FILE_TOO_LARGE:159,OFFLINE:160,ASNYC_FAILED:161,ASYNC_FAIL:162,ON_ATTACH_FRAGMENT:163,VIEW_DID_APPEAR_BEGIN:164,DISPLAYED:165,DISPLAYED_ON_SCREEN:166,ASYNC_ACTION_SUCCESS:167,ASYNC_ACTION_FAIL:168,CONNECTIVITY_CHANGED:169,VIDEO_DISPLAYED:170,VIDEO_REQUESTED_PLAYING:171,LOADED_AUDIO_SESSION:172,LOADED_CAMERA_SESSION:173,SUCCESS_OPTIMISTIC:174,OUT_OF_ORDER:175,NOT_READY:176,JSON_PARSE:177,FILE_NOT_FOUND:178,METABOX_COMPLETE:179,CALL_TO_ACTION_COMPLETE:180,HEADER_DRAW_COMPLETE:181,COVER_PHOTO_COMPLETE:182,COMPONENT_WILL_CREATE:183,COMPONENT_DID_CREATE:184,COMPONENT_WILL_LAYOUT:185,COMPONENT_DID_LAYOUT:186,COMPONENT_WILL_MOUNT:187,COMPONENT_DID_MOUNT:188,PRECALCULATE_EDGES:189,UI_THREAD_DEQUEUE:190,CALLBACKS_COMPLETE:191,CALLBACKS_DISPATCHED:192,NETWORK_PARSE_COMPLETE:193,START_LOADING_JS_BUNDLE:194,FINISH_LOADING_JS_BUNDLE:195,START_EXECUTING_JS_BUNDLE:196,FINISH_EXECUTING_JS_BUNDLE:197,START_CALLING_JS_FUNCTION:198,FINISH_CALLING_JS_FUNCTION:199,CREATED_MODEL_FILE:200,DB_SUPPLIER_GET:201,BEGIN_TRANSACTION:202,FILE_FLUSHED:203,OPTIMISTIC_UPDATES_APPLIED:204,FRAGMENT_VISIBLE:205,STALE:206,SUCCESS_GET_MODEL:207,FAIL_GET_MODEL:208,ALREADY_SEEN:209,UNKNOWN_SEEN_STATE:210,CREATED_INTENT:211,INVALID_INTENT:212,SHOW_NOTIFICATION:213,SUCCESS_FETCH_IMAGE:214,FAIL_FETCH_IMAGE:215,DROPPED:216,QUERY_CHUNKS:217,QUERY_ROWS:218,COMPUTE_CHUNKS:219,SCROLL_COMPLETE:220,USE_INSTANCE_STATE:221,USE_ARGUMENTS:222,OFFSCREEN:223,LOG_READ:224,LOG_COMPACTED:225,LOG_WRITER_OPENED:226,TAB_SWITCH:227,EXIT_VIEW_CONTROLLER:228,TAGS_PREPARED:229,VIEW_DID_APPEAR:230,MEDIA_TOO_SMALL:231,ITEM_SELECTED:232,REPOSITIONED:233,PHOTO_UPLOAD_START:234,MEDIA_EDIT:235,MEDIA_EDIT_COMPLETE:236,VIDEO_PAUSE:237,VIDEO_COMPLETE:238,VIDEO_PLAYING_TIMEOUT:239,VIDEO_PLAYING_QPL_TIMEOUT:240,SESSION_OPEN:241,SCHEMA_HASH_MISMATCH:242,OVERRIDES_EXIST:243,DI_DONE:244,FLATBUFFER_SCHEMA_ABSENT:245,SUCCESS_NONEXISTENCE:246,VIDEO_CANCELLED:247,MESSENGER_QUEUE_CREATION_FAILURE:248,MESSENGER_DELTA_REQUEST_FAILURE:249,RETURN_EXCEPTION_TO_CALLER:250,SURFACE_TEXTURE_AVAILABLE:251,NEWS_FEED_FRAGMENT:252,HEADER_CACHE_FETCH_STARTED:253,CHANGESET_ENQUEUED:258,RTC_BROADCAST_INITIALIZED:259,RTC_STREAMING_INITIALIZED:260,RTC_STREAMING_STARTED:261,CAMERA_VIDEO_OUTPUT_SWITCHED:262,RTMP_STREAM_STOPPED:263,LOCATION_FETCH_BEGIN:264,LOCATION_FETCH_SUCCESS:265,LOCATION_FETCH_FAILED:266,FIRST_UPDATE_SUCCESS:267,FIRST_UPDATE_FAILURE:268,RTMP_STREAMING_HANDLED_FRAME:269,RTMP_DVR_HANDLED_FRAME:274,LIVE_RTMP_STREAMING_HANDLED_FRAME:275,LIVE_RTMP_DVR_HANDLED_FRAME:276,PASS_QE_CHECK:277,PASS_AD_CHECK:278,PASS_SAMPLE_RATE_CHECK:279,HAS_VALID_HTML:280,FOUND_IMAGES:281,TIGON_REQUEST_BEGIN:282,TIGON_REQUEST_END:283,TIGON_RESPONSE_BEGIN:284,TIGON_RESPONSE_END:285,TIGON_PARSE_BEGIN:286,TIGON_PARSE_END:287,GRAPHQL_CACHE_FETCH_START:288,GRAPHQL_CACHE_FETCH_END:289,VIDEO_START_STALL:290,VIDEO_END_STALL:291,MERGE_LOCAL_FIELDS:292,LOAD_QUERY_STRING:293,CONFIG_TABLE_SCHEMA_HASH_MISMATCH:294,CONFIG_TABLE_SCHEMA_ABSENT:295,CONFIG_TABLE_MAGIC_MISMATCH:296,OBJSEL_FETCH:297,GO_TO_AD_ACTIVITY:298,SAVE_AD:299,UNSAVE_AD:300,SAVE_MODE:301,GO_AD_ACTIVITY_MODE:302,ACCESSIBILITY_ACTIVATE:303,ACCESSIBILITY_CUSTOM:304,ACCESSIBILITY_MAGIC_TAP:305,FINAL_IMAGE_SET:306,INTERMEDIATE_IMAGE_SET:307,INTERMEDIATE_IMAGE_FAIL:308,INTERMEDIATE_IMAGE_GOOD_ENOUGH_SET:309,APP_BACKGROUND:310,APP_FOREGROUND:311,RECEIVED_HARDWARE_FRAME:312,CAMERA_COMPONENT_MOUNTED:313,MQTT_CONNECTION_ATTEMPTED:314,DELTA_APPLICATION_COMPLETED:325,DELTAS_RECEIVED_AFTER_CONNECT:326,MESSENGER_DAY_UNIT_DISPLAYED:327,DATA_LOAD_END:328,VIEW_DID_BECOME_VISIBLE:329,DELTA_APPLICATION_INTERRUPTED:330,DELTA_BATCH_APPLICATION_COMPLETED:331,MESSAGE_LIST_DID_UPDATE:332,MESSAGE_LIST_WILL_UPDATE:333,SUCCESS_ZERO_WAIT_TIME:334,USER_SCROLLED:335,SPINNER_APPEARED:336,MODEL_ENQUEUED:337,VIEW_MODEL_APPLIED:338,PRESENTED:339,VIEW_DID_BECOME_VISIBLE_END:340,MESSENGER_DELTA_REQUEST_INIT:341,FEED_REQUEST_STARTED:342,FEED_REQUEST_FAILED:343,FEED_REQUEST_SUCCEEDED:344,FEED_LOAD_FROM_DISK_FINISHED:345,STORIES_REQUEST_STARTED:346,STORIES_REQUEST_FAILED:392,STORIES_REQUEST_SUCCEEDED:393,STORIES_LOAD_FROM_DISK_FINISHED:394,USER_INFO_LOADED:395,APP_CREATED:396,INIT_TO_USABLE:397,INIT_TO_NETWORK_CONTENT:398,TOTAL:399,HEAD:400,TAIL:401,INITIAL:402,OTHER:403,ANR_START_DATA_CAPTURE:404,ANR_ENQUEUE:405,NOTIF_NOT_ALERTED:406,NOTIF_DUPLICATE:407,NOTIF_MUTED:408,NOTIF_BUZZED:409,FEED_RESPONSE_PROCESSED:410,STORIES_RESPONSE_PROCESSED:411,APP_DID_FINISH_LAUNCHING_ENDED:412,ASYNC_BEGIN_DB:413,DELTA_APPLICATION_STARTED:414,ASYNC_SUCCESS_DB:415,ASYNC_FAIL_DB:416,ASYNC_BEGIN_SERVER:417,ASYNC_SUCCESS_SERVER:418,ASYNC_FAIL_SERVER:419,LEAVE:420,ASYNC_SUCCESS_DB_NO_DATA:429,ASYNC_FAIL_SERVER_NO_DATA:430,SUCCESS_MEMORY:431,SUCCESS_SERVER:432,FAIL_NO_DATA:433,ACTIVITY_NEW_INTENT:434,GRID_MEDIA_LOADED:435,STORY_TRAY_MEDIA_LOADED:436,INTERACTION_OPEN_QRCODE_SCANNER:437,MEDIA_LOAD_CACHE:438,MEDIA_LOAD_NETWORK:439,COMMENTS_LOAD_START:440,COMMENTS_LOAD_COMPLETE:441,MEDIA_LOAD_START:442,SCROLL_START:443,QRCODE_SCANNER_SCAN_SUCCESS:444,QRCODE_SCANNER_SCAN_FAILURE:445,APP_CREATED_MAIN_PROCESS:446,FINISH_REGISTERING_JS_NATIVE_MODULES:447,NON_ANR:448,FINISH_INITIALIZING_JS_BRIDGE:449,FINISH_INJECTING_JS_HOOKS:450,FINISH_RUNNING_JS_INITIALIZER:451,UI_RESPONSIVE:452,PHASE_ONE_COMPLETE:453,PHASE_TWO_COMPLETE:454,LS_HEADER_START:455,LS_HEADER_LOAD:456,LS_BODY_START:457,LS_BODY_LOAD:458,APP_ONCREATE:459,START_FETCH_IMAGE:460,LOGGED_OUT:461,LS_HEADER_LAYOUT_SUCCESS:462,STARTED_CAPTURE_SESSION:463,CAMERA_VIEW_READY:464,CAMERA_FIRST_FRAME:465,PHOTO_BITMAP_READY:466,END:467,FRAME_RENDERED:468,LS_MAP_LIST_START:469,LS_MAP_LIST_LOADED:470,LS_MAP_LIST_SUCCESS:471,FETCH_THREAD_STARTED:472,FETCH_THREAD_SUCCEEDED:473,FETCH_THREAD_FAILED:474,STRUCTURE_FETCH_COMPLETE:475,FOLLOWED_SHOWS_FETCHED:476,ABANDONED:477,ENTERED:478,LS_FILTER_START:479,LS_FILTER_LOAD:480,LS_FILTER_SUCCESS:481,LS_SEARCH_RESULT_START:482,LS_SEARCH_RESULT_LOAD:483,NETWORK_PARSE_START:484,NETWORK_REQUEST_SENT:485,COMPONENT_DATA_MODEL_UPDATE_START:486,COMPONENT_DATA_MODEL_UPDATE_COMPLETE:487,HIGH_RES_PHOTO_FILE_READY:488,NATIVE_PHOTO_BITMAP_READY:489,REEL_JSON_RECEIVED:490,REEL_MEDIA_RECEIVED:491,STORY_VIEWER_APPEAR:492,FETCH_INBOX_STARTED:493,FETCH_INBOX_SUCCEEDED:494,FETCH_INBOX_FAILED:495,REQUEST_ADDED:496,INIT_QE_START:497,INIT_QE_END:498,MULTIDEX_INSTALLED:499,PREPARE_CAMERA_SESSION:500,START_CAMERA_SESSION:501,DID_START_CAMERA_SESSION:502,FIRST_HARDWARE_FRAME:503,START_RENDERING_FIRST_USER_FRAME:504,FIRST_MEDIA_RENDERED:505,FIRST_CACHED_MEDIA_RENDERED:506,CAMERA_INITIALIZED:507,HTTP_TRANSACTION_STARTED:508,REMOTE_PROCESS:509,PRE_REQUEST_SEND_CALLED:510,BRIDGE_STARTUP_WILL_START:511,BRIDGE_STARTUP_DID_FINISH:512,COVER_PHOTO_LOW_RES:513,COVER_PHOTO_HIGH_RES:514,PROFILE_PIC_LOW_RES:515,PROFILE_PIC_HIGH_RES:516,CONTEXT_ITEMS:517,MEDIA_LOADED:518,STATE_UPDATE:519,ON_SHOW_LOGIN:520,EMPTY_REQUEST:521,METERED_CONNECTION:522,VIDEO_DOWNSTREAM_FORMAT_CHANGED:523,DISABLED:524,NO_METADATA:525,INCOMPLETE_METADATA:526,PHOTO_CAPTURE_READY:527,CAMERA_START_READY:528,DELAY_START:529,DELAY_STOP:530,RANK_START:531,RANK_STOP:532,DB_WRITE_START:533,DB_WRITE_STOP:534,ADD_STORY_TO_UI:535,WEBVIEW_URI_REDIRECTOR_CONSTRUCTION:536,UNINTERRUPTED:537,VIDEO_TOGGLE_FULL_SCREEN:538,CONFIGURE_START:539,CONFIGURE_END:540,BROWSER_OPEN:541,FIRST_DATA_RECEIVED:542,RVP_WILL_LOAD:543,RVP_DID_LOAD:544,CACHE_WRITE_START:545,CACHE_WRITE_SUCCESS:546,CACHE_WRITE_FAIL:547,RVP_WILL_PAUSE:548,RVP_DID_PAUSE:549,RVP_WILL_PLAY:550,RVP_DID_PLAY:551,RVP_WILL_PREPARE:552,RVP_DID_PREPARE:553,RVP_WILL_RELOAD:554,RVP_DID_RELOAD:555,RVP_WILL_CREATE:556,RVP_DID_CREATE:557,RVP_WILL_FINISH_INFLATE:558,RVP_DID_FINISH_INFLATE:559,RVP_WILL_MOUNT:560,RVP_DID_MOUNT:561,START_COMPRESSING_MESSAGE:562,MESSAGE_COMPRESSED:563,START_DECOMPRESSING_MESSAGE:564,MESSAGE_DECOMPRESSED:565,START_SENDING_MESSAGE:566,CAMERA_PREVIEW_FROZEN:567,VC_INIT_START:569,VC_INIT_BEGIN:570,VC_INIT_END:571,VC_VIEW_DID_LOAD_BEGIN:572,VC_VIEW_DID_LOAD_END:573,ROOT_QUERY_START:574,ROOT_QUERY_SUCCESS:575,ROOT_QUERY_FAIL:576,CACHE_INITIALIZED:577,FETCH_BEGIN:578,FETCH_FINISHED:579,PARSING_FINISHED:580,LOAD_VIEW_END:581,LOAD_URL_BEGIN:582,LOAD_URL_END:583,SHOULD_LOAD_URL_BEGIN:598,SHOULD_LOAD_URL_END:599,BLOCKING_RESOURCES_LOADED:600,WEB_PAGE_LOADED:601,JS_TEARDOWN:603,JS_SETUP:604,PREP_STATE:605,PREP_FORMS:606,RUN_FUNCTION:610,LOAD_MODULES:613,VIDEO_READY_TO_PLAY:614,CANCEL_NAVIGATION:615,BEGIN_HANDLE_EVENT:626,END_HANDLE_EVENT:627,BEGIN_PROCESS_EVENT:628,END_PROCESS_EVENT:629,CANCEL_BACKGROUND:630,SC_TRACKER_SETUP_BEGIN:631,SC_TRACKER_SETUP_END:632,PROFILE_TOOLBOX_SETUP_BEGIN:633,PROFILE_TOOLBOX_SETUP_END:634,FEED_TOOLBOX_SETUP_BEGIN:635,FEED_TOOLBOX_SETUP_END:636,SCREEN_PART_RECEIVED:637,RVP_DID_FAIL_AUTOPLAY:638,VIEW_WILL_APPEAR_END:639,VIDEO_RENDERED:640,VIEW_DID_APPEAR_END:641,SHARE_FLOW_LOADED:642,START_DOWNLOAD_FACE_DETECTION_EFFECT:643,APPLY_FACE_DETECTION_EFFECT:644,INTERACTION_SWIPE_UP:645,LOOM_PROVIDER_FAILURE:646,ADS_SELECT_POST_VIEW:647,ADS_SELECT_IMAGE_VIEW:648,ADS_SELECT_BUDGET_VIEW:649,ADS_SELECT_AUDIENCE_VIEW:650,ADS_SELECT_CREATIVE_VIEW:651,VIDEO_FETCH_REQUEST_START:652,VIDEO_FETCH_REQUEST_RECEIVED:653,VIDEO_FETCH_REQUEST_ENTER_NETWORK_QUEUE:654,VIDEO_FETCH_REQUEST_NETWORK_REQUEST_START:655,VIDEO_FETCH_REQUEST_NETWORK_RESPONSE_RECEIVED:656,VIDEO_FETCH_REQUEST_NETWORK_FIRST_BYTE_ARRIVED:657,VIDEO_FETCH_REQUEST_NETWORK_TRANSFER_COMPLETE:658,VIDEO_FETCH_REQUEST_SATISFIED_BY_CACHE:659,VIDEO_FETCH_REQUEST_COMPLETE:660,VIDEO_FETCH_REQUEST_CACHE_CHECK_START:661,VIDEO_FETCH_REQUEST_CACHE_CHECK_END:662,VIDEO_FETCH_REQUEST_DID_ATTACH_TO_NETWORK_REQUEST:663,SELECT_PHOTOS_FAILED_SCORE:664,SELECT_PHOTOS_FAILED_TIMESTAMP:665,INTERACTION_CLICK:666,VIDEO_SCRUBBER_FIRST_THUMBNAIL_SHOWN:667,VIDEO_SCRUBBER_THUMBNAIL_SHOWN:668,COLD_START_BEGIN:669,COLD_START_END:670,COLD_START_LOAD_APP_JS:671,COLD_START_QUERY_SEND:672,COLD_START_APP_SHELL_COMPONENT_DID_MOUNT:673,VIDEO_RECORDING_START_CALLED:674,VIDEO_RECORDING_STOP_CALLED:675,WIKTORK_TEST:676,WIKTORK_TEST_TWO:677,ON_VIDEO_RECORDING_FINISHED:678,MEASURE_IMAGE:679,PDP_RENDER_LOADING:680,PDP_RENDER_FETCHED:681,VIDEO_FETCH_REQUEST_FAILED:682,LOGIN_FLOW_STARTED:683,LOGIN_FLOW_COMPLETED:684,VIDEO_DOWNLOAD_STARTED:685,VIDEO_DOWNLOAD_READY_TO_PLAY:686,VIDEO_DOWNLOAD_FAILED:687,FBLITE_SCREEN_RECEIVED:688,FBLITE_SERVER_START:689,FBLITE_SERVER_END:690,FBLITE_INCOMPLETE:691,BACKGROUND_THREAD:692,MAIN_THREAD:693,BWE_ESTIMATE_COMPLETE:694,WIKTORK_TEST_THREE:695,FBLITE_UNEXPECTED:696,THREAD_ASYNC_BEGIN_SERVER:697,THREAD_ASYNC_SUCCESS_SERVER:698,CARD_ASYNC_BEGIN_SERVER:699,CARD_ASYNC_SUCCESS_SERVER:700,FBLITE_INSTANT_TRANSITION_FAILED:701,BB_TRACE_REQUESTED:702,CANCEL_PSP:703,AGGREGATED:704,UNINSTRUMENTED:705,CANCEL_UNLOAD:706,DOWNLOAD_FAILED:707,UNZIP_FAILED:708,NO_ACTIVE_TRACE:709,LOOM_MMAP_TRACE_NOT_RECOVERED:710,PLUGIN_LOAD_END:711,UNPACKER_CHECK_START:712,PLUGIN_LOAD_START:713,UNPACKER_CHECK_END:714,UNPACKING_END:715,CREATE_UI_MANAGER_MODULE_START:716,CREATE_UI_MANAGER_MODULE_END:717,TEST_NUBBEL:718,CONDITION_NOT_MET:719,FAIL_FALSE_POSITIVE:720,FAIL_FALSE_NEGATIVE:721,APP_CRASH:722,TEST_GINDI:723,TTTT:724,BUG_BASH_ACTION:725,BUG_BASH_TEST:726,INIT_MOBILE_CONFIG:727,SUCCESS_WITH_VC_DISABLED:1008,DELETE_RECORD:1115,NORMAL_SEARCH_LEAVE:1171,UPLOAD_FILE_CANCELLED:1428,SAVE_RECORD:1492,SUCCESS_TEST:1902,APP_EXIT:2001,CREATE_ATTACHMENT:2266,NEW_RECORD_FAILED:2394,START_SEND_MAILBOX_CALL:2414,TOGGLE_MODE:3077,FILE_WRITER_ERROR:3270,SKIP:3376,ACQUIRED:3377,PHILLIP_TEST_ACTION_BLAH:3391,SAVE_RECORD_CANCELLED:3563,NEW_ACCOUNT_CREATED:3599,CURRENCY_CHANGE:3600,SUCCESS_PYTORCH:3653,INITIAL_LOAD:3921,NAVIGATION:3922,CREATE_ATTACHMENT_FAILED:3955,INVALID:4158,CANCEL_ACCOUNT_SWITCH:4340,PAUSED_GROUP:5218,CANNOT_SEE_CHANNEL:5317,DELETED_CHANNEL:5318,DISPLAY_RECORD_FAILED:6050,SAVE_RECORD_FAILED:6087,SET_SOURCE:6596,FRX_FLOW_END:6646,NORMAL_SEARCH:7381,EDIT_RECORD:7420,CREATE_ATTACHMENT_SUCCEEDED:7618,CTWA_REQUEST_NO_WELCOME_MESSAGE:7809,FAIL_VALIDATION:7952,LIGHT_MODE_ENABLED:8101,OPEN_ATTACHMENT_SUCCEEDED:8213,CHANNEL_FULL:8321,UPLOAD_FILE_SUCCEEDED:8511,GENERATE_SHAREABLE_LINK:8759,HORIZON_MM_SERVER_SUCCESS:8765,HORIZON_MM_SERVER_FAIL:8766,SAVE_RECORD_SUCCEEDED:8902,NEW_RECORD_SUCCEEDED:9099,DELETE_RECORD_FAILED:9234,STORY_DELETION_AND_LOAD_SUCCESS:9280,STORY_DELETION_WITH_LOAD_FAIL:9281,UPLOAD_FILE:9473,RESTART:10086,INVALID_ANNOTATE_MISSING_START:10087,INVALID_POINT_MISSING_START:10088,AIS_CTA_CLICK:10126,AIS_CLOSED:10127,AIS_REQUESTED:10128,AIS_IMPRESSION:10129,AIS_DOWNLOAD_SUCCESS:10130,AIS_INSTALL_STARTED:10131,AIS_INSTALL_SUCCESS:10132,AIS_AD_CTA_CLICK:10133,DISPLAY:10283,INVALID_END_MISSING_START:10294,SET_SEARCH_KEYWORD_SUCCEEDED:10326,SET_REGION_SUCCEEDED:10609,NEW_RECORD:10618,ICE_BREAKER_PREVIEW_FAIL:11079,PHILLIP_TEST_FOUR:11103,NEW_RECORD_CANCELLED:11146,TELEMETRY_UNEXPECTED_EVENT:11289,TOGGLE_SEARCH:11313,QPL_END_TO_END:11445,SET_SEARCH_KEYWORD:11787,SET_POWER_SEARCH_FIELD_SUCCEEDED:11893,PROMOTE_AUTH_BUAT_ELIGIBLITY_START:11927,PROMOTE_AUTH_BUAT_ELIGIBLE:11928,PROMOTE_AUTH_BUAT_NOT_ELIGIBLE:11929,PROMOTE_AUTH_FB_ELIGIBLITY_START:11930,PROMOTE_AUTH_BUAT_FETCH_SUCCESS:11931,PROMOTE_AUTH_BUAT_FETCH_FAIL:11932,PROMOTE_AUTH_FB_VALID_THIRD_PARTY_TOKEN_FETCHED:11933,PROMOTE_AUTH_FB_LOGIN_START:11934,PROMOTE_AUTH_FB_LOGIN_SUCCESS:11935,PROMOTE_AUTH_FB_LOGIN_FAIL:11936,PROMOTE_AUTH_SUCCESS:11937,PROMOTE_AUTH_FAIL:11938,SUCCESS_CACHE_NOT_MODIFIED:11947,OPEN__ATTACHMENT:12040,DELETE_RECORD_CONFIRMED:12147,DARK_MODE_ENABLED:12223,SUCCESS_CONTROL:12434,DISPLAY_RECORD:12456,DUMMY:12524,SET_SOURCE_SUCCEEDED:12560,CANCEL_MIXVM_NAVIGATION:12993,PERMISSION_DIALOG_SHOWN:13061,NO_EMAIL_FETCHED:13062,HAVE_EXACTLY_ONE_GMAIL:13063,NUMBER_OF_GMAILS:13064,HAVE_ONE_GMAIL_MATCHED_CP:13065,NO_GMAIL_MATCHED:13066,OAUTH_DIALOG_SHOWN:13067,OAUTH_DIALOG_ACCEPT:13068,OAUTH_DIALOG_DENY:13069,OAUTH_TOKEN_FETCHED:13070,OAUTH_TOKEN_FAILURE:13071,OAUTH_SUCCESS:13072,OAUTH_FAIL_TIMEOUT:13073,OAUTH_FAIL_OTHER:13074,SUCCESS_NOTPRESENTED:13170,REMOVE_ATTACHMENT_CANCELLED:13176,DISPLAY_RECORD_SUCCEEDED:13246,DARK_MODE:13325,SET_REGION:13504,HORIZON_MM_REJECTED:13513,POWER_SEARCH_LEAVE:13551,UPLOAD_FILE_FAILED:13557,LIGHT_MODE:13744,REMOVE_ATTACHMENT:13825,PROCESS_PHOTO:14030,OPEN_ATTACHMENT_FAILED:14290,TOGGELE_SEARCH:14341,LAZAR_TEST:14397,POWER_SEARCH:14472,REMOVE_ATTACHMENT_SUCCEEDED:14513,POWER_SEARCH_ENTERED:14634,PHILLIP_TEST:14768,GENERATE_SHAREABLE_LINK_FAILED:14817,REMOVE_ATTACHMENT_FAILED:15262,SET_POWER_SEARCH_FIELD:15268,GENERATE_SHAREABLE_LINK_SUCCEEDED:15431,DELETE_RECORD_SUCCEEDED:15465,IG_PROMOTE_DEFAULT_AD_ACCOUNT_NULL:15469,IG_PROMOTE_DEFAULT_AD_ACCOUNT_NON_NULL:15470,DISPLAY_RECORD_COLLAPSED:15554,LAZAR_TEST_A:15579,OPEN_ATTACHMENT:15957,NORMAL_SEARCH_ENTERED:15969,REMOVE_ATTACHMENT_CONFIRMED:16034,LAZAR_TEST_B:16208,DELETE_RECORD_CANCELLED:16296,TEST_ACTION_FOR_CALLER_CONTEXT_TWO:29998,GINANDI_TEST:32339});f["default"]=a}),66);
__d("LS",["FBLogger","I64","LSDbKeyComparer","LSDict","LSIterationHelpers","LSJson","LSLogHistory","ODS","Promise","asyncToGeneratorRuntime","base64-js","bs_caml_int64","cr:3109","emptyFunction","gkx","justknobx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}var l="LS_WEB",m=typeof window!=="undefined"?window:self;function n(a){return a.name.match(/secure_|inbox(?!_)/i)}var o=babelHelpers["extends"]({},c("bs_caml_int64"),{cast:function(a){return a},eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&d("I64").equal(a,b)},from_string:function(a){try{return d("I64").of_string(a)}catch(b){throw c("unrecoverableViolation")('Unable to cast "'+a+'" to int64',"messenger_comet")}},ge:d("I64").ge,gt:d("I64").gt,le:d("I64").le,lt:d("I64").lt,max:d("I64").max,min:d("I64").min,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!d("I64").equal(a,b)},random:function(){var b=a.crypto||a.msCrypto;b=Array.from(b.getRandomValues(new Uint32Array(2)));b[0]>>>=1;return b},to_int32:function(a){return a==null?a:c("bs_caml_int64").to_int32(a)},to_string:function(a){return a==null?a:d("I64").to_string(a)}});function p(a){return c("base64-js").toByteArray(a).buffer}var q={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return q.compareTo(a,b)>=0},gt:function(a,b){return q.compareTo(a,b)>0},le:function(a,b){return q.compareTo(a,b)<=0},lt:function(a,b){return q.compareTo(a,b)<0},neq:function(a,b){return!q.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new TextEncoder();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new TextDecoder();return b.decode(a)}};function r(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return d("I64").asI64([a>>>1^-(b&1),((b>>>1)+(a&1)*2147483648^-(b&1))>>>0])}function s(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function t(a,b,c){var e=a.table(b.name);return{add:function(a){return e.add(a)},fetch:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"asc",b,c,e,s)},fetchDesc:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"desc",b,c,e,s)},peekNextAutoIncrementId:function(){return e.peekNextAutoIncrementId()},put:function(a){return e.deleteThenInsert(a)}}}function u(a,b,d,e){return{table:function(f){f=d.tableIds[f];if(b===0&&n(f))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return t(a,f,e)}}}function v(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var w=function(){var a=0;function d(d){var e=d.shouldLog;d=d.sprocName;if(!e||!b("cr:3109"))return;e=++a;b("cr:3109").markerStart(c("qpl")._(25302991,"143"),e);b("cr:3109").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:3109")==null?void 0:b("cr:3109").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("5983")?Math.random()*c("justknobx")._("951")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function x(a,b,c){b=d("I64").to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function y(a,b,c){b=d("I64").to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function z(a,e,f,g,n,t,A,B){A===void 0&&(A={});B===void 0&&(B=void 0);var C=u(t,a,e,A),D=[];return{Map:c("LSDict"),blob:p,blobs:q,constructor:{n:r},createArray:function(){return Object.defineProperty([],"tag",{value:"ls-array"})},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Object.defineProperty(b,"tag",{value:"ls-array"})},ct:d("LSIterationHelpers").count,db:C,fe:d("LSIterationHelpers").forEach,ftr:d("LSIterationHelpers").filter,gb:d("LSIterationHelpers").groupBy,i64:o,islc:d("LSIterationHelpers").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return x.apply(void 0,[g].concat(b))},localizeAsync:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("Promise").resolve(x.apply(void 0,[g].concat(c)))},localizeV2:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return y.apply(void 0,[n].concat(b))},localizeV2Async:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("Promise").resolve(y.apply(void 0,[n].concat(c)))},logger:function(a){if(B)return{debug:B,info:B,mustfix:B,warn:B};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){d("LSLogHistory").log(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";d("ODS").bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return d("LSLogHistory").log(a,"debug")},info:function(a){return d("LSLogHistory").log(a,"log")},mustfix:a,warn:a}}else{c("gkx")("2999")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,c){function d(e){var f;return o.lt(e,a)?c(e).then(function(){return d(o.add(e,r(k())))}):((f=m.Promise)!=null?f:b("Promise")).resolve()}return d(r(j()))},loopSync:function(a,b){for(var c=r(i());o.lt(c,a);c=o.add(c,r(h())))b(c)},merge:function(){function a(a,b){return d("LSDbKeyComparer").compareValue(a,b)>0?a:b}function b(a,b){return d("LSDbKeyComparer").compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=s(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers["extends"]({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:r,nop:function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d;if(typeof b==="string"){d=f[b+".bs"];if(d==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");d.load&&(d=(yield d.load()));d=d}else d=b;try{for(var e=arguments.length,g=new Array(e>1?e-1:0),h=1;h<e;h++)g[h-1]=arguments[h];return d.apply(void 0,[t,a].concat(g))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(l,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}});function e(a){return d.apply(this,arguments)}return e}(),notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,d){var e;if(typeof d==="string"){e=f[d.toString()];if(e==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+d,"messenger_web_product");e.load&&(e=(yield e.load()));e=e.call}else e=d.call;for(var g=arguments.length,h=new Array(g>2?g-2:0),i=2;i<g;i++)h[i-2]=arguments[i];return e.apply(void 0,[t,a].concat(h))});function e(a,b){return d.apply(this,arguments)}return e}(),print:function(a){},resolve:function(a){var c;return((c=m.Promise)!=null?c:b("Promise")).resolve(a)},rm:o.of_int32(a),sb:d("LSIterationHelpers").sortBy,seq:function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},slc:function(a,b){return Array.prototype.slice.call(a,b)},sp:function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d;if(typeof b==="string"){d=f[b];if(d==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+b,"messenger_web_product");d.load&&(d=(yield d.load()))}else d=b;var h=this;switch(a){case 0:h=z(2,e,f,g,n,t,A,B);break;case 2:h=z(1,e,f,g,n,t,A,B);break}var i=v(d),j=w.shouldLogSproc(i),k={shouldLog:j,sprocName:i};D.push(b);var m;try{m=w.call(k);for(var o=arguments.length,p=new Array(o>1?o-1:0),q=1;q<o;q++)p[q-1]=arguments[q];var r=(yield d.apply(void 0,p.concat([h])));w.logSprocDone(k,m,2);return r}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(l,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",b);w.logSprocDone(k,m,3);throw a}finally{D.pop()}});function h(a){return d.apply(this,arguments)}return h}(),ta:d("LSIterationHelpers").toArray,"throw":function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toJSON:function(a){return d("LSJson").stringify(a)}}}z.n=r;g["default"]=z}),98);
__d("LSStaticDependencies",["LSDeleteThenInsertContact","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSRemoveTask","LSSetRegionHint","LSTaskExists","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertSequenceId","LSVerifyContactRowExists","cr:2326","cr:2327","cr:2335","cr:2336","cr:2341","cr:2342","cr:2470","cr:2585","cr:2674","cr:2949","cr:3087","cr:3093"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),removeTask:c("LSRemoveTask"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertSequenceId:c("LSUpsertSequenceId"),verifyContactRowExists:c("LSVerifyContactRowExists")},b("cr:3093")?{upsertTheme:b("cr:3093")}:{},b("cr:3087")?{upsertGradientColor:b("cr:3087")}:{},b("cr:2336")?{deleteThenInsertMessageRequest:b("cr:2336")}:{},b("cr:2585")?{roomTruncate:b("cr:2585")}:{},b("cr:2674")?{truncateCommunityListTable:b("cr:2674")}:{},b("cr:2327")?{deleteAllCommunityFolders:b("cr:2327")}:{},b("cr:2470")?{populateCommunityFolderData:b("cr:2470")}:{},b("cr:2335")?{deleteThenInsertCmCommunityList:b("cr:2335")}:{},b("cr:2326")?{deleteAllCommunityChannelCategories:b("cr:2326")}:{},b("cr:2949")?{truncateNotificationSettings:b("cr:2949")}:{},b("cr:2341")?{deleteThenInsertNotificationsSettingsGraphQLSnapshot:b("cr:2341")}:{},b("cr:2342")?{groupRoomTruncate:b("cr:2342")}:{});g.staticCachedModules=a}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules);function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!(e in h)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return b("Promise").resolve();var f=new(b("Promise"))(function(a){var e={},g=[],j=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);h[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return h[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var k of d)j(k);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});i(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];h[d]=b[c]}),a()})});return f}function i(a,b,c){a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function j(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){a in h||f.set(a,"LS"+j(a))}for(d of(a=d)!=null?a:[]){a=d+".bs";a in h||f.set(a,"LS"+j(d)+".nop")}for(d of(a=e)!=null?a:[]){d in h||f.set(d,"LS"+j(d))}if(f.size===0)return b("Promise").resolve();var g=new(b("Promise"))(function(a){var d={},e=[],j=function(a){var c=a[0];a=a[1];d[a]={be:1,r:[]};e.push(a);h[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return h[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var k of f)j(k);c("Bootloader").handlePayload({compMap:d,consistency:{rev:c("SiteData").client_revision}});i(c("Bootloader"),e,function(b){Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];h[d]=b[c]}),a()})});return g}g.cachedModules=h;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSStorage",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e];return a.reduceRight(function(a,b){if(d[b]!==void 0||e!=null)return{hd:d[b],tl:a};throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function b(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}g.searchKey=a;g.areKeysEqual=b}),98);
__d("MWTabNotifierWhenPDBEnabled",["cr:3107"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3107")}),98);
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("nullthrows")(d("I64").cast(a))}g.cast=a}),98);
__d("LSTableDefaults",["I64MigrationHelper"],(function(a,b,c,d,e,f){e.exports={sync_groups:{syncStatus:(a=b("I64MigrationHelper")).cast([0,0]),sendSyncParams:!1,minTimeToSyncTimestampMs:a.cast([0,0]),canIgnoreTimestamp:!1,priority:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),lastSyncCompletedTimestampMs:a.cast([0,0]),syncChannel:a.cast([0,1])},pending_tasks:{enqueueTimestampMs:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0])},pending_fire_and_forget_tasks:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},contacts:{isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.cast([0,0]),rank:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),canViewerMessage:!0,gender:a.cast([0,0]),authorityLevel:a.cast([0,0]),optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),isEmployee:!1},ig_contact_info:{e2eeEligibility:a.cast([0,0])},reactions:{timestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0])},threads:{lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),isAdminSnippet:!1,ongoingCallState:a.cast([0,0]),snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.cast([0,0]),isCustomThreadPicture:!1,isDisappearingMode:!1,unreadDisappearingMessageCount:a.cast([0,0]),authorityLevel:a.cast([0,0]),capabilities2:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),unsendLimitMs:a.cast([0,0]),threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),capabilities3:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0])},threads_ranges_v2__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},messages:{timestampMs:a.cast([0,0]),primarySortKey:a.cast([0,0]),secondarySortKey:a.cast([0,0]),isAdminMessage:!1,sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),isUnsent:!1,replyStatus:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),quickReplyType:a.cast([0,0]),authorityLevel:a.cast([0,0]),unsentTimestampMs:a.cast([0,0]),isCollapsed:!1,messageRenderingType:a.cast([0,0])},messages_ranges_v2__generated:{isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},participants:{readWatermarkTimestampMs:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),threadRoles:a.cast([0,0])},attachments:{timestampMs:a.cast([0,0]),attachmentType:a.cast([0,0]),hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.cast([0,0]),authorityLevel:a.cast([0,0])},attachments_ranges_v2__generated:{mediaGroup:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},attachment_items:{attachmentIndex:a.cast([0,0])},group_membership_approval_requests:{authorityLevel:a.cast([0,0])},admin_message_ctas:{timestampMs:a.cast([0,0]),showAdChoiceIcon:!1},thread_nullstate:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},messages_status:{timestampMs:a.cast([0,0])},polls:{pollType:a.cast([0,0])},poll_options_v2:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},filtered_threads_ranges_v3__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:"inbox",secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},community_folders:{capabilities:a.cast([0,0]),notificationMutedUntil:a.cast([0,0]),inviteStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0])},community_members:{source:a.cast([0,0]),adminActions:a.cast([0,0]),contactCapabilities:a.cast([0,0]),channelBadges:a.cast([0,0]),threadRoles:a.cast([0,0]),requestId:""},inbox_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_direct_invites_presets:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},sync_group_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_chat_polls:{pollType:a.cast([0,0])},community_chat_poll_options:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},reactions_v2:{viewerReactionTimestampMs:a.cast([0,0]),lastUpdatedTimestampMs:a.cast([0,0])},group_invitations_pending:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},thread_label_mappings:{sortKey:a.cast([0,0])},inbox_view_state:{value:""},inbox_view_state_v2:{value:""},discoverable_chat_participants:{source:a.cast([0,0])},roll_calls:{viewerHasContributed:!1,viewerCanEditPrompt:!1,isBlurred:!1},roll_call_contributions_v2:{contributorId:a.cast([0,0]),contributionSource:a.cast([0,0])},universal_search_recent_searches:{lastAccessedTimestampMs:a.cast([0,0])},contact_upload_settings:{authorityLevel:a.cast([0,0])},presence_settings:{isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},video_chat_links_joining:{canAnonymousUsersJoin:a.cast([0,0])},notification_settings:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},avatar_settings:{enableAvatarHotlike:!1},rtc_call_events:{isProcessed:!1},transaction_history:{timestampMs:a.cast([0,0])},thread_themes:{isDeprecated:!1},ranking_scores:{score:a.cast([0,0]),scoreIndex:a.cast([0,0])},story_buckets:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},stories:{authorityLevel:a.cast([0,0])},story_viewers:{interactionType:a.cast([0,1]),authorityLevel:a.cast([0,0])},story_reactions:{authorityLevel:a.cast([0,0])},story_ad_unit:{shouldShowAdChoice:!1},story_overlays:{authorityLevel:a.cast([0,0])},rooms:{notificationMutedUntilMs:a.cast([0,0])},media_staging:{progress:a.cast([0,0])},client_messages:{textSize:a.cast([0,0]),sendStatus:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isReplyOnly:!1,messageContentType:a.cast([0,0]),messageContentSubtype:a.cast([0,0]),messageSource:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),replyStatus:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),isForwarded:!1,isReadonly:!1,disabledActionsReason:a.cast([0,0]),shouldPersist:!1,shouldHideInSnippet:!1},client_participants:{isPending:!1,capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),readActionTsMs:a.cast([0,0])},client_threads:{isAdminSnippet:!1,isHotlikeSnippet:!1,groupMemberAddMode:a.cast([0,0]),capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isPending:!1,isShadowThread:!1,pinnedMessagesCount:a.cast([0,0])},data_trace_meta:{initTimestampMs:a.cast([0,0]),foregroundTimestampMs:a.cast([0,0]),traceType:a.cast([0,0]),shouldFlush:!1},data_trace_addon:{timestampMs:a.cast([0,0])},secure_encrypted_backups_client_state:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},secure_encrypted_backups_epochs:{authorityLevel:a.cast([0,0])},encrypted_backups:{authorityLevel:a.cast([0,0])},secure_encrypted_backups_generated_recovery_code:{virtualDeviceType:a.cast([0,1])},encrypted_backups_virtual_devices:{virtualDeviceType:a.cast([0,1]),removalStatus:a.cast([0,1])},encrypted_backups_metadata:{authorityLevel:a.cast([0,0])},cutover_threads:{isMigrated:!1,showOpenMessageHistory:!1},persistent_menu_ctas:{ctaType:"fallback"}}}),null);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";e="_db_schema_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d;g.schemaVersionTableName=e}),98);
__d("ReStoreUtils",["LSTableDefaults","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],c=(yield a.next());while(!c.done)b.push(c.value),c=(yield a.next());return b});return h.apply(this,arguments)}function d(a,b){var d=c("LSTableDefaults")[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers["extends"]({},a))}g.collectIterator=a;g.appendDefaultValues=d}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","LSTableDefaults","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield h(a,b));b={};for(d in d.tableNames){var e=c("LSTableDefaults")[d];if(e!=null)for(var f in e){var g;g=(g=a[d])==null?void 0:g.has(f);if(!g){b[d]=(g=b[d])!=null?g:{};b[d][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(b in b){var e=Object.keys(c("LSTableDefaults")[b]||{});e={columns:e,tableName:b};yield a.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var e=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(c,a,b));try{for(var f in b){var g=a.table(f).entries(c),h=(yield g.next());while(!h.done){var i=babelHelpers["extends"]({},h.value[1]);i=d("ReStoreUtils").appendDefaultValues(i,f);yield a.table(f).put(i);h=(yield g.next())}}yield l(a,b);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){e(a,"setDefaultValues")}}catch(a){e(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string",tableName:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"?null:{data:e,indexName:a.indexName,tableName:a.tableName}}function b(a,b){if(a==null)return!0;if(a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function d(a){return{indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName}}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreIndexMetadata").indicesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]={index:e.data,key:b}}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j=f.indexes[g];i=(i=a[e])==null?void 0:i[g];if(d("ReStoreIndexMetadata").indicesDiffer(i==null?void 0:i.index,j)){b[e]=(i=b[e])!=null?i:{};b[e][g]=j}}}i={};for(j in a){g=a[j];for(f in g){var k;e=g[f];k=(k=c.tableNames[j])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){i[j]=(k=i[j])!=null?k:{};i[j][f]=e}}}return{toRemove:i,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f];g={data:g,indexName:f,tableName:c};yield a.table(d("ReStoreIndexMetadata").indicesTableName).put(d("ReStoreIndexMetadata").indexDataToValue(g))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f].key;yield a.table(d("ReStoreIndexMetadata").indicesTableName)["delete"](g)}}});return o.apply(this,arguments)}function a(a,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(f,a,c).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.toRemove;b=b.toUpdate;var g=Array.from(new Set([].concat(Object.keys(b),Object.keys(f))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:g.length},string_array:{index_migration_rebuilt_tables:g}});for(g of g)if(c.tableNames[g]!=null){var h;h=Array.from(new Set([].concat(Object.keys((h=b[g])!=null?h:{}),Object.keys((h=f[g])!=null?h:{}))));yield e(g,h)}yield l(a,b);yield n(a,f);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return f.apply(this,arguments)}}(),function(a){return g(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStorePersistence",["FBLogger","PromiseOrValue","asyncToGeneratorRuntime","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h={SENTINEL_DELETED:1};function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function j(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=Array.isArray(e)?[].concat(e):e;return a}function k(a,b){b===void 0&&(b=h);return a===b}function a(a){var e;return{clearCache:a.clearCache,close:a.close,createTransaction:function(e){var f=new Map(),g=!1;function l(){if(g)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}return{close:function(){g=!0},flush:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b===void 0&&(b={upgrade:!1}),yield a.flush(f,b),g=!0});function d(a){return c.apply(this,arguments)}return d}(),table:function(b){function g(c,d){l();var f=n.get(d);if(k(f))return void 0;return f!==void 0?f:a.get(c,b,d,e)}function m(c,f){return d("PromiseOrValue").map(g(c,f),function(c){if(c===void 0){var d=n.get(f);a.logError==null?void 0:a.logError(b,e,"dbCorruption",{deletedInThisTxn:k(d)?"true":"false",id:JSON.stringify(f)||""})}return c})}var n=i(f,b,function(){return new Map()});function o(a,b){return{read:function*(b){b=g(a,b);return c("isPromise")(b)?yield b:b},readExn:function*(b){b=m(a,b);return c("isPromise")(b)?yield b:b},readHeader:function*(){var d=g(a,b);return c("isPromise")(d)?yield d:d},remove:function*(a){l(),n.set(a,h)},removeHeader:function*(){l(),n.set(b,h)},write:function*(a,b){l(),n.set(a,b)},writeHeader:function*(a){l(),n.set(b,a)},writeNew:function*(b){var e=d("PromiseOrValue").map(g(a,"nextId"),function(a){a===void 0&&(a=0);n.set("nextId",a+1);n.set(a,b);return a});return c("isPromise")(e)?yield e:e}}}return{getBPlusTreeStore:o,incrementSeed:function(a,b){return d("PromiseOrValue").map(g(a,"seed"),function(a){a===void 0&&(a=0);n.set("seed",Math.max(a,b||0)+1);return b===void 0?a:b})},readData:function*(a,b){a=g(a,b);return c("isPromise")(a)?yield a:a},readDataExn:function*(a,b){a=m(a,b);return c("isPromise")(a)?yield a:a},readSeed:function(a){return d("PromiseOrValue").map(g(a,"seed"),function(a){a===void 0&&(a=0);return a})},remove:function(a,b){l(),n.set(b,h)},writeData:function(a,b,c){l(),n.set(b,j(c))},writeNewData:function(a,b){return d("PromiseOrValue").map(g(a,"nextId"),function(a){a===void 0&&(a=0);n.set("nextId",a+1);n.set(a,j(b));return a})}}},types:a.types}},logError:a.logError,queueCommitWork:(e=a.queueCommitWork)!=null?e:function(a){return a()},runExclusively:a.runExclusively}}g.sentinelDeleted=h;g.isDeletedValue=k;g.createDbStore=a}),98);
__d("ReStoreTransactionLock",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.waitFor=null;a!=null&&(this.waitFor=a.then(function(a){return b.waitFor=null}))}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();b=function(){function a(){this.lock=null}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this,d=this.lock;if(d==null){var e=a("\ud83d\udd12");if(c("isPromise")(e))d=e;else return e}else d=d.then(function(){return a("\ud83d\udd12")});var f=d.then(function(a){b.lock===f&&(b.lock=null);return a})["finally"](function(a){b.lock===f&&(b.lock=null);return a});this.lock=f;return f};return a}();g.WaitForPromiseLock=a;g.ReStoreTransactionLock=b}),98);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* i(a){var f=a,h={hd:d("LSDbKeyComparer").MAX_KEY,tl:0},i=0;while(f!==0&&e.size){i++;var j=f,k=f.tl;f.tl=i<b?h:0;try{var l=e.get(JSON.stringify(a));if(l!=null)for(l of l)yield l}finally{j.tl=k}f=j.tl}for(l of c.entries()){k=l[0];j=l[1];c.has(k)&&g(a,j)&&(yield k)}}function j(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=h(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function k(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify(d("ReQLBounds").nextKey(a.gte,b)))===JSON.stringify(a.lte)){var i=e.get(h);i==null&&(i=new Set(),e.set(h,i));i.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":j,findIntersecting:i,set:k}}g["default"]=a}),98);
__d("killswitchMessengerWebPersistedDB",["killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("killswitch")("MESSENGER_WEB_PERSISTED_DB")}g.check=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","LSDatabaseProviderType","LSDbKeyComparer","LSStorage","MWTabNotifierWhenPDBEnabled","Promise","asyncToGeneratorRuntime","killswitchMessengerWebPersistedDB","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f){var g=d("LSDatabaseProviderType").hasPersistentType(f),h=new Map(),i=new Map();function j(a,b){return d("LSDbKeyComparer").compareValue(a,b)===0}function k(a,b,c,d){a=(a=u.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g>0;h++){if(g&1){var i=a[(f<<5)+h];if(!j(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function l(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function m(a,c,d,e,f){var g=Array.from(c(e));if(f.operation==="put"&&f.prevValue!=null){c=function(){var c=f.prevValue,h=[];for(var i of g){i[0];var j=i[1];j!=null&&j.forEach(function(a,b){h[b]=((b=h[b])!=null?b:0)|a})}var m=k(a,h,c,f.value);return{v:b("Promise").all(g.map(function(a){var b=a[0];a=a[1];if(a==null||l(m,a))return b(e,f,d)}))}}();if(typeof c==="object")return c.v}return b("Promise").all(g.map(function(a){var b=a[0];a[1];return b(e,f,d)}))}function n(b){return c("nullthrows")((h.has(b)?h:h.set(b,[c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function o(b,e){var f=n(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].indexes[e].length))).get(e))}function p(e,f,g,h,i,j){var k=function(a,b){return m(f,e.findIntersecting,j,a,b)},l=g==null?void 0:d("LSStorage").searchKey(a,f,g,i),n=h==null?void 0:d("LSStorage").searchKey(a,f,h,i);if(n==null&&l!=null)return k(l,{operation:"delete",prevValue:g});if(l==null&&n!=null)return k(n,{operation:"add",value:c("nullthrows")(h)});return l!=null&&n!=null?d("LSDbKeyComparer").compareKey(l,n)===0?k(l,{operation:"put",prevValue:g,value:c("nullthrows")(h)}):k(l,{operation:"delete",prevValue:g}).then(function(){return k(n,{operation:"add",value:c("nullthrows")(h)})}):b("Promise").resolve()}function q(a,c,d,e){var f=n(a),g=f[0],h=f[1];return p(g,a,c,d,null,e).then(function(){return b("Promise").all(Array.from(h.entries()).map(function(b){var f=b[0];b=b[1];return p(b,a,c,d,f,e)}).filter(function(a){return a!=null}))})}function r(){i.forEach(function(a){return a()})}function s(a,b){function f(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];g=JSON.parse(g);var i=g[0];g[1];if(e(b,i)){g=d.get(i)||[];d.set(i,[].concat(g,[h]))}}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if(c("ExecutionEnvironment").isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&c("MWTabNotifierWhenPDBEnabled")!=null&&g)){f=f();if(f.length===0)return;c("MWTabNotifierWhenPDBEnabled").postMessage(b,f)}}c("ExecutionEnvironment").isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&c("MWTabNotifierWhenPDBEnabled")!=null&&g&&c("MWTabNotifierWhenPDBEnabled").onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap();for(var c of a){var d=c[0],e=c[1];for(e of e){var f=e[0],g=e[1];yield q(d,f,g,b)}}r()})())}));var t=new Map(),u=new Map();function v(a,b){if(b==null)return null;var c=t.get(a);c==null&&(c=new Map(),t.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=u.get(a);f==null&&(f=[],u.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){h.clear(),i.clear()},notifyCommit:r,notifyTableAndIndexSubscribers:q,notifyTableV2:s,subscribeIndex:function(a,c,d,e,f){var g=o(a,c),h=!1;c=function(a,c,e){return h?b("Promise").resolve():d(a,c,e)};var i=[c,v(a,f)];g.set(e,i);return function(){h=!0,g["delete"](i)}},subscribeTable:function(a,c,d,e){var f=n(a),g=f[0],h=!1;f=function(a,d,e){return h?b("Promise").resolve():c(a,d,e)};var i=[f,v(a,e)];g.set(d,i);return function(){h=!0,g["delete"](i)}},subscribeToCommit:function(a){i.set(a,a);return function(){i["delete"](a)}}}}g["default"]=a}),98);
__d("ReStore",["BPlusTreeBase","ExecutionEnvironment","FBLogger","I64","LSDatabaseProviderType","LSDbKeyComparer","LSPlatformLsInitLog","LSStorage","MWTabNotifierWhenPDBEnabled","MetaConfig","Promise","PromiseOrValue","ReStoreDefaultValueMigration","ReStoreDefaultValuesMetadata","ReStoreIndicesMigration","ReStorePersistence","ReStoreTransactionLock","ReStoreUtils","asyncToGeneratorRuntime","clearTimeout","cr:1088","cr:1242","createReStoreSubscriptionManager","err","hashString","isPromise","killswitchMessengerWebPersistedDB","promiseDone","setImmediate","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"Transaction has finished")||this}return b}(babelHelpers.wrapNativeSuper(Error));function h(a){a=d("I64").cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return d("I64").to_float(a)}function i(a,b){function d(b){if(b.done)return b.value;if(!c("isPromise")(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function j(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return a.next(b,c)})}}}function k(a,b,e){return c("BPlusTreeBase")(d("LSDbKeyComparer").compareKey,16,b.getBPlusTreeStore(a,e==null?"root":"index("+e+")"))}function l(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e,f){f===void 0&&(f=[]);var g=f.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),n=f.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),o=f.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),p=f.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),q=d("ReStorePersistence").createDbStore(a),r=c("createReStoreSubscriptionManager")(e,a.shouldSync,a.types),s=b("LSStorage").searchKey.bind(null,e),t={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},u=c("hashString")(JSON.stringify(e));d("LSPlatformLsInitLog").addAnnotations({"int":{schemaVersion:u}});d("LSPlatformLsInitLog").addPoint("migration_start");var v=new(d("ReStoreTransactionLock").WaitForPromiseLock)(q.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("migration_execute_start");var a=new Map(),f=q.createTransaction("readwrite"),g=Z(f,a),h="schema_version";if(c("MetaConfig")._("59")){var i;i=(i=(yield b("Promise").resolve(f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),h).next().value)))==null?void 0:i.schemaVersion;i!=null&&d("LSPlatformLsInitLog").addAnnotations({"int":{storeSchemaVersion:i}});if(i===u){f.close();d("LSPlatformLsInitLog").addPoint("migration_skipped");return}}try{yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(g,e),yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(g,e,function(b,c){return new(d("ReStoreTransactionLock").ReStoreTransactionLock)().chainPromiseOrValue(function(d){return aa(a,f,new WeakMap(),b,c,d)})}),d("LSPlatformLsInitLog").addPoint("migration_execute_end"),c("MetaConfig")._("59")&&f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),h,{schemaVersion:u}),yield f.flush({upgrade:!0})}catch(a){f.close();throw a}d("LSPlatformLsInitLog").addPoint("migration_end")}))),w=new Map();function x(a,b,c){return!b||a<=0?c:{hd:b.hd,tl:a===1?0:x(a-1,b.tl,c)}}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var d=new WeakMap();yield q.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new Map(),e=q.createTransaction("readwrite");b=Z(e,b);for(var f of c){var g=f[0],h=f[1];if(h==null){var i=s(a,g);yield b.table(a)["delete"](i)}else yield b.table(a).put(h);yield r.notifyTableAndIndexSubscribers(a,g,h,d)}try{yield e.flush({upgrade:!0})}catch(a){e.close();throw a}}))});return z.apply(this,arguments)}function A(a,b){if(a==null)return void 0;a=babelHelpers["extends"]({},a);a.gt!=null&&(a.gt=x(b,a.gt,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0}));a.lte!=null&&(a.lte=x(b,a.lte,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0}));return a}function B(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}function C(a,b,c,d,e,f){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){f=a.table(c);a=k(b,f,d);d=(yield i(a.getWithDefault(e,void 0)));if(d===void 0)return void 0;a=(yield i(f.readDataExn(b,d)));return o({tableName:c,value:a})});return D.apply(this,arguments)}function E(a,b,c,d,e,f){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){a=(yield C(a,b,c,d,e,f));return a===void 0?void 0:s(c,a)});return F.apply(this,arguments)}function G(a,b,c,f,g,h){function j(){var m=a.table(c),n=k(b,m,f),l=n.entries(babelHelpers["extends"]({},A(h,(f===void 0?e.tableNames[c].primaryKeyIds:e.tableNames[c].indexes[f]).length),{dir:g}));return n={next:function(a,e){return d("PromiseOrValue").map(i(l.next(e)),function(a){return a.done?{done:!0}:d("PromiseOrValue").map(i(m.readDataExn(b,a.value[1])),function(b){return{done:!1,value:[a.value[0],p({tableName:c,value:b})]}})})}},n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=j,n}return j()}function H(a,b,c,d,e,f,g){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,f,g,h,i){function j(a,b){var c=[],e=a;while(e!==0)c.push(e.hd),e=e.tl;return c.length>=b?a:c.reduceRight(function(a,b){return{hd:b,tl:a}},{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})}if(h!=null&&d("LSDbKeyComparer").compareKey(g,h)===0)return;f=e.tableNames[f];var k=f.cascadeUpdates,l=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var k=e.tableNames[d],m=k.indexes;k=k.primaryKeyIds;var n=f==null?k:m[f];k={gte:g,lte:j(g,n.length)};m=G(b,c,d,f,"asc",k);f=[];k=(yield m.next(i));while(!k.done)f.push(k.value),k=(yield m.next(i));for(m of f){m[0];k=m[1];f=s(d,k);if(h===void 0)yield P(a,b,c,d,f,i),yield H(a,b,c,d,f,void 0,i);else{k=l.reduce(function(a,b,c){b=a[0];a=a[1];if(!a)return[b,a];b[n[c]]=a.hd;return[b,a.tl]},[babelHelpers["extends"]({},k),h])[0];yield N(a,b,c,d,f,k,i);yield H(a,b,c,d,f,s(d,k),i)}}};for(k of k)yield* f(k)});return I.apply(this,arguments)}function J(a,b,c,d){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g){g=e.tableNames[f].autoIncrement;if(!g)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");g=(yield a.table(f).readSeed(b));if(g===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");return d("I64").of_float(g)});return K.apply(this,arguments)}function L(a,b,c,d,e,f){return M.apply(this,arguments)}function M(){M=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,h,j,l){var m=b.table(h),n=k(f,m),o=e.tableNames[h],p=s(h,j),q={},r=(yield i(n.getWithDefault(p,void 0))),t,u=j;if(r!==void 0)t=(yield i(m.readDataExn(f,r))),q=R(Object.keys(o.indexes),h,t),m.writeData(f,r,g({tableName:h,value:u}));else{if(o.autoIncrement)throw c("unrecoverableViolation")("Id must not be specified for new record when table has an autoincrementing primary key","messenger_web_product");u=d("ReStoreUtils").appendDefaultValues(j,o.name);r=(yield m.writeNewData(f,g({tableName:h,value:u})));yield i(n.set(p,r))}j=R(Object.keys(o.indexes),h,u);for(n of Object.keys(j))q[n]!==void 0&&d("LSDbKeyComparer").compareKey(q[n],j[n])===0&&(delete j[n],delete q[n]);yield S(a,b,f,h,j,l);yield U(b,f,h,r,j);for(o of Object.keys(q)){n=k(f,m,o);yield i(n["delete"](q[o]))}B(a,h,p,t,u)});return M.apply(this,arguments)}function N(a,b,c,d,e,f,g){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h){var i=s(e,g);d("LSStorage").areKeysEqual(f,i)||(yield P(a,b,c,e,f,h));yield L(a,b,c,e,g,h)});return O.apply(this,arguments)}function P(a,b,c,d,e,f){return Q.apply(this,arguments)}function Q(){Q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,f,g){g=b.table(d);b=k(c,g);var h=e.tableNames[d],j=(yield i(b.getWithDefault(f,void 0))),l;if(j!==void 0){l=(yield i(g.readDataExn(c,j)));if(Object.keys(h.indexes).length)for(h of Object.keys(h.indexes)){var m=s(d,l,h);if(m!=null){var n=k(c,g,h);yield i(n["delete"](m))}}yield i(b["delete"](f));g.remove(c,j);B(a,d,f,l,void 0)}});return Q.apply(this,arguments)}function R(a,b,c){return a.reduce(function(a,d){var e=s(b,c,d);a[d]=e;return a},{})}function S(a,b,c,d,e,f){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){var g=b.table(d),h=new Set();for(var j of Object.keys(e)){var l=k(c,g,j),m=e[j];l=(yield i(l.getWithDefault(m)));if(l!=null&&!h.has(l)){m=s(d,yield i(g.readDataExn(c,l)));yield P(a,b,c,d,m,f);yield H(a,b,c,d,m,void 0,f);h.add(l)}}});return T.apply(this,arguments)}function U(a,b,c,d,e){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=k(b,a,c),g=e[c];yield i(f.set(g,d))}});return V.apply(this,arguments)}function W(a,b,c,d,e,f){return X.apply(this,arguments)}function X(){X=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,f,g,j){var l=b.table(f),m=k(c,l),o=e.tableNames[f];if(o.autoIncrement){var p=g[e.tableNames[f].primaryKeyIds[0]];p=d("I64").of_float(yield l.incrementSeed(c,p===void 0?p:h(p)));g[e.tableNames[f].primaryKeyIds[0]]=p}p=d("ReStoreUtils").appendDefaultValues(g,o.name);g=s(f,p);if(g==null)throw new Error("Evaluating the object store's key path did not yield a value");if(!(yield i(m.has(g)))){o=R(Object.keys(o.indexes),f,p);yield S(a,b,c,f,o,j);j=(yield l.writeNewData(c,n({tableName:f,value:p})));yield i(m.set(g,j));yield U(b,c,f,j,o);B(a,f,g,void 0,p)}});return X.apply(this,arguments)}function aa(a,b,c,d,e,f){return Y.apply(this,arguments)}function Y(){Y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,f,g){var h=b.table(d),j=f.map(function(a){return k(c,h,a)});for(j of j)yield i(j.clear());j=f.filter(function(a){var b;return((b=e.tableNames[d])==null?void 0:b.indexes[a])!=null});if(j.length===0)return;f=k(c,h);var l=G(b,c,d,void 0,"asc",void 0),m=[],n=(yield l.next(g));while(!n.done)m.push(n.value),n=(yield l.next(g));for(l of m){n=l[0];m=l[1];m=R(j,d,m);yield S(a,b,c,d,m,g);n=(yield i(f.get(n)));yield U(b,c,d,n,m)}});return Y.apply(this,arguments)}function Z(a,c,f){var g=new(d("ReStoreTransactionLock").ReStoreTransactionLock)(),h=new WeakMap(),i=f==null?void 0:f.instanceKey;return{table:function(f){return{add:function(d){return g.chainPromiseOrValue(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),yield W(c,a,h,f,d,e)});return function(a){return e.apply(this,arguments)}}())},"delete":function(d){return g.chainPromiseOrValue(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),yield P(c,a,h,f,d,e),yield H(c,a,h,f,d,void 0,e)});return function(a){return e.apply(this,arguments)}}())},deleteThenInsert:function(e){return g.chainPromiseOrValue(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(g){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i);var j=d("ReStoreUtils").appendDefaultValues(e,f);yield L(c,a,h,f,j,g);yield H(c,a,h,f,s(f,j),void 0,g)});return function(a){return g.apply(this,arguments)}}())},entries:function(b,c,d){c===void 0&&(c="asc");return j(G(a,h,f,void 0,c,d),g)},get:function(b){return g.chainPromiseOrValue(function(c){return C(a,h,f,void 0,b,c)})},index:function(b){return{entries:function(c,d,e){d===void 0&&(d="asc");return j(G(a,h,f,b,d,e),g)},get:function(c){return g.chainPromiseOrValue(function(d){return C(a,h,f,b,c,d)})},getKey:function(c){return g.chainPromiseOrValue(function(d){return E(a,h,f,b,c,d)})},keyLength:e.tableNames[f].indexes[b].length}},keyLength:e.tableNames[f].primaryKeyIds.length,peekNextAutoIncrementId:function(){return g.chainPromiseOrValue(function(b){return J(a,h,f,b)})},put:function(d){return g.chainPromiseOrValue(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),yield L(c,a,h,f,d,e)});return function(a){return e.apply(this,arguments)}}())},upsert:function(d,e){return g.chainPromiseOrValue(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(g){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),yield N(c,a,h,f,d,e,g),yield H(c,a,h,f,d,s(f,e),g)});return function(a){return g.apply(this,arguments)}}())}}}}}function ba(a,c){return new(b("Promise"))(function(b,d){t[c].last==null?t[c].first=t[c].last={value:function(){return a().then(b,d)}}:t[c].last=t[c].last.next={value:function(){return a().then(b,d)}}})}function ca(){return q.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=t.ui.first!=null?t.ui:t.sync_script.first!=null?t.sync_script:t.background;if(a.first==null){c("FBLogger")("messenger_web_product").mustfix("Expected work is missing");return}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;yield b.value()}))}function da(a,b,c){return $.apply(this,arguments)}function $(){$=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d,e,f){f===void 0&&(f="background");var g,h,i,j,k,l,n=b("cr:1242")==null?void 0:b("cr:1242").startTracking(a.types,f);(c("MetaConfig")._("26")||c("MetaConfig")._("27")||b("cr:1088"))&&(g=c("err")("Transaction timeout"));b("cr:1088")&&(h=Date.now());function e(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){b("cr:1242")==null?void 0:b("cr:1242").mark(n,"execute_start");b("cr:1088")&&(i=Date.now());var a={ref:void 0},e=new Map(),f=q.createTransaction("readwrite"),o;try{var p=Z(f,e,{instanceKey:n});o=(yield b("Promise").race([d(p),m(g,a)]));a.ref!=null&&c("clearTimeout")(a.ref);b("cr:1088")&&(j=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(n,"execute_end");b("cr:1242")==null?void 0:b("cr:1242").mark(n,"flush_start");yield f.flush({instanceKey:n});b("cr:1242")==null?void 0:b("cr:1242").mark(n,"flush_end")}catch(d){a.ref!=null&&c("clearTimeout")(a.ref);f.close();b("cr:1242")==null?void 0:b("cr:1242").fail(n);throw d}b("cr:1088")&&(l=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(n,"broadcast_start");p=new WeakMap();for(a of e){f=a[0];var s=a[1],t=s[0];s=s[1];f=JSON.parse(f);var u=f[0];f[1];yield r.notifyTableAndIndexSubscribers(u,t,s,p)}yield q.queueCommitWork(function(){r.notifyTableV2(e,"notifyTableV2");r.notifyTableV2(e,"notifyInMemoryTable");return b("Promise").resolve()});r.notifyCommit();if(b("cr:1088")){k=Date.now();f={broadcast:k,complete:j,flush:l,queue:h,start:i};b("cr:1088").recordRestoreTransaction(g,f,{changedKeys:e})}b("cr:1242")==null?void 0:b("cr:1242").mark(n,"broadcast_end");b("cr:1242")==null?void 0:b("cr:1242").mark(n,"post_commit_start");c("setImmediate")(function(){b("cr:1242")==null?void 0:b("cr:1242").mark(n,"post_commit_end"),b("cr:1242")==null?void 0:b("cr:1242").end(n)});return o});return o.apply(this,arguments)}var p=f==="background"&&c("MetaConfig")._("39")?new(b("Promise"))(function(a){return c("setTimeout")(a,0)}):b("Promise").resolve();yield p;p=ba(e,f);c("promiseDone")(ca());return p});return $.apply(this,arguments)}f=d("LSDatabaseProviderType").hasPersistentType(a.types);c("ExecutionEnvironment").isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&c("MWTabNotifierWhenPDBEnabled")!=null&&f&&c("MWTabNotifierWhenPDBEnabled").onEventReceive("notifyInMemoryTable",function(d){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var b of d){var c=b[0],e=b[1];a.shouldApplySync("notifyInMemoryTable",c)&&(yield y(c,e))}r.notifyCommit()})())}));return{clearCacheIfSupported:function(){var a=q;a instanceof Object&&a.clearCache!==void 0&&a.clearCache instanceof Function&&a.clearCache()},closeDb:function(){var a=q;a instanceof Object&&a.close!==void 0&&a.close()},getTableData:function(){return e},persistenceTypes:a.types,runInTransaction:da,subscribeToCommit:function(a){return r.subscribeToCommit(a)},subscriptionManager:r,table:function(a){return l(w,a,function(){var b=new Map();return{entries:function(b,c,d){c===void 0&&(c="asc");return j(G(q.createTransaction("readonly"),b,a,void 0,c,d),v)},get:function(b,c){c===void 0&&(c=new WeakMap());return v.chainPromiseOrValue(function(d){return C(q.createTransaction("readonly"),c,a,void 0,b,d)})},index:function(c){return l(b,c,function(){return{entries:function(b,d,e){d===void 0&&(d="asc");return j(G(q.createTransaction("readonly"),b,a,c,d,e),v)},get:function(b,d){d===void 0&&(d=new WeakMap());return v.chainPromiseOrValue(function(e){return C(q.createTransaction("readonly"),d,a,c,b,e)})},getKey:function(b){return v.chainPromiseOrValue(function(d){return E(q.createTransaction("readonly"),new WeakMap(),a,c,b,d)})},keyLength:e.tableNames[a].indexes[c].length,subscribe:function(b,d,f){return r.subscribeIndex(a,c,b,A(d,e.tableNames[a].indexes[c]),f)}}})},keyLength:e.tableNames[a].primaryKeyIds.length,peekNextAutoIncrementId:function(){return v.chainPromiseOrValue(function(b){return J(q.createTransaction("readonly"),new WeakMap(),a,b)})},subscribe:function(b,c,d){return r.subscribeTable(a,b,A(c,e.tableNames[a].primaryKeyIds.length),d)}}})}}}function m(a,d){return c("ExecutionEnvironment").canUseDOM&&c("MetaConfig")._("27")?new(b("Promise"))(function(b,e){var f=5e3;d.ref=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").catching(a).blameToPreviousFrame().mustfix("ReStore transaction took longer than %s ms to execute",f.toString()),e(a)},f)}):new(b("Promise"))(function(){})}a.TransactionClosedError=e;g["default"]=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(){var a=b("Promise").resolve(),e=new Map();function f(a){return h(e,a,function(){return new Map()})}return{flush:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.forEach(function(a,b){var c=f(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})})});function c(b){return a.apply(this,arguments)}return c}(),get:function(a,b,c){a=f(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(c){return new(b("Promise"))(function(d,e){a=a.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d(yield c())}catch(a){e(a)}}))})},shouldApplySync:function(){return!1},shouldSync:function(){return!1},types:["ephemeral"]}}g["default"]=a}),98);
__d("LSJSInMemoryStorage.bs",["MAWLSVaultingHooks","ReStore","createReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("ReStore")(c("createReStoreEphemeralPersistence")(),a,[c("MAWLSVaultingHooks")])}g.make=a}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){case"2285622730":return h._("O Messenger est\u00e1 offline");case"1919524925":return h._("Verifique sua conex\u00e3o. Tudo o que voc\u00ea fizer nos bate-papos enquanto estiver offline, como enviar mensagens ou alterar as cores do bate-papo, ser\u00e1 conclu\u00eddo quando voc\u00ea se conectar \u00e0 internet.");case"14617150":return h._("Usu\u00e1rio do Facebook");case"460740012":return h._("Sua mensagem n\u00e3o foi enviada.");case"2353844300":return h._("Voc\u00ea n\u00e3o pode responder a essa conversa.");case"2375715979":return h._("Voc\u00ea cancelou o envio de uma mensagem.");case"3810165735":return h._("{user_name} cancelou o envio de uma mensagem",[h._param("user_name",b(0))]);case"1899892426":return h._("Voc\u00ea subiu uma mensagem.");case"3287869262":return h._("{user_name} subiu a mensagem.",[h._param("user_name",b(0))]);case"1890485478":return h._("Voc\u00ea");case"1299547062":return h._("Voc\u00ea enviou uma figurinha.");case"3621454483":return h._("{user_name} enviou uma figurinha.",[h._param("user_name",b(0))]);case"3948960063":return h._("Voc\u00ea enviou um anexo.");case"1249692047":return h._("{user_name} enviou um anexo.",[h._param("user_name",b(0))]);case"2106510577":return h._("Voc\u00ea enviou uma foto.");case"3960370133":return h._("{user_name} enviou uma foto",[h._param("user_name",b(0))]);case"3798396796":return h._("Voc\u00ea enviou um GIF do {app_name}.",[h._param("app_name",b(0))]);case"3388601579":return h._("{user_name} enviou um GIF do {app_name}.",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("Voc\u00ea enviou um GIF.");case"3601791933":return h._("{user_name} enviou um GIF.",[h._param("user_name",b(0))]);case"3759817031":return h._("Voc\u00ea enviou um v\u00eddeo.");case"2934729541":return h._("{user_name} enviou um v\u00eddeo.",[h._param("user_name",b(0))]);case"392493418":return h._("Voc\u00ea enviou uma mensagem de voz.");case"4085467454":return h._("{user_name} enviou uma mensagem de voz.",[h._param("user_name",b(0))]);case"2738683656":return h._("Voc\u00ea enviou uma figurinha de selfie.");case"2996525642":return h._("{user_name} enviou uma figurinha de selfie.",[h._param("user_name",b(0))]);case"2326868239":return h._("Voc\u00ea compartilhou uma publica\u00e7\u00e3o.");case"1001986796":return h._("{user_name} compartilhou uma publica\u00e7\u00e3o.",[h._param("user_name",b(0))]);case"2285746939":return h._("Voc\u00ea respondeu a um story.");case"3759448420":return h._("{user_name} respondeu a um story.",[h._param("user_name",b(0))]);case"3719716921":return h._("Voc\u00ea enviou um story.");case"284944921":return h._("{user_name} enviou um story.",[h._param("user_name",b(0))]);case"3322002377":return h._("voc\u00ea mencionou {user_name} no seu story",[h._param("user_name",b(0))]);case"2486550278":return h._("mencionou voc\u00ea no story");case"3557790945":return h._("Voc\u00ea enviou um reel.");case"3756846086":return h._("{user_name} enviou um reel.",[h._param("user_name",b(0))]);case"780378803":return h._("Voc\u00ea enviou um v\u00eddeo do IGTV.");case"3918212613":return h._("{user_name} enviou um v\u00eddeo do IGTV.",[h._param("user_name",b(0))]);case"3161890215":return h._("Voc\u00ea compartilhou uma loja.");case"863428456":return h._("{user_name} compartilhou uma loja.",[h._param("user_name",b(0))]);case"2716405471":return h._("Voc\u00ea enviou um perfil.");case"3909474073":return h._("{user_name} enviou um perfil.",[h._param("user_name",b(0))]);case"1522141193":return h._("Voc\u00ea enviou um destaque dos stories.");case"2804766375":return h._("{user_name} enviou um destaque dos stories.",[h._param("user_name",b(0))]);case"772459202":return h._("Voc\u00ea enviou uma atualiza\u00e7\u00e3o do jogo.");case"3546068912":return h._("{user_name} enviou uma atualiza\u00e7\u00e3o do jogo.",[h._param("user_name",b(0))]);case"2459540079":return h._("Voc\u00ea respondeu ao seu story.");case"1596311291":return h._("{user_name} respondeu ao seu story.",[h._param("user_name",b(0))]);case"2253698324":return h._("Voc\u00ea respondeu ao story dessa pessoa.");case"4269602817":return h._("{user_name} respondeu ao pr\u00f3prio story.",[h._param("user_name",b(0))]);case"2973334239":return h._("Voc\u00ea enviou uma localiza\u00e7\u00e3o.");case"3616471048":return h._("{user_name} enviou uma localiza\u00e7\u00e3o.",[h._param("user_name",b(0))]);case"1739999037":return h._("A liga\u00e7\u00e3o de \u00e1udio foi encerrada.");case"3373597599":return h._("A liga\u00e7\u00e3o de v\u00eddeo foi encerrada.");case"259473449":return h._("{user_name} perdeu sua liga\u00e7\u00e3o de \u00e1udio.",[h._param("user_name",b(0))]);case"1338912959":return h._("Voc\u00ea perdeu uma liga\u00e7\u00e3o de \u00e1udio de {user_name}.",[h._param("user_name",b(0))]);case"812940701":return h._("{user_name} perdeu sua liga\u00e7\u00e3o de v\u00eddeo.",[h._param("user_name",b(0))]);case"1099878966":return h._("Voc\u00ea perdeu uma liga\u00e7\u00e3o de v\u00eddeo de {user_name}.",[h._param("user_name",b(0))]);case"3443782102":return h._("A liga\u00e7\u00e3o de \u00e1udio foi iniciada.");case"618905030":return h._("A liga\u00e7\u00e3o de v\u00eddeo come\u00e7ou.");case"2470414797":return h._("Liga\u00e7\u00e3o de \u00e1udio em grupo perdida");case"1306024833":return h._("Liga\u00e7\u00e3o de v\u00eddeo em grupo perdida");case"2135145355":return h._("Voc\u00ea enviou uma localiza\u00e7\u00e3o atual.");case"3603511704":return h._("{user_name} enviou uma localiza\u00e7\u00e3o atual.",[h._param("user_name",b(0))]);case"705614308":return h._({"*":"You sent {number} photos.","_1":"Voc\u00ea enviou uma foto."},[h._plural(d("I64").to_float(b(0)),"number")]);case"313217698":return h._({"*":"{user_name} enviou {number} fotos.","_1":"{user_name} enviou uma foto."},[h._plural(d("I64").to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("Voc\u00ea enviou v\u00e1rios anexos.");case"3422266740":return h._("{user_name} enviou v\u00e1rios anexos.",[h._param("user_name",b(0))]);case"3321340421":return h._("{other_user} enviou uma mensagem.",[h._param("other_user",b(0))]);case"3307909120":return h._("Vou");case"845728829":return h._("Tenho interesse");case"2022991544":return h._("N\u00e3o tenho interesse");case"4285882723":return h._("Talvez");case"3089015955":return h._("N\u00e3o posso ir");case"2662271323":return h._("Responder");case"3199643703":return h._("Aprova\u00e7\u00e3o pendente");case"1531706844":return h._("Pedir para participar");case"2421884758":return h._("Voc\u00ea subiu sua mensagem");case"2676961947":return h._("Voc\u00ea subiu a mensagem de {participant_name}",[h._param("participant_name",b(0))]);case"3298086032":return h._("{sender_name} subiu sua mensagem",[h._param("sender_name",b(0))]);case"3873263038":return h._("{sender_name} subiu a pr\u00f3pria mensagem",[h._param("sender_name",b(0))]);case"2616853333":return h._("{sender_name} subiu a mensagem de {reply_source_sender_name}",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("Voc\u00ea respondeu \u00e0 sua pr\u00f3pria mensagem");case"2663996736":return h._("Voc\u00ea respondeu a {participant_name}",[h._param("participant_name",b(0))]);case"2868699317":return h._("{sender_name} respondeu a voc\u00ea",[h._param("sender_name",b(0))]);case"2688620547":return h._("{sender_name} respondeu a si mesmo(a)",[h._param("sender_name",b(0))]);case"3544071775":return h._("{sender_name} respondeu a {reply_source_sender_name}",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"3989800917":return h._("Ver tudo");case"2352696798":return h._("Usu\u00e1rio do Workplace");case"3387070852":return h._("{receiver_name} n\u00e3o aceitou seu pagamento de US${amount} dentro de 7 dias, portanto, o valor foi devolvido para voc\u00ea.",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);default:return""}};b=a;g["default"]=b}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"}]};b=a;f["default"]=b}),66);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:["queueName","taskId"]},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:["blockedByViewerStatus","id"]}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:["associatedEntityId","ownerId"]}},{name:"profile_sheet_information",id:256,primary_key:["userId"]},{name:"fb_transport_contacts",id:240,primary_key:["pk"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"]},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:["lastActivityTimestampMs","threadKey"],parentThreadKeyLastActivityTimestampMs:["parentThreadKey","lastActivityTimestampMs","threadKey"],secondaryParentThreadKeyLastActivityTimestampMs:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],clientThreadKey:["clientThreadKey","threadKey"],threadTypeLastActivityTimestampMs:["threadType","lastActivityTimestampMs","threadKey"]}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:["offlineThreadingId"],messageDisplayOrder:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],messageId:["messageId"]}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:["threadKey","readWatermarkTimestampMs","contactId"],threadKeyDeliveredWatermarkTimestampMs:["threadKey","deliveredWatermarkTimestampMs","contactId"]}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:["threadKey","timestampMs","messageId","attachmentFbid"],idx_attachments_collapsible_id:["threadKey","collapsibleId","messageId","attachmentFbid"]}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","attachmentIndex"]}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","ctaId"]}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:["ctaId"]}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:["threadKey","ctaId"]}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"],indexes:{byFbGroupId:["fbGroupId","folderId"]}},{name:"community_members",id:170,primary_key:["communityId","contactId","source","requestId"],indexes:{communitySource:["communityId","source","requestId","contactId","name"],communityContact:["communityId","contactId","requestId","source","name"]}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source","requestId"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:["igThreadId"]}},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"],indexes:{threadKeyInviterIDInviteeID:["threadKey","inviterId","inviteeId"]}},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:["threadKey","pinnedTimestampMs","messageId"]}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:["threadKey","messageId","reactionFbid"]}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"inbox_view_state",id:277,primary_key:["interface","configName"]},{name:"inbox_view_state_v2",id:281,primary_key:["configName"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]},{name:"discoverable_chat_participants",id:248,primary_key:["threadId","contactId","source"]},{name:"discoverable_chat_participants_ranges_v2__generated",id:249,primary_key:["threadId","source","minName"]},{name:"roll_calls",id:250,primary_key:["rollCallId","threadKey"]},{name:"community_surface_ranges",id:253,primary_key:["surfaceType","communityKey"]},{name:"community_rules",id:254,primary_key:["communityId","ruleId"]},{name:"roll_call_contributions_v2",id:255,primary_key:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],indexes:{optimistic:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"]}},{name:"business_thread_info",id:260,primary_key:["threadKey"]},{name:"thread_creation_status",id:278,primary_key:["taskId"]},{name:"shared_albums",id:279,primary_key:["sharedAlbumId","threadKey"]},{name:"shared_album_contributions",id:280,primary_key:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"]},{name:"shared_albums_multimedia_upload_jobs",id:283,primary_key:["offlineThreadingId"]},{name:"shared_albums_multimedia_upload_subjobs_status",id:284,primary_key:["offlineThreadingId","jobId"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:["optimisticClientToken"]}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:["pinnedTimestamp","threadKey"]}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"]},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:["threadId","eventId"]}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"]},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:["stickerPackId","stickerId"]}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:["threadKey"]}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:["scoreType","contactId"]}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:["ownerId","bucketType"]}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:["optimisticClientId"]}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:["optimisticClientToken"]}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:["roomId","participantId"]}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:["serverThreadKey"],chat_id:["clientThreadPk"],jid:["jid"]}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]},{name:"client_accounts",id:272,primary_key:["pk"]},{name:"client_messages",id:273,primary_key:["pk"]},{name:"client_participants",id:274,primary_key:["pk"]},{name:"client_threads",id:276,primary_key:["pk"]}],[{name:"webact_thread",id:262,primary_key:["chatId"],indexes:{jid:["jid"],thread_order:["threadOrder"],deduplication_key:["deduplicationKey"],authoritative_thread_key:["authoritativeThreadKey"]},auto_increment:!0},{name:"webact_group_info",id:263,primary_key:["groupJid"],indexes:{thread_id:["threadId"],corresponding_open_thread_key:["correspondingOpenThreadKey"]}},{name:"webact_group_invite",id:264,primary_key:["inviterJid","invitedParticipantId"],indexes:{inviter_jid:["inviterJid"]}},{name:"webact_xma",id:265,primary_key:["xmaId"],indexes:{external_id:["externalId"],associated_message_id:["associatedMessageId"],favicon_media_id:["faviconMediaId"],header_media_id:["headerMediaId"],target_expiring_at_sec:["targetExpiringAtSec"],default_preview_media_id:["defaultPreviewMediaId"]}},{name:"webact_tasks",id:266,primary_key:["taskName"]},{name:"webact_sync_keys",id:267,primary_key:["id"],indexes:{key_id:["keyId"],key_epoch:["keyEpoch"]}},{name:"webact_reaction",id:268,primary_key:["rowId"],indexes:{reaction_id:["reactionId"],external_id:["externalId"],react_to_msg_id:["reactToMsgId"],thread_jid:["threadJid"],react_to_external_id:["reactToExternalId"]}},{name:"webact_participant",id:269,primary_key:["id"],indexes:{thread_id:["threadId"],user_jid:["userJid"]}},{name:"webact_device_change_alerts",id:270,primary_key:["deviceChangeAlertsId"]},{name:"webact_dyi_batch",id:271,primary_key:["batchId"]}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:["shouldFlush","initTimestampMs","traceId"]}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:["traceId","addonId"]},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:["status","contactId"]}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:["pendingBackupTaskId"]},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:["backupId","epochId"]}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"]},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]},{name:"secure_get_secrets_context",id:259,primary_key:["deviceRegistrationId"]},{name:"encrypted_backups_otc_devices",id:261,primary_key:["deviceId"]},{name:"experiences_shared_state",id:282,primary_key:["stateKey"]}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:["deviceId","supportedVersion"]}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:["userId","coPresenceObjectId"]}}],[{name:"persistent_menu_ctas",id:251,primary_key:["threadKey","ctaId"]}],[{name:"workroom_creation_requests",id:252,primary_key:["creationId"]}],[{name:"pake_messages",id:258,primary_key:["sessionId"]}],[{name:"workroom_invites",id:257,primary_key:["inviteId"]}]]}),null);
__d("LSMetadata",["LSDbForeignKeys","LSTableSchemas","ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={},e={},f=-1;for(var g=0;g<a.length;g++){var h=a[g];for(var h=h,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k,l;if(i){if(j>=h.length)break;l=h[j++]}else{j=h.next();if(j.done)break;l=j.value}l=l;k={autoIncrement:(k=l.auto_increment)!=null?k:!1,cascadeUpdates:(k=c("LSDbForeignKeys")[l.name])!=null?k:[],id:parseInt(l.id,10),indexes:(k=l.indexes)!=null?k:{},name:l.name,primaryKeyIds:l.primary_key};b[k.id]=k;e[k.name]=k;k.id>f&&(f=k.id)}}l={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]};b[l.id]=l;e[l.name]=l;k={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]};b[k.id]=k;e[k.name]=k;j={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").schemaVersionTableName,primaryKeyIds:[]};b[j.id]=j;e[j.name]=j;return{tableIds:b,tableNames:e}}function a(a){a=h(a);var b=a.tableIds;a=a.tableNames;return{tableIds:b,tableNames:a}}b=a(c("LSTableSchemas"));g.buildTableData=h;g.buildMetadata=a;g.metadata=b}),98);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LS")(1,d("LSMetadata").metadata,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("13");g.armadilloMessageSend=a}),98);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743851");b=d("FalcoLoggerInternal").create("ls_data_trace",a);e=b;g["default"]=e}),98);
__d("LSDataTraceFlush.bs",["ArmadilloDataTraceType.bs","I64","LSDataTraceType","LSIntEnum","LsDataTraceFalcoEvent","ODS","Promise","ReQL","ReQL.bs","asyncToGeneratorRuntime","bs_caml_option","clearTimeout","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("I64").of_string("120000"),i=d("I64").of_string("600000"),j=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function k(a,b,c){var e=a.length;if(e===0)return[d("I64").neg_one,d("I64").neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!=null});e=e==null?void 0:e.errorMessage;a=a[a.length-1|0];var f=d("I64").of_float(Date.now()),g=a.timestampMs,i=d("I64").compare(d("I64").sub(f,c),h)>=0;return!b&&i?[d("I64").sub(f,c),a.checkPointId,g,e,"trace expired"]:[d("I64").sub(g,c),a.checkPointId,g,e,e]}function l(a){return a.reduce(function(a,b,c){var e,f=d("I64").to_string(b.checkPointId),g=b.timestampMs;e=d("I64").to_string((e=b.syncChannel)!=null?e:d("I64").neg_one);b=b.tags;b=b!=null?","+b:"";if(c===0)a.pointsList="".concat("(",f,",",e,b,")");else{c=String(d("I64").to_int32(d("I64").sub(g,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",c,"-(",f,",",e,b,")")}a.lastCheckPointTimestamp=g;return a},{lastCheckPointTimestamp:d("I64").zero,pointsList:""}).pointsList}var m=d("I64").of_string("2");function n(a){var b=a.traceType;b=d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK))?"send":d("I64").equal(b,d("ArmadilloDataTraceType.bs").armadilloMessageSend)?"armadillo send":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_INIT))?"encrypted_backups_init":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_ADD_DEVICE))?"encrypted_backups_add_device":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SYNC_EPOCHS))?"encrypted_backups_sync_epochs":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP))?"encrypted_backups_opt_out_of_backup":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA))?"encrypted_backups_fetch_backups_metadata":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE))?"encrypted_backups_create_extra_virtual_device":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS))?"encrypted_backups_fetch_backup_status":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION))?"encrypted_backups_third_party_id_generation":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_DELETE_BACKUP))?"encrypted_backups_delete_backup":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":a.contextTwo;return b}function o(a,b){var e=b.traceId,f=b.shouldFlush,g=n(b),h=b.traceType,i=d("I64").equal(h,d("ArmadilloDataTraceType.bs").armadilloMessageSend)?"tam_message_send":b.contextOne,j=d("I64").equal(b.traceType,m)?void 0:b.predefinedId,o=b.initTimestampMs;return d("ReQL.bs").toArray(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a.table("data_trace_addon").index("traceIdAddonId")),{hd:e,tl:0})).then(function(a){var b=k(a,f,o),h=b[0],m=b[1],n=b[3],p=b[4],q=a.length,r=l(a);c("LsDataTraceFalcoEvent").log(function(){var a;return{check_point_count:c("bs_caml_option").some(d("I64").to_string(d("I64").of_int32(q))),check_point_list:r,client_event_ts:c("bs_caml_option").some(d("I64").to_string(d("I64").of_float(Date.now()))),cold_start_time:void 0,data_trace_id:e,database_id:i,delivered_messages:void 0,error_message:p,first_error_message:n,has_backgrounded:!1,last_check_point:c("bs_caml_option").some(d("I64").to_string(m)),latency:c("bs_caml_option").some(d("I64").to_string(h)),media_type:void 0,num_of_attachments:void 0,persisted_metadata:void 0,predefined_id:j,sent_rich_media_messages:void 0,sent_text_messages:void 0,start_time:c("bs_caml_option").some(d("I64").to_string(o)),trace_flow:(a=g)!=null?a:""}})}).then(function(){return a.table("data_trace_meta")["delete"]({hd:e,tl:0})})}function a(a,c){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("data_trace_meta")),{hd:c,tl:0})).then(function(c){if(c!=null)return o(a,c);else return b("Promise").resolve()})}var p={contents:void 0};function q(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("data_trace_meta").index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:d("ReQL").key(d("I64").sub(d("I64").of_float(Date.now()),h))})).then(function(a){if(c("gkx")("8835")){var b=d("I64").of_float(Date.now());return a.filter(function(a){var c=n(a);if(c&&j.has(c)){c=d("I64").compare(d("I64").sub(b,a.initTimestampMs),i)>=0;return c}return!0})}return a})}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield q(a));if(c.length===0)return;return a.runInTransaction(function(a){return q(a).then(function(c){return b("Promise").all(c.map(function(b){return o(a,b)}))})},"readwrite")});return s.apply(this,arguments)}function t(){var a=p.contents;if(a!=null){c("clearTimeout")(a);return}}function u(a){c("promiseDone")(r(a),function(){t();var b=c("setTimeout")(function(){u(a)},6e4);p.contents=c("bs_caml_option").some(b)},function(){t(),d("ODS").bumpEntityKey(3185,"mw_trace","error")});return t}e=d("I64").of_string("4");f=d("I64").of_string("5");var v=m;e=e;f=f;var w=o;a=a;var x=t,y=u;g.dataTraceSync=v;g.dataTraceRichMediaSend=e;g.dataTraceRichMediaDownload=f;g.flushForTraceMeta=w;g.flush=a;g.stopFlushExpiredDataTraces=x;g.flushExpiredDataTraces=y}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}else b&&b.randomBytes&&a.setPRNG(function(a,c){var d,e=b.randomBytes(c);for(d=0;d<c;d++)a[d]=e[d];Ia(e)})})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/ZMc_bSwzLKC/
 */
__d("ristretto255-0.1.1",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f,g){var h=c("tweetnacl-1.0.3")();Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(a,b){return new Uint8Array(Array.prototype.slice.call(this,a,b))}});c={};var i=h.lowlevel,j=i.gf([1]);function k(){return[i.gf(),i.gf(),i.gf(),i.gf()]}var l=new Uint8Array([226,242,174,10,106,188,78,113,168,132,169,97,197,0,81,95,88,227,11,106,165,130,221,141,182,166,89,69,224,141,45,118]),m=new Float64Array([235,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function n(a,b,c){var d=new Float64Array(64);for(var e=0;e<32;e++)for(var f=0;f<32;f++)d[e+f]+=b[e]*c[f];i.modL(a,d)}function o(a,b){n(a,b,b)}function p(a,b){for(var c=0;c<32;c++)a[c]=b[c];for(c=251;c>=0;c--)o(a,a),(m[c>>3]>>(c&7)&1)!==0&&n(a,a,b)}var q=i.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),r=i.gf([11803,18811,63136,32407,21693,7032,36364,44957,53757,12789,64713,3900,18604,11139,12735,14185]),s=i.gf([16618,32861,64938,39368,29374,23105,5655,40239,55360,65025,31633,5826,64674,53167,35077,30828]),t=i.gf([49526,37983,2497,57980,13583,52574,41272,11393,57316,48752,43997,39316,57559,45747,29352,656]),u=i.gf([19744,17645,23210,12717,6553,45086,18988,53918,20203,21147,54063,19676,8769,63084,45946,22888]);function v(a){var b=new Uint8Array(32);i.pack25519(b,a);a=1;for(var c=0;c<32;c++)a&=b[c]===0;return a}function w(a,b,c){var d;c=-c;for(var e=0;e<16;e++)d=a[e]^b[e],d&=c,a[e]^=d}function x(a){var b=new Uint8Array(32);i.pack25519(b,a);return b[0]&1}function y(a,b){i.Z(a,i.gf(),b)}function z(a,b,c){var d=i.gf();y(d,b);i.set25519(a,b);w(a,d,c)}function A(a,b){z(a,b,x(b))}function B(a,b,c){var d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),j=i.gf();i.S(d,c);i.M(d,d,c);i.S(a,d);i.M(a,a,c);i.M(a,a,b);i.pow2523(a,a);i.M(a,a,d);i.M(a,a,b);i.S(e,a);i.M(e,e,c);i.Z(f,e,b);i.A(g,e,b);i.M(h,b,q);i.A(h,e,h);d=v(f);c=v(g);b=v(h);i.M(j,a,q);w(a,j,c|b);A(a,a);return d|c}function C(a){var b=i.gf(),c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),r=i.gf(),t=i.gf(),u=i.gf(),v=i.gf(),y=0,C=new Uint8Array(32);i.A(m,a[2],a[1]);i.Z(v,a[2],a[1]);i.M(m,m,v);i.M(n,a[0],a[1]);i.S(o,n);i.M(o,m,o);B(f,j,o);i.M(b,f,m);i.M(c,f,n);i.M(u,b,c);i.M(u,u,a[3]);i.M(g,a[0],q);i.M(h,a[1],q);i.M(e,b,s);i.M(l,a[3],u);y=x(l);p=i.gf(a[0]);r=i.gf(a[1]);d=i.gf(c);w(p,h,y);w(r,g,y);w(d,e,y);i.M(t,p,u);z(r,r,x(t));i.Z(k,a[2],r);i.M(k,d,k);A(k,k);i.pack25519(C,k);return C}function D(a){var b=a[31]&127^127;for(var c=30;c>0;c--)b|=a[c]^255;b=(b|0>>>0)-1>>8;c=237-1-(a[0]|0>>>0)>>8;return 1-((b&c|a[0])&1|(a[31]&255)>>7)}function E(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf();if(D(b)===0)return-1;i.unpack25519(e,b);i.S(f,e);i.set25519(g,j);i.Z(g,g,f);i.S(k,g);i.set25519(h,j);i.A(h,h,f);i.S(l,h);i.M(m,i.D,k);y(m,m);i.Z(m,m,l);i.M(n,m,l);i.set25519(d,j);b=B(c,d,n);i.M(a[0],c,h);i.M(a[1],c,a[0]);i.M(a[1],a[1],m);i.M(a[0],a[0],e);i.A(a[0],a[0],a[0]);A(a[0],a[0]);i.M(a[1],g,a[1]);i.set25519(a[2],j);i.M(a[3],a[0],a[1]);return-(1-b|x(a[3])|v(a[1]))}function F(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),s=i.gf(),v=i.gf();i.set25519(e,j);i.S(f,b);i.M(f,q,f);i.A(m,f,e);i.M(m,m,t);i.set25519(c,j);y(c,c);i.A(g,f,i.D);i.M(n,f,i.D);i.Z(n,c,n);i.M(n,n,g);g=1-B(h,m,n);i.M(k,h,b);A(k,k);y(k,k);w(h,k,g);w(c,f,g);i.Z(d,f,e);i.M(d,d,c);i.M(d,d,u);i.Z(d,d,n);i.A(o,h,h);i.M(o,o,n);i.M(p,d,r);i.S(l,h);i.Z(s,e,l);i.A(v,e,l);i.M(a[0],o,v);i.M(a[1],s,p);i.M(a[2],p,v);i.M(a[3],o,s)}function G(a){var b=i.gf(),c=i.gf(),d=k(),e=k();i.unpack25519(b,a.slice(0,32));i.unpack25519(c,a.slice(32,64));F(d,b);F(e,c);i.add(d,e);return d}function a(a){var b=k();i.scalarbase(b,a);return C(b)}function b(a,b){var c=k(),d=k();if(E(c,b)!==0)throw new Error("Invalid argument");i.scalarmult(d,c,a);return C(d)}function d(a){var b=k();return E(b,a)===-1?!1:!0}function H(a,b){var c=k(),d=k();if(E(c,a)===-1)throw new Error("Invalid argument");if(E(d,b)===-1)throw new Error("Invalid argument");return[c,d]}function e(a,b){a=H(a,b);b=a[0];a=a[1];i.add(b,a);return C(b)}function I(a,b){var c=i.gf();y(c,b[3]);var d=i.gf();y(d,b[0]);d=[d,b[1],b[2],c];i.add(a,d)}function g(a,b){a=H(a,b);b=a[0];a=a[1];I(b,a);return C(b)}function J(){var a=h.randomBytes(64);return G(a)}function K(a){return C(G(a))}function L(){return C(J())}function M(){var a;new Uint8Array(32);var b=0;do{a=h.randomBytes(32);a[31]&=31;var c=32,d=1;do c--,b|=a[c]-i.L[c]>>8&d,d&=(a[c]^i.L[c])-1>>8;while(c!==0)}while(b===0);return a}function N(a){var b=new Uint8Array(32);p(b,a);return b}function O(a){var b=new Float64Array(64);for(var c=0;c<32;c++)b[c]=-a[c];c=new Uint8Array(32);i.modL(c,b);return c}function P(a,b){var c=new Float64Array(64);for(var d=0;d<32;d++)c[d]=a[d]+b[d];d=new Uint8Array(32);i.modL(d,c);return d}function Q(a,b){return P(a,O(b))}function R(a,b){var c=new Uint8Array(32);n(c,a,b);return c}c.scalarMultBase=a;c.scalarMult=b;c.isValid=d;c.add=e;c.sub=g;c.fromHash=K;c.getRandom=L;c.basePoint=l;c.scalar={};c.scalar.getRandom=M;c.scalar.invert=N;c.scalar.negate=O;c.scalar.add=P;c.scalar.sub=Q;c.scalar.mul=R;c.unsafe={};c.unsafe.point={};c.unsafe.point.toBytes=C;c.unsafe.point.fromBytes=E;c.unsafe.point.fromHash=G;c.unsafe.point.sub=I;c.unsafe.point.add=i.add;c.unsafe.point.scalarMultBase=i.scalarbase;c.unsafe.point.scalarMult=i.scalarmult;c.unsafe.point.getRandom=J;c.unsafe.point.alloc=k;c.unsafe.constants={};c.unsafe.constants.LSub2=m;c.unsafe.constants.sqrtm1=q;c.unsafe.constants.sqrtadm1=r;c.unsafe.constants.invsqrtamd=s;c.unsafe.constants.onemsqd=t;c.unsafe.constants.sqdmone=u;f.exports=c}),34);
__d("ristretto255",["ristretto255-0.1.1"],(function(a,b,c,d,e,f){e.exports=b("ristretto255-0.1.1")}),null);
__d("Ristretto255.bs",["ristretto255"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("ristretto255").fromHash(a)}function b(a,b){return c("ristretto255").scalarMult(a,b)}g.scalar=c("ristretto255").scalar;g.fromHash=a;g.scalarMult=b}),98);
__d("WAErr",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new Error(a);if(a.stack===void 0)try{throw a}catch(a){}return a}f["default"]=a}),66);
__d("WAHex",["WAErr"],(function(a,b,c,d,e,f,g){var h=16,i=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],j=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102];function a(a){a=new Uint8Array(a);self.crypto.getRandomValues(a);return k(a)}function k(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(i[d>>4],i[d&15])}return String.fromCharCode.apply(String,b)}function b(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(j[d>>4],j[d&15])}return String.fromCharCode.apply(String,b)}function d(a){a=m(a);if(a.length%2!==0)throw c("WAErr")('parseHex given hex "'+a+'" which is not a multiple of 8-bits.');var b=new Uint8Array(a.length>>1);for(var d=0,e=0;d<a.length;d+=2,e++)b[e]=l(a,d)<<4|l(a,d+1);return b.buffer}function l(a,b){a=a.charCodeAt(b);if(a<=57)return a-48;else if(a<=70)return 10+a-65;else return 10+a-97}function m(a){if(/[^0-9a-fA-F]/.test(a))throw c("WAErr")('"'+a+'" is not a valid hex');return a}function e(a){var b=a.buffer;return a.byteOffset===0&&a.length===b.byteLength?b:b.slice(a.byteOffset,a.byteOffset+a.length)}function f(a){var b=!0,c=a.length;while(b&&c){var d=a[--c];b=32<=d&&d<127}if(b)return JSON.stringify(String.fromCharCode.apply(String,a));else return k(a)}function n(a,b){b===void 0&&(b=!1);a=m(a);v(a,h);return(b?"-":"")+"0x"+p(a,h)}function o(a,b,c){c===void 0&&(c=!1);a=w(a);b=w(b);return(c?"-":"")+"0x"+a+b}function p(a,b){b=b-a.length;a=a;for(var c=0;c<b;c++)a="0"+a;return a}function q(a){var b=a<0;a=b?(-a).toString(16):a.toString(16);return n(a,b)}function r(a){return a.substring(a.indexOf("0x")+2)}function s(a){return a[0]==="-"}function t(a,b){var c=s(a),d=s(b);if(c!==d)return!c;d=r(a)>r(b);return c?!d:d}function u(a){return s(a)?a.slice(1):"-"+a}function v(a,b){if(a.length>b)throw c("WAErr")('"'+a+'" is longer than '+b*4+" bits.")}function w(a){if(a>4294967295||a<-4294967296)throw c("WAErr")("uint32ToLowerCaseHex given number over 32 bits");a=(a>=0?a:4294967296+a).toString(16);return p(a,8)}g.NUM_HEX_IN_LONG=h;g.HEX_LOWER=j;g.randomHex=a;g.toHex=k;g.toLowerCaseHex=b;g.parseHex=d;g.hexAt=l;g.hexOrThrow=m;g.bytesToBuffer=e;g.bytesToDebugString=f;g.createHexLong=n;g.createHexLongFrom32Bits=o;g.hexLongFromNumber=q;g.hexLongToHex=r;g.hexLongIsNegative=s;g.isBiggerHexLong=t;g.negateHexLong=u}),98);
__d("WALoggerUtils",["WAHex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(typeof a==="string")return"'"+a+"'";else if(a==null||typeof a!=="object")return String(a);else if(Array.isArray(a))return"["+a.join(",")+"]";else if(a instanceof Uint8Array)if(a.length<64)return"<<"+i(a)+">>";else{var b=a.subarray(0,32);return"<<"+i(b)+", "+(a.length-b.length)+" more bytes>>"}else if(a.toString===Object.prototype.toString)return JSON.stringify(a,function(a,b){return a?String(b):b});else return String(a)}function i(a){var b=!0,c=a.length;while(b&&c){var e=a[--c];b=32<=e&&e<127}if(b)return JSON.stringify(String.fromCharCode.apply(String,a));else return d("WAHex").toHex(a)}function a(a,b){var c=[a[0]];b.forEach(function(b,d){c.push(h(b),a[d+1])});return c.join("")}g.debugStr=h;g.bytesToDebugString=i;g.rebuildTemplate=a}),98);
__d("WANullthrows",["WAErr"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b="?");if(a==null)throw c("WAErr")("Unexpected null or undefined: "+b);return a}g["default"]=a}),98);
__d("WATagsLogger",["Promise","WALoggerUtils","WANullthrows","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] ",""]);h=function(){return a};return a}var i,j=new(b("Promise"))(function(a){i=a});function a(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(j);case 2:case"end":return a.stop()}},null,this)}var k=null;function e(a){k=a,i==null?void 0:i(),i=null}function l(){return c("WANullthrows")(k,"WALogger called before initialization")}function m(a){return{TAGS:function(b){return m([].concat(a,b))},DEV:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e);l().debug(g,a);return n("DEV",g)},DEV_XMPP:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e);l().logRestricted(g,a);return n("DEV_XMPP",g)},LOG:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e);l().info(g,a);return n("LOG",g)},WARN:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e);l().warn(g,a);return n("WARN",g)},ERROR:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h=void 0;for(var i=0;i<e.length;i++){var j=e[i];if(j instanceof Error){h=j;break}}h!=null?l().error(g,a,h):l().error(g,a);return n("ERROR",g)},CATCHING:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e);l().error(g,a);return n("CATCHING",g)}}}function n(a,b){return{verbose:function(){return n(a,b)},color:function(c){return n(a,b)},devConsole:function(){var c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];(c=l()).devConsole.apply(c,[a,b,[]].concat(e));return n(a,b)},sendLogs:function(c){return a!=="ERROR"&&a!=="CATCHING"?m([]).ERROR(h(),c,b):n(a,b)},tags:function(){return n(a,b)}}}g.whenReady=a;g.initializeWaLogger=e;g.TAGS=m;g.getWaLoggerAdditionalOptions=n}),98);/*FB_PKG_DELIM*/
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(67).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=new c.Map(),d[2].set("query",a[0]),d[2].set("supported_types",a[1]),d[2].set("session_id",a[2]),d[2].set("surface_type",a[3]),d[2].set("group_id",a[4]),d[2].set("thread_id",a[5]),d[3]=c.createArray(),d[9]=(d[3].push("search_primary"),d[3]),d[4]=c.i64.of_float(Date.now()),d[9]=(d[3].push(c.i64.to_string(d[4])),d[3]),d[5]=c.toJSON(d[3]),d[6]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),d[5],c.i64.cast([0,30]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(e){return d[7]=new c.Map(),d[7].set("query",a[0]),d[7].set("supported_types",a[1]),d[7].set("session_id",a[2]),d[7].set("surface_type",a[3]),d[7].set("group_id",a[4]),d[7].set("thread_id",a[5]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDContactSearchResultAvatar.react",["FBLogger","IGDFacepile.bs","IGDSAvatar.react","IGDSingleAvatar.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.avatarSize;a=a.candidate;switch(a.type){case"thread":if(a.candidate.secondaryImageUrl.length>0)return h.jsx(c("IGDFacepile.bs"),{firstParticipantURI:a.candidate.imageUrl,secondParticipantURI:a.candidate.secondaryImageUrl,size:b});else return h.jsx(c("IGDSingleAvatar.bs"),{size:b,src:a.candidate.imageUrl});case"user":return h.jsx(c("IGDSAvatar.react"),{alt:a.candidate.threadName,size:b,src:a.candidate.imageUrl});default:throw c("FBLogger")("igd_web_on_msgr").mustfix("Expected recipient of type user or thread",a)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDContactSearchResultTitleDebugLabel.react",["fbt","I64","IGDSBox.react","IGDSText.react","MAWThreadCutover.bs","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";b=d("react");c=h._("[E2EE]").toString();e=h._("[TLC]").toString();function a(a){a=a.candidate;a=d("MAWThreadCutover.bs").useIsCutoverSecureThread(d("I64").of_string(a.candidate.id));return null;var b="";candidate.candidate.isE2EE===!0&&(b=E2EE_LABEL_DEV_ONLY,isCutoverSecureThread===!0&&(b=TLC_LABEL_DEV_ONLY));return c("isStringNullOrEmpty")(b)?null:React.jsx(c("IGDSBox.react"),{marginStart:1,children:React.jsx(c("IGDSText.react").BodyEmphasized,{color:"DEPRECATEDGreen",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDContactSearchResultTextContent.react",["fbt","I64","IGDContactSearchResultTitleDebugLabel.react","IGDSBox.react","IGDSText.react","MAWThreadCutover.bs","PolarisIGCoreVerifiedBadge","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Bate-papo criptografado de ponta a ponta"),k=function(a){switch(a.type){case"user":return a.candidate.isVerified;default:return!1}};function a(a){a=a.candidate;return i.jsxs(c("IGDSBox.react"),{direction:"row",children:[i.jsx(c("IGDSText.react").Body,{children:a.candidate.threadName}),0===!0&&i.jsx(c("IGDContactSearchResultTitleDebugLabel.react"),{candidate:a}),k(a)&&i.jsx(c("IGDSBox.react"),{marginStart:1,children:i.jsx(c("PolarisIGCoreVerifiedBadge"),{size:"small"})})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.candidate.candidate;var b=d("MAWThreadCutover.bs").useIsCutoverSecureThread(d("I64").of_string(a.id));b=a.isE2EE&&!b?j:a.subtext;return i.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:b})}b.displayName=b.name+" [from "+f.id+"]";g.IGDContactSearchResultTitle=a;g.IGDContactSearchResultSubtitle=b}),98);
__d("IGDContactSearchResult.react",["fbt","IGDContactSearchResultAvatar.react","IGDContactSearchResultTextContent.react","IGDSCircleCheckPanoFilledIcon","IGDSCircleOutline24Icon","IGDSListItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("Alternar a sele\u00e7\u00e3o").toString();function a(a){var b=a.avatarSize,e=a.candidate,f=a.disabled;f=f===void 0?!1:f;var g=a.isSelected,h=a.onPress;a=g?i.jsx(c("IGDSCircleCheckPanoFilledIcon"),{alt:k,color:"ig-primary-button"}):i.jsx(c("IGDSCircleOutline24Icon"),{alt:k,color:"ig-secondary-button"});g=j(function(){h(e)},[e,h]);return i.jsx(c("IGDSListItem.react"),{addOnEnd:a,addOnStart:i.jsx(c("IGDContactSearchResultAvatar.react"),{avatarSize:b,candidate:e}),disabled:f,onPress:g,overlayDisabled:!1,paddingX:6,paddingY:2,subtitle:i.jsx(d("IGDContactSearchResultTextContent.react").IGDContactSearchResultSubtitle,{candidate:e}),title:i.jsx(d("IGDContactSearchResultTextContent.react").IGDContactSearchResultTitle,{candidate:e})})}a.displayName=a.name+" [from "+f.id+"]";g.IGDContactSearchResult=a}),98);
__d("LSSearchGranularSurfaceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNIVERSAL_ALL:1,UNIVERSAL_MORE_PEOPLE:2,UNIVERSAL_IG_FOLLOWING:3,UNIVERSAL_BUSINESS:4,UNIVERSAL_CM_THREADS:18,UNIVERSAL_AI_BOTS:28,UNIVERSAL_NULLSTATE_ALL:25,UNIVERSAL_NULLSTATE_CHANNELS:26,UNIVERSAL_NULLSTATE_PEOPLE:27,OMNIPICKER:5,BROADCAST:6,BLOCK_LIST:7,IMPERSONATION_EVIDENCE:8,UNIVERSAL_IG_NONFOLLOWING:9,GROUPS:10,OMNIPICKER_ARMADILLO:11,RESTRICTED_LIST:12,CALLS_TAB:13,CM_INVITE_ALL_MEMBERS:14,INSTAGRAM_ALL:15,CM_MEMBER_LIST:16,CM_THREAD_PARTICIPANT_SEARCH:17,CM_COMMUNITY_CREATION_INVITE:19,CM_INVITE_FB_FRIENDS:20,CM_COMMUNITY_INVITE_ALL_MEMBERS:21,CM_COMMUNITY_INVITE_FB_FRIENDS:22,CM_PRIVATE_COMMUNITY_BROADCAST:23,DISCOVERABLE_CHAT_MAIN_INVITE:24});f["default"]=a}),66);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16});f["default"]=a}),66);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSMediaUrl.bs","LSSearchType","LSWhatsAppConnectStatus","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult.bs","MWLSContactTypeExactUtils","MWLSDatabaseLazySync.bs","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useMemo;function j(a){if(a<0)return-1;return a>0?1:0}function k(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return j(d.score-c.score);if(a!=null&&b!=null)return j(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function l(a){var b=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(a)){if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)}function m(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;f=d("LSIntEnum").toNumber(f.contactType);var g;!c("gkx")("3711")&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e)?g=15:g=f===c("MNetContactItemType").GROUP?2:1;var h;switch(f){case c("MNetContactItemType").CONTACT:h=l(e);break;case c("MNetContactItemType").GROUP:h=d("LSIntEnum").ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:h=d("LSIntEnum").ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:h=d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:h=d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:h=d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),e),defaultE2eeThreads:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),e),displayName:e.name,globalIndex:d("I64").of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e),isGroupsXacEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(68),e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(e)?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(67),e):void 0,isVerified:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),e,!0),isWaAddressable:d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),query:"",resultId:d("I64").to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:d("LSIntEnum").ofNumber(g),type_:h,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult.bs").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function n(a,b){return d("ReQL").leftJoin(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("ranking_scores").index("scoreTypeContactId")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))),d("ReQL").fromTableAscending(a.table("ig_contact_info")))}function o(a){a===void 0&&(a=d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return n(b,a)},[a,b],f.id+":241");return i(function(){return m(k(e))},[e])}function a(){var a=d("MWLSDatabaseLazySync.bs").useSync(d("LSIntEnum").ofNumber(7)),b=o(d("LSIntEnum").ofNumber(c("MNetRankType").INBOX_ACTIVE_NOW));h(function(){a()},[a]);return b.length}function b(a){a===void 0&&(a=d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return c("LSDatabaseSingleton").then(function(b){return d("ReQL").toArrayAsync(n(b,a))}).then(function(a){return m(k(a))})}g.sortInPlaceQueryResults=k;g.matchContactType=l;g.mapToServerSearchResults=m;g.makeQuery=n;g.useChatSearchContactRecommendations=o;g.useActiveContactCount=a;g.fetchRecommendations=b}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWInboxSecureContentSearch","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")))}function i(a,b,c,e,f){var g=d("I64").to_float(b.lastActivityTimestampMs);g={contactId:d("I64").zero,contactType:d("I64").zero,score:g,scoreIndex:d("I64").zero,scoreType:d("I64").zero};return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,c,b.threadType).toString(),id:d("I64").to_string(b.threadKey),imageUrl:e,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isVerified:!1,rankingScore:g,resultIgid:void 0,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?"group":"user",searchSource:"offline_nullstate",secondaryImageUrl:f,section:"",subtext:(a=b.threadDescription)!=null?a:"",threadKey:b.threadKey}}function j(a){return d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).filter(function(a){if(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(a.threadType))return d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(a.folderName);else return!1})}function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("LSDatabaseSingleton")),e=(yield b("Promise").all([h(a),d("ReQL").toArrayAsync(j(a))])),f=e[0];e=e[1];return b("Promise").all(e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=(yield b("Promise").all([d("MWInboxSecureContentSearch").getThreadPics(c,f.facebookUserId,a),d("MWInboxSecureContentSearch").getThreadParticipants(c,a)])),g=e[0];e=e[1];var h=g[0];g=g[1];return i(f.facebookUserId,c,e,h,g)});return function(a){return c.apply(this,arguments)}}()))});return k.apply(this,arguments)}g.fetchThreadRecommendations=a}),98);
__d("MWChatSearchResultType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"group",MESSAGE:"message",MESSAGES:"messages",PAGE:"page",USER:"user"});f["default"]=a}),66);
__d("MWChatSearchThreadCutover",["FBLogger","I64","MWChatSearchResultType","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){b=d("I64").of_string_opt(b);if(!b)return!1;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b),f.id+":29");return Boolean(a)},i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=d("I64").of_string_opt(b);if(!b)return;var e=Boolean(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)));if(e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b)));if(e!=null)return d("I64").to_string(e==null?void 0:e.serverThreadKey);else{c("FBLogger")("Messenger Search").mustfix("Mapping of open thread not found in mi_act_mapping_table but found in cutover_threads table.");return}}return});return function(b,c){return a.apply(this,arguments)}}();e=function(a,b,c){var d=[],e=new Set();for(b of b)e.has(b.id)||(!c.has(b.resultType)||!h(a,b.id))&&(d.push(b),e.add(b.id));return d};function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e){if(a){var f=(yield b("Promise").all(d.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER&&a.resultType!==c("MWChatSearchResultType").GROUP)return!0;var d=a.otherUserId!=null;b=(b=a.otherUserId)!=null?b:a.id.toString();if(e==null)return!0;else b=(yield i(e,b));var f=b!=null;if(d){if(!f)return!0;return f&&a.id.toString()===b?!0:!1}else return!f});return function(b){return a.apply(this,arguments)}}())));return d.filter(function(a,b){return f[b]})}return d});return j.apply(this,arguments)}g.isCutoverOpenThread=h;g.getCutoverThreadKey=i;g.filterOutCutoverOpenThreadBasedOnSearchResultTypes=e;g.dedupeCutoverOpenThreads=a}),98);
__d("MWChatSearchIssueLightspeedQuery.bs",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQuery","LSPlatformWaitForTaskCompletion","LSSearchGranularSurfaceType","LSSearchRequestStatusType","LSSearchType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatSearchThreadCutover","MWChatTemporarySearchResult.bs","Promise","ReQL","ReQLSubscription.bs","asyncToGeneratorRuntime","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=!0;function a(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT))}function i(a,b){var c=a[1];a=a[0];var e=[],f=0;a.sort(function(a,b){return d("I64").compare(a.globalIndex,b.globalIndex)});c.sort(function(a,b){return d("I64").compare(a.globalIndex,b.globalIndex)});for(var g=0,h=a.length;g<h;++g){var i=a[g];while(f<c.length&&d("I64").ge(c[f].globalIndex,i.startIndex)&&d("I64").le(c[f].globalIndex,i.endIndex)){var j=c[f];e.push(d("MWChatTemporarySearchResult.bs").fromServerSearchResult(j,i,"server"));f=f+1|0}}return e.filter(function(a){if(b)return!0;else return a.resultType!=="group"})}var j=[d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)],k={broadcast:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").BROADCAST),cmInviteAllMembers:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_ALL_MEMBERS),instagramAll:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL),omnipickerArmadillo:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER_ARMADILLO),universal:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").UNIVERSAL_ALL),cmCommunityInviteFbFriends:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_FB_FRIENDS),cmCommunityInviteAllMembers:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_ALL_MEMBERS),cmMemberList:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_MEMBER_LIST),cmThreadParticipantSearch:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_THREAD_PARTICIPANT_SEARCH),cmInviteFbFriends:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_FB_FRIENDS)};function l(a,b,d){var e=d.query;return c("LSDatabaseSingleton").then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQuery")(e,c("LSVec").make(a),void 0,b,void 0,void 0,c("LSFactory")(d))},"readwrite").then(function(){return d})})}function e(a,e,f,g,h){if(e.length>0&&!e.includes("server"))return b("Promise").resolve([]);else return c("LSDatabaseSingleton").then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQuery")(h.query,c("LSVec").make(a),void 0,f,void 0,void 0,c("LSFactory")(b))},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(h.query).filter(function(a){return d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));a=d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(h.query));a=(yield b("Promise").all([a,e]));return i(a,g)});return function(b){return a.apply(this,arguments)}}())}function f(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return b("Promise").resolve(a.map(function(a){return a[0]}))})}function m(a,e,f,g){return d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations().then(function(a){return c("LSDatabaseSingleton").then(function(e){var f=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);e=d("MWChatSearchThreadCutover").filterOutCutoverOpenThreadBasedOnSearchResultTypes(e,a,f);return b("Promise").resolve(e)})})}function n(a,b,e,f){var g=d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(b).filter(function(a){return d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}),h=d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(b);b=d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(b);return d("ReQLSubscription.bs").combineLatest3(a,g,h,b,function(a){var b=a[0],g=a[1];a=a[2];if(b==null||g==null||a==null)return;if(a.length!==1)return;d("I64").equal(a[0].statusPrimary,d("LSIntEnum").ofNumber(c("LSSearchRequestStatusType").PENDING))||f(i([g,b],e))})}function o(a,b,c,d,e,f){l(b,c,e);return n(a,e.query,d,f)}function p(a,b,e,f,g,h,i){l(b,g,h);f=d("MWChatSearchFetchContactRecommendations").makeQuery(a,e);c("promiseDone")(d("ReQL").toArrayAsync(f).then(function(a){return i(d("MWChatSearchFetchContactRecommendations").mapToServerSearchResults(d("MWChatSearchFetchContactRecommendations").sortInPlaceQueryResults(a)).map(function(a){return a[0]}))}));return c("emptyFunction")}h=h;a=a;var q=i;j=j;k=k;e=e;f=f;m=m;g.subscribe=n;g.requestResults=o;g.requestRecommendations=p;g.loaderIndicatorFix=h;g.checkIsContact=a;g.toSearchResults=q;g.contentSearchTypes=j;g.Surfaces=k;g.fetchResults=e;g.fetchRecommendations=f;g.fetchThreadRecommendations=m}),98);
__d("MWChatSearchFilteringUtils",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChatSearchResultType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.key)||(b.push(a),c.add(a.key))});return b}function h(a,b){if(b!=null)return d("LSMessagingThreadTypeUtil").isSecure(b.threadType);return a!=null?a.isE2EE===!0:!1}function e(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a.resultType!==c("MWChatSearchResultType").USER&&a.resultType!==c("MWChatSearchResultType").GROUP)return!1;var e=h(a);if(!e)return!1;e=d("I64").of_string(a.id);a=Boolean(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(e).filter(function(a){return d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC))})));return a});return i.apply(this,arguments)}g.dedupeByThreadKey=a;g.getIsE2ee=h;g.shouldFilterOptimisticE2eeThreadsAssociatedWithDefaultE2EEThreadCreationFlow=e}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes.bs",["LSIntEnum","LSSearchType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("6970")?[d("LSIntEnum").ofNumber(c("LSSearchType").RECOMMENDED_COMMUNITIES)]:[],c("qex")._("224")?[d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]);b=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];e=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];f=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)];var h=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("qex")._("1326")===!0?[d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]),i=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)],j=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];d=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.allSupportedTypesWithMessageSearch=b;g.armadilloSupportedTypes=e;g.onlyContacts=f;g.broadcastFlowSupportedTypes=h;g.addParticipantBase=i;g.addParticipantXac=j;g.socialChannelsSupportedTypes=d}),98);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isContact:a.isContact,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInteropEligible:a.isInteropEligible!==!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,renderIndex:b,resultType:a.resultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchIssueLightspeedQuery.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]);b=b.map(function(a,b){var c=a.key,d=a.label;a=a.rawData;return{key:c,label:d,rawData:babelHelpers["extends"]({},a,{renderIndex:b}),type:"entry"}});return babelHelpers["extends"]({entries:b},a)}f["default"]=a}),66);
__d("mwStaticSearchEntries",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("Pesquisar mensagens para ''{query_value}''",[h._param("query_value",a)]);return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isE2EE:!1,isEPD:!1,resultType:"messages",secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchEntry=a}),98);
__d("sortMWChatSearchLocalEntries",[],(function(a,b,c,d,e,f){"use strict";var g={group:1,message:2,messages:3,page:4,user:0};function a(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];b[d.id]=(d=d.rankingScore)==null?void 0:d.score}return a.sort(function(a,c){var d=g[a.resultType],e=g[c.resultType];if(d!==e)return d-e;e=(d=b[a.id])!=null?d:0;d=(a=b[c.id])!=null?a:0;return d-e})}f["default"]=a}),66);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","LSIntEnum","MAWGating","MNetRankType","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery.bs","MWChatSearchThreadCutover","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWPSearchOfflineOpenConversations.bs","MWPSearchSystem","Promise","asyncToGeneratorRuntime","cr:3542","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","mwStaticSearchEntries","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=10,j=d("MAWGating").isArmadillo()&&d("MAWGating").isTlcSearchEnabled();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes:f;var g=a.source;g=g===void 0?d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;var i=a.includeGroupSearch;i=i===void 0?!1:i;var j=a.includeMessageSearchEntry;j=j===void 0?!0:j;a=a.nullstateRankType;a=a===void 0?d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=h;this.$7=i;this.$8=j;this.$9=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;e=e.map(c("createMWChatSearchTypeaheadDataEntry"));e=[].concat(this.$8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],e);e=d("MWChatSearchFilteringUtils").dedupeByThreadKey(e);e=(yield d("MWChatSearchThreadCutover").dedupeCutoverOpenThreads(j,e,this.$4));var g=(yield b("Promise").all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWChatSearchFilteringUtils").shouldFilterOptimisticE2eeThreadsAssociatedWithDefaultE2EEThreadCreationFlow(a.rawData,f.$4));return!a});return function(b){return a.apply(this,arguments)}}())));e=e.filter(function(a,b){return g[b]});var h=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(h({entries:e,params:a}))});function e(b,c){return a.apply(this,arguments)}return e}();e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0&&!e.$6){f.next({entries:[],params:a});f.complete();return}if(a.query.length===0){e.$5=d("MWChatSearchIssueLightspeedQuery.bs").requestRecommendations(e.$4,e.$2,e.$9,e.$7,e.$3,a,function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("filterInstagramContactsMWChatSearchLocalEntries")(b,e.$3);b=(yield e.resolveData(a,b));f.next(b);f.complete()});return function(a){return d.apply(this,arguments)}}());return}var g=[],j=[],k=!1,l=b("Promise").allSettled([b("cr:3542")!=null?b("cr:3542").fetchResults(e.$2,e.$3,e.$7,a):b("Promise").resolve([]),e.$3!==d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.broadcast?d("MWPSearchOfflineOpenConversations.bs").search(a.query,e.$7):b("Promise").resolve([])]).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d=b[0];b=b[1];d=d.status==="fulfilled"?d.value:[];b=b.status==="fulfilled"?b.value:[];b=h<=0?b:b.slice(0,h);d=i<=0?d:d.slice(0,i);g=b.concat(d);g=c("sortMWChatSearchLocalEntries")(g);g=c("filterInstagramContactsMWChatSearchLocalEntries")(g,e.$3);b=(yield e.resolveData(a,g.concat(j)));k||f.next(b)});return function(a){return d.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),m=d("MWChatSearchIssueLightspeedQuery.bs").requestResults(e.$4,e.$2,e.$3,e.$7,a,function(h){j=h;h=a.query.length>0&&d("MWPSearchSystem").isDone()?l:b("Promise").resolve();c("promiseDone")(h["finally"](b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e.resolveData(a,g.concat(j)));f.next(b);f.complete()})))});e.$5=function(){m(),k=!0}})};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=a}),98);
__d("useIGDCandidateSearchDataSource",["LSIntEnum","MNetRankType","MWChatSearchIssueLightspeedQuery.bs","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.excludedIDs;a=a.includeGroupSearch;var e=c("useReStore")();return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:e,excludedIDs:b,includeGroupSearch:a,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes,nullstateRankType:d("LSIntEnum").ofNumber(c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE),source:d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.instagramAll})}g["default"]=a}),98);
__d("IGDAWContactSearchConversionUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b;return{id:a.id,igid:(b=a.igid)!=null?b:"",imageUrl:a.imageUrl,isE2EE:a.isE2EE,secondaryImageUrl:a.secondaryImageUrl,subtext:a.subtext,threadName:a.displayName}}function h(a){var b;return{id:a.id,igid:(b=a.igid)!=null?b:"",imageUrl:a.imageUrl,isE2EE:a.isE2EE,isVerified:a.verificationStatus==="BLUE_VERIFIED",subtext:a.subtext,threadName:a.displayName}}function i(a,b){b.set(a.id,{candidate:a,type:"user"})}function j(a,b){b.set(a.id,{candidate:a,type:"thread"})}function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.rawData;switch(e.resultType){case"group":j(g(e),b);break;case"user":i(h(e),b);break}}return b}f.covertSearchResultRawDataToIGDThread=g;f.covertSearchResultRawDataToIGDUser=h;f.covertMWContactSearchResultsToIGDCandidates=a}),66);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useIGDCandidateSearchResults",["IGDAWContactSearchConversionUtils","react","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a,b){var e=j(function(){return new Map()}),f=e[0],g=e[1];e=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:b});b=e[0].isLoading;e=e[1];var k=c("useDebouncedComet")(e),l=h(function(a){g(d("IGDAWContactSearchConversionUtils").covertMWContactSearchResultsToIGDCandidates(a.entries))},[]);i(function(){k({onResolvePayload:l,requestParams:{query:a,requestFlow:"network-upon-approve"}})},[l,a,k]);return[{isLoading:b},f]}g["default"]=a}),98);
__d("IGDChatSearchFetchThreadRecommendations",["I64","LSContactBitOffset","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil","MWInboxSecureContentSearch","MWLSThreadTitle","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useState;function j(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId}))}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("participants")).getKeyRange(b).filter(function(b){return!d("I64").equal(b.contactId,a)}).map(function(a){return a.contactId})));return b==null?null:d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(c.table("contacts")).getKeyRange(b),d("ReQL").fromTableAscending(c.table("ig_contact_info")).getKeyRange(b)))});return l.apply(this,arguments)}function m(a){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("threads")),d("ReQL").fromTableAscending(a.table("ig_thread_info"))).filter(function(a){a=a[0];return d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(a.folderName)})}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=(yield j(e));e=(yield b("Promise").all([d("MWInboxSecureContentSearch").getThreadParticipants(a,e),d("MWInboxSecureContentSearch").getThreadPics(a,f,e)]));var g=e[0];e=e[1];var h=e[0];e=e[1];var i=d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,f,g,a.threadType);f=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(a.threadDescription,f,g,a.threadType);g={contactId:d("I64").zero,contactType:d("I64").zero,score:d("I64").to_float(a.lastActivityTimestampMs),scoreIndex:d("I64").zero,scoreType:d("I64").zero};return{displayName:i,id:d("I64").to_string(a.threadKey),imageUrl:h,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isVerified:!1,rankingScore:g,resultIgid:(c==null?void 0:c.igThreadId)||"",resultType:"group",searchSource:"offline_nullstate",secondaryImageUrl:e,section:"",subtext:f}});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield j(b));c=(yield k(c,a.threadKey,b));if(c==null)return null;b=c[0];c=c[1];var e=d("LSMediaUrl.bs").Contact.profilePictureUrl(b),f={contactId:d("I64").zero,contactType:d("I64").zero,score:d("I64").to_float(a.lastActivityTimestampMs),scoreIndex:d("I64").zero,scoreType:d("I64").zero};return{displayName:b.name,id:d("I64").to_string(a.threadKey),imageUrl:e,isContact:!0,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEPD:!1,isInstagramAccount:!0,isVerified:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),b),rankingScore:f,resultIgid:c.igId,resultType:"user",searchSource:"offline_nullstate",section:"",subtext:(e=b.secondaryName)!=null?e:"",waEligibility:c==null?void 0:c.e2eeEligibility}});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=(yield b("Promise").all(a.map(function(a){var b=a[0];a=a[1];var e=d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType);if(e)return p(b,c);else return n(b,a,c)})));return a.filter(Boolean).sort(function(a,b){if(a.rankingScore==null)return 1;return b.rankingScore==null?-1:b.rankingScore.score-a.rankingScore.score})});return s.apply(this,arguments)}function a(){var a=i([]),e=a[0],g=a[1],j=c("useReStore")(),k=d("ReQLSuspense").useArray(function(){return m(j)},[j],f.id+":234");h(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield r(k,j));g(a)});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())},[j,k]);return e}g.useChatSearchThreadRecommendations=a}),98);
__d("useIGDSharesheetThreadRecommendations",["IGDAWContactSearchConversionUtils","IGDChatSearchFetchThreadRecommendations","createMWChatSearchTypeaheadDataEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("IGDChatSearchFetchThreadRecommendations").useChatSearchThreadRecommendations().map(c("createMWChatSearchTypeaheadDataEntry"));return d("IGDAWContactSearchConversionUtils").covertMWContactSearchResultsToIGDCandidates(a)}g["default"]=a}),98);
__d("IGDAWContactSearchResultList.react",["fbt","CometPlaceholder.react","FBLogger","IGDContactSearchResult.react","IGDSBox.react","IGDSListItemPlaceholder.react","IGDSText.react","MWPSearchSystem","deferredLoadComponent","isStringNullOrEmpty","react","requireDeferred","useIGDCandidateSearchDataSource","useIGDCandidateSearchResults","useIGDSharesheetThreadRecommendations","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=c("deferredLoadComponent")(c("requireDeferred")("IGDPageSetup.react").__setRef("IGDAWContactSearchResultList.react")),m="medium",n=h._("Nenhuma conta encontrada."),o=h._("Sugest\u00f5es");function p(a){var b=a.children;a=a.label;return i.jsxs(c("IGDSBox.react"),{flex:"grow",overflow:"scrollY",children:[a!=null?i.jsx(c("IGDSBox.react"),{margin:6,marginBottom:0,children:i.jsx(c("IGDSText.react").LabelEmphasized,{children:a})}):null,i.jsx(c("IGDSBox.react"),{marginTop:4,children:b})]})}p.displayName=p.name+" [from "+f.id+"]";function q(){return i.jsx(i.Fragment,{children:Array(7).fill(0).map(function(a,b){return i.jsx(c("IGDSListItemPlaceholder.react"),{color:"elevatedHighlightBackground",fullWidth:!0,index:b,paddingX:6,paddingY:2,size:m},"igd-aw-contact_search_result_list_placeholder-"+b)})})}q.displayName=q.name+" [from "+f.id+"]";function r(){return i.jsx(p,{children:i.jsx(q,{})})}r.displayName=r.name+" [from "+f.id+"]";function s(){return i.jsx(p,{children:i.jsx(c("IGDSBox.react"),{paddingX:6,paddingY:3,children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:n})})})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.excludedIDs,e=a.includeGroupSearch,f=a.onSearchResultPress,g=a.searchQuery,h=a.selectedCandidates;a=c("useIGDSharesheetThreadRecommendations")();b=c("useIGDCandidateSearchDataSource")({excludedIDs:b,includeGroupSearch:e});b=c("useIGDCandidateSearchResults")(g,b);var l=b[0].isLoading;b=b[1];var n=c("useReStore")(),r=k(!1);j(function(){r.current===!1&&(r.current=!0,d("MWPSearchSystem").makeAll(n))},[n]);b=b;c("isStringNullOrEmpty")(g)&&e&&(b=a);if(b.size===0&&!l)return i.jsx(s,{});e=g?null:o;return i.jsxs(p,{label:e,children:[Array.from(b.entries()).map(function(a){var b=a[0];a=a[1];var e=h.has(b);switch(a.type){case"thread":case"user":return i.jsx(d("IGDContactSearchResult.react").IGDContactSearchResult,{avatarSize:m,candidate:a,isSelected:e,onPress:f},b);default:throw c("FBLogger")("igd_web_on_msgr").mustfix("Expected recipient of type user or thread",a)}}),l&&i.jsx(q,{})]})}t.displayName=t.name+" [from "+f.id+"]";function a(a){return i.jsx(l,{placeholder:i.jsx(r,{}),children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(r,{}),children:i.jsx(t,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDSTextInputHideOutline",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=!1,k="Tab",l={hide:{outline:"xzd0ubt",$$css:!0},root:{outline:"x12uuly6",$$css:!0}};function a(){var a=i(j),b=a[0],c=a[1];h(function(){function a(b){(b.code===k||b.key===k)&&(j=!0,c(j),document.removeEventListener("keydown",a))}b||document.addEventListener("keydown",a);return function(){document.removeEventListener("keydown",a)}},[b]);a=!b;return[a,a?l.hide:l.root]}g["default"]=a}),98);
__d("IGDSTextInput.react",["IGDSText.react","UserAgentData","react","stylex","useIGDSTextInputHideOutline"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j={borderless:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},error:{color:"x1a1m0xk",$$css:!0},inputFloat:{backgroundColor:"xjbqb8w",paddingTop:"x96k8nx",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xurb0ha",":disabled_backgroundColor":"x1oqui1x",$$css:!0},inputPersistentName:{height:"x16wdlz0",paddingEnd:"x1sxyh0",position:"x1n2onr6",width:"xh8yej3",":disabled_backgroundColor":"x1rheh84",":disabled_borderTopColor":"x1ck6gwh",":disabled_borderEndColor":"x175bfct",":disabled_borderBottomColor":"x1meze4m",":disabled_borderStartColor":"x10eltez",":disabled_color":"x1qt4tve",":disabled_cursor":"x1s07b3s",$$css:!0},placeHolder:{alignItems:"x6s0dn4",color:"x1roi4f4",fontSize:"x1fhwpqd",fontWeight:"x1fcty0u",marginTop:"x1gslohp",marginEnd:"x1ffeobu",marginBottom:"x12nagc",marginStart:"x1cxxrxm",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",transformOrigin:"x19w6rv",transition:"xk1frcx",whiteSpace:"xuxw1ft",$$css:!0},placeHolderFloat:{transform:"x18l2ej8",$$css:!0},placeHolderFloatCenter:{paddingTop:"xz9dl7a",$$css:!0}},k={borderless:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingStart:"x5ib6vp",$$css:!0},error:{borderTopColor:"xj1v7p2",borderEndColor:"x1yn9u3l",borderBottomColor:"x1gcu4e2",borderStartColor:"xbqw57o",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv","::placeholder_color":"xordcmm",$$css:!0},pill:{borderTopColor:"x5ur3kl",borderEndColor:"xopu45v",borderBottomColor:"x1bs97v6",borderStartColor:"xmo9t06",borderTopStartRadius:"xfkn95n",borderTopEndRadius:"xly138o",borderBottomEndRadius:"xchwasx",borderBottomStartRadius:"xfxlei4",paddingStart:"x5ib6vp",$$css:!0},root:{borderTopColor:"x5ur3kl",borderEndColor:"xopu45v",borderBottomColor:"x1bs97v6",borderStartColor:"xmo9t06",borderTopStartRadius:"x1j8ye7u",borderTopEndRadius:"x1rjkts5",borderBottomEndRadius:"x13z9klp",borderBottomStartRadius:"xjc6cxp",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x5n08af",flexGrow:"x1iyjqo2",fontSize:"xvs91rp",lineHeight:"xklk4pu",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x1plvlek",overflowY:"xryxfnj",paddingTop:"x1iorvi4",paddingEnd:"xn6708d",paddingBottom:"xjkvuk6",paddingStart:"x1ye3gou",":-webkit-autofill_transition":"x1s3xk63","::-webkit-inner-spin-button_height":"xlqc9nw","::-webkit-outer-spin-button_height":"x8tigb1","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::placeholder_color":"xs3hnx8","::placeholder_opacity":"x7xwk5j",":disabled_backgroundColor":"x1rheh84",":disabled_borderTopColor":"x1ck6gwh",":disabled_borderEndColor":"x175bfct",":disabled_borderBottomColor":"x1meze4m",":disabled_borderStartColor":"x10eltez",":disabled_color":"x1qt4tve",":disabled_cursor":"x1s07b3s",":focus_outline":"xkq2eht",":focus_outlineOffset":"x1rvh84u",$$css:!0},rootFocused:{borderTopColor:"x11f1dot",borderEndColor:"xiga2ox",borderBottomColor:"x1ii8w9m",borderStartColor:"x1serwwh",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0},rootWithAdornment:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"x1iorvi4",paddingEnd:"xpvbz4a",paddingBottom:"xjkvuk6",paddingStart:"xohu8s8",width:"xh8yej3",":focus_borderTopStyle":"x1jguvu7",":focus_borderEndStyle":"x15aq7wb",":focus_borderBottomStyle":"xygx6cg",":focus_borderStartStyle":"xrqayxw",":focus_outline":"x1uvtmcs",$$css:!0}},l={root:{":disabled_color":"x2bbx33",$$css:!0}},m={borderless:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},disabled:{backgroundColor:"x19g9edo",borderTopColor:"x5ur3kl",borderEndColor:"xopu45v",borderBottomColor:"x1bs97v6",borderStartColor:"xmo9t06",color:"x1roi4f4",cursor:"x1h6gzvc",$$css:!0},error:{borderTopColor:"xj1v7p2",borderEndColor:"x1yn9u3l",borderBottomColor:"x1gcu4e2",borderStartColor:"xbqw57o",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0},pill:{borderTopColor:"x5ur3kl",borderEndColor:"xopu45v",borderBottomColor:"x1bs97v6",borderStartColor:"xmo9t06",borderTopStartRadius:"xfkn95n",borderTopEndRadius:"xly138o",borderBottomEndRadius:"xchwasx",borderBottomStartRadius:"xfxlei4",paddingStart:"xlu9dua",$$css:!0},root:{alignItems:"x6s0dn4",borderTopColor:"x5ur3kl",borderEndColor:"xopu45v",borderBottomColor:"x1bs97v6",borderStartColor:"xmo9t06",borderTopStartRadius:"x1j8ye7u",borderTopEndRadius:"x1rjkts5",borderBottomEndRadius:"x13z9klp",borderBottomStartRadius:"xjc6cxp",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xg7h5cd",justifyContent:"x1qughib",paddingEnd:"x1sxyh0",position:"x1n2onr6",$$css:!0},rootFocused:{borderTopColor:"x11f1dot",borderEndColor:"xiga2ox",borderBottomColor:"x1ii8w9m",borderStartColor:"x1serwwh",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",outline:"xtjps4z",outlineOffset:"x2ssjo2",$$css:!0},warning:{borderTopColor:"x1rclf1i",borderEndColor:"xbpt4fm",borderBottomColor:"xbb4h0s",borderStartColor:"x1tfs47m",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},n={secondaryBackground:{backgroundColor:"xnz67gz",$$css:!0},transparent:{backgroundColor:"xjbqb8w",$$css:!0}};a=h.forwardRef(function(a,b){var d=a.autoCapitalize,e=a.autoComplete,f=a.autoFocus,g=a.backgroundColor;g=g===void 0?"secondaryBackground":g;var o=a.disabled,p=a.endAdornment,q=a.hasError,r=a.height,s=a.hintText,t=a.id,u=a.inputMode,v=a.maxLength,w=a.name,x=a.onBlur,y=a.onChange,z=a.onFocus,A=a.onKeyDown,B=a.persistentLabelName,C=a.placeholder,D=a.readOnly,E=a.required,F=a.spellCheck,G=a.startAdornment,H=a.style;H=H===void 0?"regular":H;var I=a.testid;I=a.type;var J=a.validationState,K=a.value,L=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoCapitalize","autoComplete","autoFocus","backgroundColor","disabled","endAdornment","hasError","height","hintText","id","inputMode","maxLength","name","onBlur","onChange","onFocus","onKeyDown","persistentLabelName","placeholder","readOnly","required","spellCheck","startAdornment","style","testid","type","validationState","value","xstyle"]);var M=i(!1),N=M[0],O=M[1];M=c("useIGDSTextInputHideOutline")();M[0];M=M[1];var P=function(a){O(!1),x&&x(a)},Q=function(a){O(!0),z&&z(a)},R=p!=null||G!=null||B!=null;J=J!=null?J:"CORRECT";q===!0&&(J="ERROR");q=h.jsx("span",{className:c("stylex")(j.placeHolderFloat,j.placeHolderFloatCenter,j.placeHolder,J==="ERROR"&&j.error),children:K.length>0&&B});var S=h.jsx("div",{className:"x1y1aw1k",children:h.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:s})});a=h.jsx("input",babelHelpers["extends"]({},a,{autoCapitalize:d,autoComplete:e,autoFocus:f,className:c("stylex")(k.root,J==="CORRECT"&&N&&k.rootFocused,R&&k.rootWithAdornment,J==="ERROR"&&k.error,!R&&H==="pill"&&k.pill,!R&&H==="borderless"&&k.borderless,R&&j.borderless,n[g],M,B!=null&&K.length>0&&j.inputFloat,B!=null&&n.transparent,(c("UserAgentData").platformName==="iOS"||c("UserAgentData").browserName==="Safari")&&l.root,L),"data-testid":void 0,disabled:o,id:t,inputMode:u,maxLength:v,name:w,onBlur:P,onChange:y,onClick:function(a){return a.preventDefault()},onFocus:Q,onKeyDown:A,placeholder:C,readOnly:D,ref:b,required:E,spellCheck:F===!1?"false":"true",style:R?void 0:{height:r},type:I||"text",value:K}));if(R)return h.jsxs("div",{children:[h.jsxs("label",{className:c("stylex")(m.root,J==="CORRECT"&&N&&m.rootFocused,J==="WARN"&&m.warning,J==="ERROR"&&m.error,n[g],o===!0&&m.disabled,H==="pill"&&m.pill,H==="borderless"&&m.borderless,M),htmlFor:t,style:{height:r},children:[G,B!=null?h.jsxs("div",{className:"x16wdlz0 x1sxyh0 x1n2onr6 xh8yej3 x1rheh84 x1ck6gwh x175bfct x1meze4m x10eltez x1qt4tve x1s07b3s xjbqb8w",children:[a,q]}):a,p]}),s!=null&&S]});else return h.jsxs(h.Fragment,{children:[a,s!=null&&S]})});b=a;g["default"]=b}),98);
__d("IGDirectSearchUserContainerTokenField",["IGDSBox.react","IGDSText.react","IGDSTextInput.react","Keys","PolarisDOMListener.react","PolarisDirectSearchUserContainerToken.react","PolarisDirectStrings","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");var i=a.useEffect,j=a.useImperativeHandle,k=a.useRef,l=a.useState;b=function(a,b){var e=a.onRemoveRecipient,f=a.onTextInputChange,g=a.query,m=a.recipients,n=a.autoFocus;a=l(!0);var o=a[0],p=a[1];a=l(null);var q=a[0],r=a[1],s=k(null),t=k(null);i(function(){n&&t.current&&t.current.focus(),o&&(s.current!=null&&s.current.scrollIntoView()),p(!0)},[n,m,o]);j(b,function(){return{focus:function(){t.current&&t.current.focus()}}});var u=function(a){r(null),p(!1),e(a)},v=[].concat(Array.from(m.keys()));return h.jsxs(c("IGDSBox.react"),{direction:"row",padding:3,maxHeight:120,overflow:"auto",children:[h.jsx(c("IGDSBox.react"),{justifyContent:"start",paddingX:3,marginTop:2,children:h.jsx(c("IGDSText.react").Section,{zeroMargin:!0,children:d("PolarisDirectStrings").TO_LABEL_STRING})}),h.jsxs(c("IGDSBox.react"),{direction:"row",wrap:!0,flex:"grow",children:[h.jsx(c("PolarisDOMListener.react"),{event:"keydown",handler:function(){q!=null&&u(q)},target:document.body}),v.map(function(a){return h.jsx(c("PolarisDirectSearchUserContainerToken.react"),{onClick:function(){q===a?u(a):r(a)},onRemoveClick:u,selectedToken:q,userId:a,username:c("nullthrows")(m.get(a)).candidate.threadName},a)}),h.jsx(c("IGDSTextInput.react"),{autoComplete:"off",backgroundColor:"transparent",name:"queryBox",onChange:f,onFocus:function(){return r(null)},onKeyDown:function(a){a.keyCode===c("Keys").BACKSPACE&&g.length===0&&(r(v[v.length-1]),t.current&&t.current.blur())},placeholder:d("PolarisDirectStrings").SEARCH_USER_BOX_PLACEHOLDER,ref:t,spellCheck:!1,style:"borderless",value:g}),h.jsx("div",{ref:s})]})]})};e=h.forwardRef(b);g["default"]=e}),98);
__d("useShowRecipientLimitReachedDialog",["fbt","IGDContactSearchDialogType.flow","react","requireDeferred","useCometDeferredDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback,j=c("requireDeferred")("IGDAlertDialog.react").__setRef("useShowRecipientLimitReachedDialog"),k=function(a){switch(a){case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:return h._("Limite do grupo atingido");case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE:return h._("Limite de encaminhamento atingido");case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET:return h._("Limite de envios atingido")}},l=function(a,b){switch(a){case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:return h._("O n\u00famero total de pessoas que podem estar em um grupo \u00e9 {group limit}. Limite o n\u00famero de pessoas a {group limit (same)}, incluindo voc\u00ea, para concluir a cria\u00e7\u00e3o deste grupo.",[h._param("group limit",b),h._param("group limit (same)",b)]);case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE:return h._("Forwarding messages is limited to {forward limit} people at a time.",[h._param("forward limit",b)]);case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET:return h._("Reduza o n\u00famero de pessoas para quem voc\u00ea est\u00e1 encaminhando a mensagem e tente novamente.")}};function a(a,b){var d=c("useCometDeferredDialog")(j);return i(function(){d({body:l(a,b),close:h._("OK"),title:k(a)})},[b,a,d])}g["default"]=a}),98);
__d("IGDAWContactSearch.react",["IGDAWContactSearchResultList.react","IGDSDivider.react","IGDirectSearchUserContainerTokenField","PolarisUA","react","useShowRecipientLimitReachedDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useRef,k=b.useState;function a(a){var b=a.addonContent,e=a.excludedIDs,f=a.includeGroupSearch,g=a.maxRecipients,l=g===void 0?32:g,m=a.recipients;g=a.searchType;var n=a.setRecipients;a=k("");var o=a[0],p=a[1],q=!d("PolarisUA").isMobile(),r=j(null),s=i(function(){!q&&r.current&&r.current.focus()},[q]);a=i(function(a){a=(a=a==null?void 0:a.target.value)!=null?a:"";p(a)},[]);var t=i(function(a){var b=new Map(m);b["delete"](a);n(b)},[m,n]),u=i(function(a){t(a),s()},[s,t]),v=c("useShowRecipientLimitReachedDialog")(g,l),w=i(function(a){if(m.size>=l){v();return}var b=new Map(m);b.set(a.candidate.id,a);n(b)},[l,m,n,v]);g=i(function(a){var b=a.candidate.id;m.has(b)?t(b):(w(a),p(""))},[w,m,t]);return h.jsxs(h.Fragment,{children:[h.jsx(c("IGDirectSearchUserContainerTokenField"),{autoFocus:q,onRemoveRecipient:u,onTextInputChange:a,query:o,recipients:m,ref:r}),h.jsx(c("IGDSDivider.react"),{variant:"elevated"}),!o&&m.size===0?b:null,h.jsx(c("IGDAWContactSearchResultList.react"),{excludedIDs:e,includeGroupSearch:f,onSearchResultPress:g,searchQuery:o,selectedCandidates:m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAWOminipickerDialog.react",["fbt","IGCoreModal","IGDAWContactSearch.react","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSButton.react","IGDSDialogHeader.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState,l=h._("Bate-papo").toString(),m=h._("Fechar").toString(),n=h._("Nova mensagem").toString();function a(a){var b=a.onSubmit,e=a.onClose,f=a.filteredCandidates,g=a.maxRecipients,h=a.includeGroup;h=h===void 0?!1:h;var o=a.searchType;o=o===void 0?d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:o;var p=a.submitButtonLabel;p=p===void 0?l:p;a=a.titleLabel;a=a===void 0?n:a;var q=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),r=k(function(){return new Map()}),s=r[0];r=r[1];var t=j(function(){b(s),e()},[e,b,s]),u=function(){q==null?void 0:q({eventName:"create_thread_cancel"}),e()};return i.jsxs(c("IGCoreModal"),{fixedHeight:!0,onClose:e,size:"large",children:[i.jsx(c("IGDSDialogHeader.react"),{endAdornment:i.jsx(c("IGDSBox.react"),{padding:4,children:i.jsx(c("IGDSIconButton.react"),{onClick:u,children:i.jsx(c("IGDSXFilledIcon"),{alt:m,size:18})})}),size:"large",children:a!=null?i.jsx("span",{"aria-label":"title text for omnipicker",children:i.jsx(c("IGDSText.react").LabelEmphasized,{children:a})}):null}),i.jsx(c("IGDAWContactSearch.react"),{excludedIDs:f,includeGroupSearch:h,maxRecipients:g,recipients:s,searchType:o,setRecipients:r}),i.jsx(c("IGDSBox.react"),{margin:4,children:i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",isDisabled:s.size===0,isLoading:!1,label:p,onClick:t,size:"large"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListNewMessageDialog.react",["cr:7119","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(b("cr:7119"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(69).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDThreadListNullstate.react",["fbt","IGDIsCompactModeContext.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=d("IGDIsCompactModeContext.react").useIsCompactMode();return a?i.jsx("div",{className:"x1p5oq8j xxbr6pl xwxc41k xbbxn1n x15yg21f"}):i.jsx("div",{className:"x1p5oq8j xxbr6pl xwxc41k xbbxn1n xxsgkw5",children:i.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",children:h._("Nenhuma mensagem encontrada.")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxThreadListContainer.react",["fbt","CometPagelet.react","I64","IGDProfessionalIGFolderContext.react","IGDSBox.react","IGDSText.react","IGDThreadList.react","IGDThreadListNullstate.react","IgTags_InboxFolder","LSIntEnum","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react").memo;function a(){var a=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),b=d("IGDProfessionalIGFolderContext.react").useIGDProfessionalFolder(),e=d("I64").equal(b,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").SUBSCRIBER));return i.jsx(d("CometPagelet.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6",fallback:null,name:"IGDThreadList",children:i.jsx(c("IGDThreadList.react"),{beforeContent:e?i.jsx(c("IGDSBox.react"),{padding:8,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:h._("Voc\u00ea v\u00ea apenas os canais de transmiss\u00e3o que gerencia. Use o app para celular para ver todos os canais.")})}):void 0,emptyContent:e?void 0:i.jsx(c("IGDThreadListNullstate.react"),{}),gridLabel:h._("Chats").toString(),parentThreadKey:d("LSIntEnum").ofNumber(0),proIgFolder:a?b:void 0})})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("IGDLeftRailContainer.react",["BaseHeadingContext","react","stylex","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={leftRailContainer:{backgroundColor:"xvbhtw8",borderEnd:"xvb8j5",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"x1t2pt76",position:"x1n2onr6",top:"x13vifvy",width:"xezivpi","@media (max-width: 899px)_height":"x1p0ryx0","@media (max-width: 899px)_minHeight":"x1p5gv8h","@media (max-width: 899px)_position":"xoa9owu","@media (min-width: 900px)_maxHeight":"xcoz2nd","@media (min-width: 900px)_minHeight":"xgfcpv","@media (min-width: 900px)_position":"x1es02x0",$$css:!0},leftRailContainerDesktop:{maxWidth:"x13tiff3",$$css:!0}};function a(a){var b=a.activeNowTray,e=a.header,f=a.primaryNav,g=a.testid;g=a.xstyle;a=i(c("BaseHeadingContext"));var k=d("useIGDDeviceType").useIGDDeviceType().isDesktop;return h.jsxs("div",{className:c("stylex")(j.leftRailContainer,k&&j.leftRailContainerDesktop,g),"data-testid":void 0,children:[e,b,h.jsx(c("BaseHeadingContext").Provider,{value:a+1,children:f!=null&&f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreChevronDownPanoOutline24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 17.502a1 1 0 0 1-.707-.293l-9-9.004a1 1 0 0 1 1.414-1.414L12 15.087l8.293-8.296a1 1 0 0 1 1.414 1.414l-9 9.004a1 1 0 0 1-.707.293Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreChevronDownOutline24Icon",["PolarisIGCoreChevronDownPanoOutline24Icon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreChevronDownPanoOutline24Icon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDAccountSwitcher.react",["BaseButton.react","PolarisGenericStrings","PolarisIGCoreChevronDownOutline24Icon","PolarisNavigationActions","PolarisReactRedux","PolarisRoutes","polarisIsUserLoggedIn","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="direct",j={flex:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",minWidth:"xeuugli",":active_opacity":"x1d5wrs8",$$css:!0},noShrink:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",paddingTop:"x1iorvi4",$$css:!0}};function a(a){a=a.children;var b=d("PolarisReactRedux").useDispatch(),e=function(){b(d("PolarisNavigationActions").openAccountSwitcher({next:d("PolarisRoutes").DIRECT_INBOX,source:i}))};return d("polarisIsUserLoggedIn").isUserLoggedIn()?h.jsxs(c("BaseButton.react"),{onClick:e,xstyle:j.flex,children:[a,h.jsx("div",{className:"x2lah0s x1i64zmx x1iorvi4",children:h.jsx(c("PolarisIGCoreChevronDownOutline24Icon"),{alt:d("PolarisGenericStrings").DOWN_CHEVRON_ALT,size:12})})]}):h.jsx(h.Fragment,{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListHeaderAccountSwitcher.react",["IGDAccountSwitcher.react","IGDInboxLeftColumnPlaceholder.react","IGDSText.react","LSContactVerificationBadge.react","MWPActor.react","MWPMessageAuthor.bs","PolarisIGCoreVerifiedBadge","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)},[b,a],f.id+":47");return e==null||e.secondaryName==null?h.jsx(d("IGDInboxLeftColumnPlaceholder.react").IGDInboxLeftColumnPlaceholderUsernameGlimmer,{}):h.jsxs(c("IGDAccountSwitcher.react"),{children:[h.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1gnnpzl x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:h.jsx(c("IGDSText.react").TitleEmphasized,{maxLines:1,children:String(e.secondaryName)})}),h.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xl56j7k",children:h.jsx(c("LSContactVerificationBadge.react"),{contact:e,icon:h.jsx(c("PolarisIGCoreVerifiedBadge"),{size:"normal"})})})]})}i.displayName=i.name+" [from "+f.id+"]";function a(){var a=d("MWPActor.react").useActor();return h.jsx(d("MWPMessageAuthor.bs").MissingContactProvider,{contactId:a,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSComposeOutlineIcon",["IGDSComposePanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSComposePanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDThreadListNewMessageDialogButton.react",["fbt","CometLazyDialogTrigger.react","IGDSComposeOutlineIcon","IGDSDialogPlaceholder.react","IGDSIconButton.react","JSResourceForInteraction","MWPBumpEntityKey","MessengerWebUXLogger","react","useOpenOrCreateThreadFromIGDCandidate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDThreadListNewMessageDialogButton.react");function a(){var a=c("useOpenOrCreateThreadFromIGDCandidate")(),b=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{maxRecipients:31,onSubmit:a},dialogResource:j,fallback:function(a){return i.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})},children:function(a){return i.jsx(c("IGDSIconButton.react"),{onClick:function(){b==null?void 0:b({eventName:"create_thread"});a();return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.sidebar","new_chat")},children:i.jsx(c("IGDSComposeOutlineIcon"),{alt:h._("Nova mensagem"),color:"ig-primary-text"})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListNewMessageMobileButton.react",["fbt","IGDSComposeOutlineIcon","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Nova mensagem");function a(){return i.jsx(c("PolarisFastLink.react"),{href:"/direct/new/",children:i.jsx(c("IGDSComposeOutlineIcon"),{alt:j,color:"ig-primary-text"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListMessageRequestsBadge.react",["fbt","IGDSButton.react","IGDSText.react","LSIntEnum","MWPActor.react","MWPThreadsForThreadList.bs","PolarisFastLink.react","ReQL","ReQL.bs","ReQLSuspense","react","useIGDDeviceType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).getKeyRange(d("LSIntEnum").ofNumber(-1))},[a],f.id+":33");return d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("MWPThreadsForThreadList.bs").createIterable(a,d("LSIntEnum").ofNumber(-1),e),21)},[a,b,e],f.id+":41").length}function a(){var a=j(),b=a>20;b=a===0?h._("Solicita\u00e7\u00f5es"):h._({"*":"{messageRequestCount} solicita\u00e7\u00f5es","_1":"{messageRequestCount} solicita\u00e7\u00e3o"},[h._plural(a),h._param("messageRequestCount",b?"20+":a)]);var e=d("useIGDDeviceType").useIGDDeviceType();e=e.isMobile;return e?a===0?null:i.jsx(c("IGDSButton.react"),{href:"/direct/requests/",label:b,variant:"primary_link"}):i.jsx(c("PolarisFastLink.react"),{href:"/direct/requests/",children:i.jsx(c("IGDSText.react"),{color:a>0?"primaryButton":"secondaryText",weight:"semibold",zeroMargin:!0,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListTitleLayout.react",["react","stylex","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1nhvcw1",paddingTop:"xyinxu5",paddingEnd:"xxbr6pl",paddingBottom:"x1a8lsjc",paddingStart:"xbbxn1n",$$css:!0},containerMobile:{paddingTop:"xyinxu5",paddingEnd:"x1pi30zi",paddingBottom:"x1a8lsjc",paddingStart:"x1swvt13",$$css:!0}};function a(a){a=a.children;var b=d("useIGDDeviceType").useIGDDeviceType().isMobile;return h.jsx("div",{className:c("stylex")([i.container,b&&i.containerMobile]),children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;return h.jsx("div",{className:"x1iyjqo2",children:a})}b.displayName=b.name+" [from "+f.id+"]";g.IGDThreadListTitleLayoutContainer=a;g.IGDThreadListTitleLayoutTitle=b}),98);
__d("IGDThreadListTitle.react",["fbt","IGDIsCompactModeContext.react","IGDSText.react","IGDThreadListMessageRequestsBadge.react","IGDThreadListTitleLayout.react","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Mensagens");function a(){var a=d("IGDIsCompactModeContext.react").useIsCompactMode(),b=c("qex")._("206")===!0;return a?null:i.jsxs(d("IGDThreadListTitleLayout.react").IGDThreadListTitleLayoutContainer,{children:[i.jsx(d("IGDThreadListTitleLayout.react").IGDThreadListTitleLayoutTitle,{children:i.jsx(c("IGDSText.react").LabelEmphasized,{elementType:"h1",zeroMargin:!0,children:j})}),b?i.jsx(c("IGDThreadListMessageRequestsBadge.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useEncryptedBackupsProcessState",["gkx","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIds.bs").__setRef("useEncryptedBackupsProcessState");function a(a){var b=a.encryptedBackupData,d=a.storage;a=i(1);var e=a[0],f=a[1];h(function(){c("gkx")("7958")&&b!=null?j.onReady(function(a){c("promiseDone")(a.processBackupIdsStoredProcedure(d),function(a){switch(a){case 1:break;case 2:f(2);break;case 3:f(3);break;case 4:f(4);break;case-1:f(-1);break;case 0:break}})}):f(0)},[b,d]);return e}g["default"]=a}),98);
__d("IGDThreadListHeader.react",["CometPlaceholder.react","IGDInboxLeftColumnPlaceholder.react","IGDIsCompactModeContext.react","IGDMobileNavigationButton.react","IGDNavigation","IGDProfessionalIGFolderContext.react","IGDSectionHeader.react","IGDThreadListHeaderAccountSwitcher.react","IGDThreadListNewMessageDialogButton.react","IGDThreadListNewMessageMobileButton.react","IGDThreadListTitle.react","JSResourceForInteraction","MWLSFeatureLimitedStatus.bs","PolarisEncryptedBackupDialogUtils","ReQL","ReQLSuspense","cr:4692","cr:7155","gkx","qex","react","useEncryptedBackupsProcessState","useIGDDeviceType","useIGDSLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useEffect,k=c("JSResourceForInteraction")("PolarisEncryptedBackupDialog.react").__setRef("IGDThreadListHeader.react"),l={actionContainer:{display:"x78zum5",$$css:!0},actionContainerCompact:{paddingBottom:"xsag5q8",paddingTop:"x7sb2j6",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",minHeight:"x1rz828m",paddingBottom:"xsag5q8",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"xijc0j3",$$css:!0},rootMobile:{minHeight:"x1gg8mnh",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0}};function a(){var a=c("useIGDSLazyDialog")(k),e=a[0];a=d("useIGDDeviceType").useIGDDeviceType().isMobile;var g=d("IGDIsCompactModeContext.react").useIsCompactMode(),i=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),m=d("IGDNavigation").useIGDNavigation(),n=c("useReStore")(),o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.table("encrypted_backups"))},[n],f.id+":79"),p=c("useEncryptedBackupsProcessState")({encryptedBackupData:o,storage:n});j(function(){c("qex")._("121")===!0&&c("gkx")("7182")===!0&&p===4&&e({dialogType:d("PolarisEncryptedBackupDialogUtils").DialogType.Restore})},[p]);o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();return!a&&g?h.jsx("div",{className:"xsag5q8 x7sb2j6",children:h.jsx(c("IGDThreadListNewMessageDialogButton.react"),{})}):h.jsxs(h.Fragment,{children:[h.jsx(c("IGDSectionHeader.react"),{endAdornment:h.jsx("div",{className:"x78zum5",children:o?null:a?h.jsx(c("IGDThreadListNewMessageMobileButton.react"),{}):h.jsx(c("IGDThreadListNewMessageDialogButton.react"),{})}),isMobile:a,noBottomBorder:!0,startAdornment:a?h.jsx(c("IGDMobileNavigationButton.react"),{onClick:m.goToFeed}):null,xstyle:[l.root,a&&l.rootMobile],children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(d("IGDInboxLeftColumnPlaceholder.react").IGDInboxLeftColumnPlaceholderUsernameGlimmer,{}),children:h.jsx(c("IGDThreadListHeaderAccountSwitcher.react"),{})})}),b("cr:7155")!=null?h.jsx(b("cr:7155"),{}):null,!i&&h.jsx(c("IGDThreadListTitle.react"),{}),b("cr:4692")!=null?h.jsx(b("cr:4692"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("MWChatSearchInsertRankingContacts.bs",["I64","LSFactory","LSInsertRankingContacts","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1},i={contents:!1},j=d("I64").of_string("100");function a(a){if(!h.contents&&d("I64").gt(j,d("I64").zero)){h.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContacts")(j,c("LSFactory")(a))},"readwrite"),function(){i.contents=!0});return}}function b(){return i.contents}g.rankingContactsStarted=h;g.rankingContactsDone=i;g.numRankingContacts=j;g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWLSUseSyncRankings.bs",["LSIntEnum","MWLSDatabaseLazySync.bs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MWLSDatabaseLazySync.bs").useSync(d("LSIntEnum").ofNumber(7))}var h={contents:!1},i={contents:!1};function b(a){if(!h.contents){h.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync.bs").sync(a,d("LSIntEnum").ofNumber(7)),function(){i.contents=!0});return}}function e(){return i.contents}g.useHook=a;g.rankingSyncStarted=h;g.rankingSyncDone=i;g.sync=b;g.isDone=e}),98);
__d("MWPSearchIndexingSource.bs",["I64","LSIntEnum","ReQL.bs","ReQLSuspense","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReQL.bs").toArray(d("ReQL.bs").fromTableAscending(a.table("contacts")),f.id+":42")}function b(a,b){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").fromTableAscending(a.table("contacts")),function(a,c){return b(a.hd,c)})}function c(a){return d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))}),f.id+":53")}function e(a,b){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))}),function(a,c){return b(a.hd,c)})}function h(a,b){return d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return!d("I64").equal(b.contactId,a)}),function(a){return[a,d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:a.contactId,tl:0}),f.id+":78")]}),f.id+":70")}function i(a,b,c){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return!d("I64").equal(b.contactId,a)}),function(a,b){return c(a.hd,a.tl.hd,b)})}a=a;b=b;c=c;e=e;h=h;g.subToGroupParticipants=i;g.fetchContacts=a;g.subToContacts=b;g.fetchGroupThreads=c;g.subToGroupThreads=e;g.fetchGroupParticipants=h}),98);
__d("MWPSearchOfflineOpenConversations",["minisearch"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("minisearch"))({fields:["content"],searchOptions:{fuzzy:.2,prefix:!0},storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSRestrictionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});f["default"]=a}),66);
__d("LSSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,NONCONTACT:2,GROUP:3,PAGE:4,INTEGRATED_MESSAGE_SEARCH_THREAD:5,IG_CONTACT_FOLLOWING:6,IG_CONTACT_NONFOLLOWING:7,IG_NONCONTACT_FOLLOWING:8,IG_NONCONTACT_NONFOLLOWING:9,IG_BUSINESS:10,TAM_CONTACT:11,TAM_THREAD:12,COMMUNITY_MESSAGING_THREAD:13,RECOMMENDED_COMMUNITIES:14,SECTION_HEADER:15,AI_BOT:16});f["default"]=a}),66);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a.length){case 0:return c("gkx")("1341692")?"":h._("Nenhum participante");case 1:return a[0];case 2:return h._("{participant1} e {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("{participant1}, {participant2} e {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("{participant1}, {participant2} e outros {others_count} participantes",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}var j=c("gkx")("1846003");function k(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!d("I64").equal(a.contact_id,b)});if(a)return i(e.map(f));return c.length!==1?i(e.map(g)):g(c[0])}function a(a,b,c,d){return k(a,b,c,d,function(a){var b=a.name;a=a.nickname;return j?(a=a)!=null?a:b:b},function(a){var b=a.actual_name;a=a.nickname;return j?(a=a)!=null?a:b:b}).toString()}function b(a,b,c,d){return k(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return k(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getThreadTitle=k;g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),98);
__d("MWChatTemporarySearchResult.bs",["I64","LSContactBitOffset","LSContactType","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSWhatsAppConnectStatus","MWLSContactTypeExactUtils","MWLSThreadTitle","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function i(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT))||h(a))return"user";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").GROUP))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").RECOMMENDED_COMMUNITIES))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return"group";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").PAGE)))return"page";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return"message";else{c("recoverableViolation")("Unknown Search Result Type "+d("I64").to_string(a),"messenger_web_product");return"user"}}function a(a,b,e,f,g){var h=d("MWLSContactTypeExactUtils").isIgContact(e),i=e.secondaryName;i=h&&i!=null?i:"";var j=f!=null?[f.e2eeEligibility,!d("I64").equal(f.e2eeEligibility,d("LSIntEnum").ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],k=e.contactType;return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),e),defaultE2eeThreads:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e),id:d("I64").to_string(e.id),imageUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),isContact:d("I64").equal(e.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isE2EE:b===!0,isEligibleForCmInvite:void 0,isEPD:d("I64").equal(e.restrictionType,d("LSIntEnum").ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(68),e),isInstagramAccount:h,isInteropEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(67),e),isInvitedToCmChannel:void 0,resultIgid:(b=f==null?void 0:f.igId)!=null?b:void 0,isVerified:(h=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),e))!=null?h:!1,isWAEligible:j[1],otherUserId:void 0,rankingScore:a,restrictionType:void 0,resultType:d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").USER))||!(d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").PAGE))||d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").PAGE_PERSONA)))?"user":"page",searchSource:g,secondaryImageUrl:void 0,section:"",serverSearchResult:void 0,subtext:i,threadJoinLinkHash:void 0,threadKey:void 0,threadType:void 0,waAddressable:d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:j[0],supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),e,!0)}}function j(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;else if(f!=null&&f!=="")return d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString();else return""}function b(a,b,c,e,f,g,h){var i=j(a,c,g);return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:void 0,defaultE2eeThreads:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,c,g,a.threadType).toString(),hasCutoverThread:void 0,id:d("I64").to_string(a.threadKey),imageUrl:e,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:void 0,isInstagramAccount:!1,isInteropEligible:void 0,isInvitedToCmChannel:void 0,isVerified:!1,isWAEligible:void 0,otherUserId:void 0,rankingScore:h,restrictionType:void 0,resultType:"group",searchSource:b,secondaryImageUrl:f,section:"",serverSearchResult:void 0,subtext:i,threadJoinLinkHash:void 0,threadKey:a.threadKey,threadType:a.threadType,waAddressable:void 0,waEligibility:void 0,supportsE2eeSpamdStorage:void 0,isViewerUnconnected:void 0,resultIgid:void 0}}function e(a,b,e){var f=d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)),g=h(a.type_);b=b!=null?(b=b.displayName)!=null?b:"":"";var j=a.defaultE2eeThreadOneToOne,k=a.defaultE2eeThreads,l=a.hasCutoverThread,m=a.isVerified,n=a.supportsE2eeSpamdStorage,o=a.waEligibility;return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:j!==null?j:void 0,defaultE2eeThreads:k!==null?k:void 0,displayName:a.displayName,hasCutoverThread:l!==null?l:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isContact:f,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:g,isInteropEligible:a.isInteropEligible,isInvitedToCmChannel:void 0,isVerified:m!=null?m:!1,isWAEligible:o!=null?!d("I64").equal(o,d("LSIntEnum").ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:void 0,rankingScore:void 0,restrictionType:a.restrictionType,resultType:i(a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:b,serverSearchResult:a,subtext:f?"":a.contextLine,threadJoinLinkHash:a.threadJoinLinkHash,threadKey:void 0,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility,supportsE2eeSpamdStorage:n,isViewerUnconnected:a.isViewerUnconnected,resultIgid:a.resultIgid}}f=h;var k=i;a=a;var l=j;b=b;e=e;g.checkIsInstagramAccount=f;g.getResultType=k;g.fromContact=a;g.getSubtext=l;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MWLSParticipant.bs",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","LSMediaUrl.bs","MWLSContactTypeExactUtils","ReQL.bs"],(function(a,b,c,d,e,f,g){"use strict";e={actual_name:"",blocked_by_viewer_status:d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:d("I64").zero,contactType:d("LSIntEnum").ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:d("I64").zero,gender:d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:d("I64").zero,read_watermark_timestamp_ms:d("I64").zero,secondary_name:void 0,thread_key:d("I64").zero,work_company_name:void 0,work_foreign_entity_info:d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function h(a){var b=a[1];a=a[0];var e=a.nickname;if(e!=null)e=e;else{var f=b.firstName;e=f!=null?f:b.name}return{actual_name:b.name,blocked_by_viewer_status:b.blockedByViewerStatus,contact_id:a.contactId,contactType:b.contactType,delivered_watermark_timestamp_ms:a.deliveredWatermarkTimestampMs,gender:b.gender,is_admin:(f=a.isAdmin)!=null?f:!1,is_messenger_user:b.isMessengerUser,mailbox_type:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),name:e,nickname:a.nickname,profile_picture_url:d("LSMediaUrl.bs").Contact.profilePictureUrl(b),rank:b.rank,read_action_timestamp_ms:a.readActionTimestampMs,read_watermark_timestamp_ms:a.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(b)?b.secondaryName:void 0,thread_key:a.threadKey,work_company_name:b.workCompanyName,work_foreign_entity_info:b.workForeignEntityType,work_job_title:b.workJobTitle}}function a(a,b,c){return d("ReQL.bs").map(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:c,tl:0}),b),h)}function b(a,b){return d("ReQL.bs").getKeyRange(a,{hd:b,tl:0})}f=e;e=h;g.getAllInOpenThread=a;g.getInOpenThread=b;g.empty=f;g.projectOpen=e}),98);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("MWInboxSecureContentSearch",["fbt","I64","LSIntEnum","LSMediaUrl.bs","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSendAndReceive","MAWThreadId","MAWTimeUtils","MWLSParticipant.bs","MWLSThreadTitle","Promise","ReQL.bs","asyncToGeneratorRuntime","emptyFunction","groupBy"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ReQL.bs").first(d("ReQL.bs").fromTableAscending(c.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,b)}).map(function(a){return a.contactId})));return a==null?null:d("ReQL.bs").first(d("ReQL.bs").fromTableAscending(c.table("contacts")).getKeyRange(a))});return i.apply(this,arguments)}function j(a,c){return d("MAWThreadId").toThreadKey_DEPRECATED(c,a.chatId).then(function(e){return b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(c.table("threads")),{hd:e,tl:0})),b("Promise").resolve(a)])})}function k(a,c,e){var f=d("LSMediaUrl.bs").Thread.threadPictureUrl(a);if(f!=null)return b("Promise").resolve([f,void 0]);else return d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(e.table("contacts"))),function(a){a[0];a=a[1];return a})).then(function(a){a=a.filter(Boolean).sort(function(a,b){return a.rank-b.rank}).filter(function(a){return!d("I64").equal(a.id,c)}).map(function(a){return d("LSMediaUrl.bs").Contact.profilePictureUrl(a)});var b=a[0];return b!=null?[b,a[1]]:["",void 0]})}function l(a,b,e){if(a===1||d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessageSearchType").MESSAGE)))return b.content;else return h._({"*":"{number} mensagens com correspond\u00eancia","_1":"1 mensagem com correspond\u00eancia"},[h._plural(a,"number")]).toString()}function m(a,b){return d("ReQL.bs").toArray(d("MWLSParticipant.bs").getAllInOpenThread(b,d("ReQL.bs").fromTableAscending(b.table("contacts")),a.threadKey))}function n(a,e,f,g,h,i){return i.runInTransaction(function(n){return j(a,n).then(function(a){var j=a[0];if(j==null)return;var o=a[1];if(o!=null)return b("Promise").all([k(j,h,i),m(j,i)]).then(function(a){var i=a[0],k=o.content;return b("Promise").all([n.table("message_search_queries").put({hasNextPage:void 0,nextPageCursor:void 0,query:f,resultCount:d("I64").of_int32(e),status:d("LSIntEnum").ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:j.threadKey,type_:g}),n.table("message_search_results").put({contextLine:l(e,o,g),displayName:d("MWLSThreadTitle").getThreadTitleWithFullName(j.threadName,h,a[1],j.threadType),globalIndex:d("I64").of_int32(-o.rowId|0),matchLengths:String(f.length),matchOffsets:k!=null?String(k.indexOf(f)):void 0,messageId:o.msgId,messageTimestampMs:d("MAWTimeUtils").toTimestamp(o.ts),profilePicUrl:i[0],query:f,secondaryProfilePicUrl:i[1],threadKey:j.threadKey,threadType:j.threadType,type_:g})]).then(c("emptyFunction"))})})},"readwrite")}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{search:c}));return b("Promise").all(c.map(function(b){if(b.recordType==="msg"){b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["recordType"]);return d("MAWThreadId").toThreadKey_DEPRECATED(a,c.chatId).then(function(a){return[c,a]})}}).filter(Boolean))});return p.apply(this,arguments)}function e(a,e,f){return o(f,a).then(function(g){return Object.values(c("groupBy")(g,function(a){a[0];a=a[1];return a==null?"":d("I64").to_string(a)})).map(function(b){var g=b[0];if(g!==null){g=g[0];return n(g,b.length,a,d("LSIntEnum").ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return b("Promise").all([a,d]).then(c("emptyFunction"))},b("Promise").resolve())})}function f(a,e,f,g){return o(g,a).then(function(h){h=h.filter(function(a){a[0];a=a[1];return e!=null&&a!=null&&d("I64").equal(a,e)});var i=h.length;return h.map(function(b){b=b[0];return n(b,i,a,d("LSIntEnum").ofNumber(c("LSMessageSearchType").MESSAGE),f,g)}).reduce(function(a,d){return b("Promise").all([a,d]).then(c("emptyFunction"))},b("Promise").resolve())})}g.getThreadOtherParticipantContact=a;g.getThreadPics=k;g.getThreadParticipants=m;g.searchSecureDatabaseThreads=e;g.searchSecureDatabaseMessages=f}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("bs_belt_Array",["bs_caml","bs_caml_option","bs_curry","bs_js_math"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c>=0&&c<a.length)return b("bs_caml_option").some(a[c])}function c(a,b){if(!(b>=0&&b<a.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",27,4],Error:new Error()};return a[b]}function d(a,b,c){if(b>=0&&b<a.length){a[b]=c;return!0}else return!1}function e(a,b,c){if(!(b>=0&&b<a.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",33,2],Error:new Error()};a[b]=c}function g(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function h(a){var c=a.length;for(var d=0;d<c;++d)g(a,d,b("bs_js_math").random_int(d,c))}function i(a){a=a.slice(0);h(a);return a}function j(a){var b=a.length,c=0;for(var d=0,e=b/2|0;d<e;++d)g(a,c+d|0,((c+b|0)-d|0)-1|0)}function k(a){var b=a.length,c=new Array(b);for(var d=0;d<b;++d)c[d]=a[(b-1|0)-d|0];return c}function l(a,b){if(a<=0)return[];var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function m(a,b){if(a<=0)return[];var c=new Array(a);for(var d=0;d<a;++d)c[d]=b(d);return c}function n(a,c){return m(a,b("bs_curry").__1(c))}function o(a,b){a=m(a,b);h(a);return a}function p(a,c){return o(a,b("bs_curry").__1(c))}function q(a,b){b=b-a|0;if(b<0)return[];var c=new Array(b+1|0);for(var d=0;d<=b;++d)c[d]=a+d|0;return c}function r(a,b,c){b=b-a|0;if(b<0||c<=0)return[];b=(b/c|0)+1|0;var d=new Array(b);a=a;for(var e=0;e<b;++e)d[e]=a,a=a+c|0;return d}function s(a,b){var c=a.length,d=b.length;c=c<d?c:d;d=new Array(c);for(var e=0;e<c;++e)d[e]=[a[e],b[e]];return d}function t(a,b,c){var d=a.length,e=b.length;d=d<e?d:e;e=new Array(d);for(var f=0;f<d;++f)e[f]=c(a[f],b[f]);return e}function u(a,c,d){return t(a,c,b("bs_curry").__2(d))}function v(a,b){var c=a.length,d=b.length,e=new Array(c+d|0);for(var f=0;f<c;++f)e[f]=a[f];for(a=0;a<d;++a)e[c+a|0]=b[a];return e}function w(a){var b=a.length,c=0;for(var d=0;d<b;++d)c=c+a[d].length|0;d=new Array(c);c=0;for(var e=0;e<b;++e){var f=a[e];for(var g=0,h=f.length;g<h;++g)d[c]=f[g],c=c+1|0}return d}function x(a,c,d){if(d<=0)return[];var e=a.length;c=c<0?b("bs_caml").caml_int_max(e+c|0,0):c;e=e-c|0;e=e<d?e:d;if(e<=0)return[];d=new Array(e);for(var f=0;f<e;++f)d[f]=a[c+f|0];return d}function y(a,c){var d=a.length;c=c<0?b("bs_caml").caml_int_max(d+c|0,0):c;d=d-c|0;var e=new Array(d);for(var f=0;f<d;++f)e[f]=a[c+f|0];return e}function z(a,c,d,e){if(d<=0)return;var f=a.length;c=c<0?b("bs_caml").caml_int_max(f+c|0,0):c;f=f-c|0;f=f<d?f:d;if(f<=0)return;for(d=c,c=c+f|0;d<c;++d)a[d]=e}function A(a,b,c,d,e){if(d<=b){for(var f=0;f<e;++f)c[f+d|0]=a[f+b|0];return}for(f=e-1|0;f>=0;--f)c[f+d|0]=a[f+b|0]}function B(a,c,d,e,f){var g=a.length,h=d.length;c=c<0?b("bs_caml").caml_int_max(g+c|0,0):c;e=e<0?b("bs_caml").caml_int_max(h+e|0,0):e;f=b("bs_caml").caml_int_min(f,b("bs_caml").caml_int_min(g-c|0,h-e|0));if(e<=c){for(g=0;g<f;++g)d[g+e|0]=a[g+c|0];return}for(h=f-1|0;h>=0;--h)d[h+e|0]=a[h+c|0]}function C(a,b){for(var c=0,d=a.length;c<d;++c)b(a[c])}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,b){var c=a.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=b(a[e]);return d}function F(a,c){return E(a,b("bs_curry").__1(c))}function G(a,c){var d=a.length,e=0,f;while(f===void 0&&e<d){var g=a[e];c(g)&&(f=b("bs_caml_option").some(g));e=e+1|0}return f}function H(a,c){return G(a,b("bs_curry").__1(c))}function I(a,b){var c=a.length,d=0,e;while(e===void 0&&d<c){var f=a[d];b(f)&&(e=d);d=d+1|0}return e}function aa(a,c){return I(a,b("bs_curry").__1(c))}function J(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0;f<c;++f){var g=a[f];b(g)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function ba(a,c){return J(a,b("bs_curry").__1(c))}function K(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0;f<c;++f){var g=a[f];b(g,f)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function ca(a,c){return K(a,b("bs_curry").__2(c))}function L(a,c){var d=a.length,e=new Array(d),f=0;for(var g=0;g<d;++g){var h=a[g];h=c(h);h!==void 0&&(e[f]=b("bs_caml_option").valFromOption(h),f=f+1|0)}e.length=f;return e}function da(a,c){return L(a,b("bs_curry").__1(c))}function M(a,b){for(var c=0,d=a.length;c<d;++c)b(c,a[c])}function ea(a,c){return M(a,b("bs_curry").__2(c))}function N(a,b){var c=a.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=b(e,a[e]);return d}function fa(a,c){return N(a,b("bs_curry").__2(c))}function O(a,b,c){b=b;for(var d=0,e=a.length;d<e;++d)b=c(b,a[d]);return b}function ga(a,c,d){return O(a,c,b("bs_curry").__2(d))}function P(a,b,c){b=b;for(var d=a.length-1|0;d>=0;--d)b=c(b,a[d]);return b}function ha(a,c,d){return P(a,c,b("bs_curry").__2(d))}function Q(a,c,d,e){d=d;var f=b("bs_caml").caml_int_min(a.length,c.length);for(f=f-1|0;f>=0;--f)d=e(d,a[f],c[f]);return d}function ia(a,c,d,e){return Q(a,c,d,b("bs_curry").__3(e))}function R(a,b,c){b=b;for(var d=0,e=a.length;d<e;++d)b=c(b,a[d],d);return b}function ja(a,c,d){return R(a,c,b("bs_curry").__3(d))}function S(a,b){var c=a.length,d=0;while(!0){var e=d;if(e===c)return!0;if(!b(a[e]))return!1;d=e+1|0;continue}}function ka(a,c){return S(a,b("bs_curry").__1(c))}function T(a,b){var c=a.length,d=0;while(!0){var e=d;if(e===c)return!1;if(b(a[e]))return!0;d=e+1|0;continue}}function la(a,c){return T(a,b("bs_curry").__1(c))}function U(a,b,c,d,e){while(!0){var f=c;if(f===e)return!0;if(!d(a[f],b[f]))return!1;c=f+1|0;continue}}function V(a,c,d){return U(a,c,0,d,b("bs_caml").caml_int_min(a.length,c.length))}function ma(a,c,d){return V(a,c,b("bs_curry").__2(d))}function W(a,c,d){var e=0,f=b("bs_caml").caml_int_min(a.length,c.length);while(!0){var g=e;if(g===f)return!1;if(d(a[g],c[g]))return!0;e=g+1|0;continue}}function na(a,c,d){return W(a,c,b("bs_curry").__2(d))}function X(a,b,c){var d=a.length,e=b.length;if(d===e)return U(a,b,0,c,d);else return!1}function oa(a,c,d){return X(a,c,b("bs_curry").__2(d))}function Y(a,b,c){var d=a.length,e=b.length;if(d>e)return 1;else if(d<e)return-1;else{e=0;while(!0){var f=e;if(f===d)return 0;var g=c(a[f],b[f]);if(g!==0)return g;e=f+1|0;continue}}}function pa(a,c,d){return Y(a,c,b("bs_curry").__2(d))}function Z(a,b){var c=a.length,d=0,e=0,f=new Array(c),g=new Array(c);for(var h=0;h<c;++h){var i=a[h];b(i)?(f[d]=i,d=d+1|0):(g[e]=i,e=e+1|0)}f.length=d;g.length=e;return[f,g]}function qa(a,c){return Z(a,b("bs_curry").__1(c))}function ra(a){var b=a.length,c=new Array(b),d=new Array(b);for(var e=0;e<b;++e){var f=a[e];c[e]=f[0];d[e]=f[1]}return[c,d]}function $(a,b,c){var d=a.length;if(d===0)return"";d=d-1|0;var e=0,f="";while(!0){var g=f,h=e;if(h===d)return g+c(a[h]);f=g+(c(a[h])+b);e=h+1|0;continue}}function sa(a,c,d){return $(a,c,b("bs_curry").__1(d))}f.get=a;f.getExn=c;f.set=d;f.setExn=e;f.shuffleInPlace=h;f.shuffle=i;f.reverseInPlace=j;f.reverse=k;f.make=l;f.range=q;f.rangeBy=r;f.makeByU=m;f.makeBy=n;f.makeByAndShuffleU=o;f.makeByAndShuffle=p;f.zip=s;f.zipByU=t;f.zipBy=u;f.unzip=ra;f.concat=v;f.concatMany=w;f.slice=x;f.sliceToEnd=y;f.fill=z;f.blit=B;f.blitUnsafe=A;f.forEachU=C;f.forEach=D;f.mapU=E;f.map=F;f.getByU=G;f.getBy=H;f.getIndexByU=I;f.getIndexBy=aa;f.keepU=J;f.keep=ba;f.keepWithIndexU=K;f.keepWithIndex=ca;f.keepMapU=L;f.keepMap=da;f.forEachWithIndexU=M;f.forEachWithIndex=ea;f.mapWithIndexU=N;f.mapWithIndex=fa;f.partitionU=Z;f.partition=qa;f.reduceU=O;f.reduce=ga;f.reduceReverseU=P;f.reduceReverse=ha;f.reduceReverse2U=Q;f.reduceReverse2=ia;f.reduceWithIndexU=R;f.reduceWithIndex=ja;f.joinWithU=$;f.joinWith=sa;f.someU=T;f.some=la;f.everyU=S;f.every=ka;f.every2U=V;f.every2=ma;f.some2U=W;f.some2=na;f.cmpU=Y;f.cmp=pa;f.eqU=X;f.eq=oa}),null);
__d("bs_belt_SortArray",["bs_belt_Array","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("MWPSearchOfflineOpenConversations.bs",["I64","LSContactBitOffset","LSInitSyncCompleteSubscription.bs","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatTemporarySearchResult.bs","MWInboxSecureContentSearch","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","Promise","ReQL.bs","asyncToGeneratorRuntime","bs_belt_SortArray"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return"p__"+d("I64").to_string(a)+"__"+d("I64").to_string(b)}function h(a){a=a.split("__");var b=a.length;if(b!==3)return;else return[d("I64").of_string(a[1]),d("I64").of_string(a[2])]}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=(yield b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:d("I64").of_string(e),tl:0})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ig_contact_info")),{hd:d("I64").of_string(e),tl:0})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:d("I64").of_string(e),tl:{hd:d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH),tl:0}}))]));e=a[0];var f=a[1];a=a[2];if(e==null)return;if(e.isMemorialized!==!0&&!d("I64").equal(e.contactViewerRelationship,d("I64").one)&&d("I64").equal(e.blockedByViewerStatus,d("I64").zero)&&!d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(66),e,!1)){return d("MWChatTemporarySearchResult.bs").fromContact((a=a)!=null?a:void 0,void 0,e,(a=f)!=null?a:void 0,"offline")}});return j.apply(this,arguments)}function k(a,c){return b("Promise").all([d("ReQL.bs").firstExn(d("ReQL.bs").map(d("ReQL.bs").fromTableAscending(a.table("_user_info")),function(a){return a.facebookUserId})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d("I64").of_string(c),tl:0}))]).then(function(c){var e=c[1];if(e!=null&&e.folderName==="inbox"){if(d("LSMessagingThreadTypeUtil").isChannelPreview(e.threadType))return b("Promise").resolve();var f=c[0];return b("Promise").all([d("MWInboxSecureContentSearch").getThreadPics(e,f,a),d("MWInboxSecureContentSearch").getThreadParticipants(e,a)]).then(function(a){var b=a[0],c=d("I64").to_float(e.lastActivityTimestampMs);c={contactId:d("I64").zero,contactType:d("I64").zero,score:c,scoreIndex:d("I64").zero,scoreType:d("I64").zero};return d("MWChatTemporarySearchResult.bs").fromThread(e,"offline",f,b[0],b[1],a[1],c)})}else return b("Promise").resolve()})}function l(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;else if(b<a)return-1;else return 0}function m(a,e){return b("Promise").all(e.map(function(c){var e=c.category;switch(e.type){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:e=h(c.id);if(e!=null){e=e[0];return k(a,d("I64").to_string(e))}else return b("Promise").resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return k(a,c.id);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return i(a,c.id)}})).then(function(a){a=a.filter(Boolean);var b=c("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType!=="group"}),l);a=c("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType==="group"}),l);return b.concat(a)})}var n={contents:void 0};function e(a,c){var e=n.contents;if(e==null)return b("Promise").resolve([]);var f=d("MWPSearchOfflineOpenConversations").search(a).map(function(a){return a}).filter(function(a){if(c)return!0;a=a.category;switch(a.TAG){case 0:case 1:return!1;case 2:return!0}});return d("LSInitSyncCompleteSubscription.bs").maybeWaitForSyncGroup(e,d("LSIntEnum").ofNumber(7)).then(function(){return m(e,f)})}function o(a,c,e){return d("LSInitSyncCompleteSubscription.bs").maybeWaitForSyncGroup(a,d("LSIntEnum").ofNumber(7)).then(function(){return b("Promise").all(c.map(function(b){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:d("I64").of_string(b),tl:{hd:e,tl:0}})).then(function(a){if(a!=null)return[b,a.score]})}))})}function f(a,b){return o(a,b,d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))}g.getGroupParticipantKey=a;g.parseGroupParticipantKey=h;g.sortByRankingScore=l;g.searchHelper=m;g.db=n;g.search=e;g.fetchRankingScoresHelper=o;g.fetchRankingScoresKP=f}),98);
__d("MWPSearchOpenIndexer.bs",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversations.bs","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b=d("I64").to_string(a.id);a=a.name;var c={type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact};c={category:c,content:a,id:b};d("MWPSearchOfflineOpenConversations").add(c);h.set(b,c)}function j(a){var b=h.get(a);if(b!=null){h["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var k={addToIndex:i,contactRecords:h,remove:j},l=new Map();function m(a){var b=a.threadName;if(b==null)return;a=d("I64").to_string(a.threadKey);var c={type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName};c={category:c,content:b,id:a};d("MWPSearchOfflineOpenConversations").add(c);l.set(a,c)}function n(a){var b=l.get(a);if(b!=null){l["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var o={addToIndex:m,remove:n,threadRecords:l},p=new Map();function q(a,b){if(b==null)return;a=d("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;var c={type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant};c={category:c,content:b,id:a};d("MWPSearchOfflineOpenConversations").add(c);p.set(a,c)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b.contactId)));return q(b,a)});return s.apply(this,arguments)}function t(a,b){a=d("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a,b);b=p.get(a);if(b!=null){p["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var u={addToIndex:q,addToIndexWithoutContact:r,participantRecords:p,remove:t};function a(a,b){switch(b.TAG){case 0:return i(b._0);case 1:b=b._0;j(d("I64").to_string(b.id));return i(b);case 2:return j(d("I64").to_string(a))}}function c(a,b){switch(b.TAG){case 0:return m(b._0);case 1:b=b._0;n(d("I64").to_string(b.threadKey));return m(b);case 2:return n(d("I64").to_string(a))}}function e(a,c,d,e){switch(e.TAG){case 0:return r(a,e._0);case 1:t(c,d);return r(a,e._0);case 2:return b("Promise").resolve(t(c,d))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversations.bs").db.contents=a,b.forEach(i),c.forEach(m),e.forEach(function(a){return q(a[0],a[1])})}k=k;o=o;u=u;a=a;c=c;f=f;g.onGroupParticipantChanged=e;g.Contacts=k;g.GroupThreads=o;g.GroupParticipants=u;g.onContactChanged=a;g.onGroupThreadChanged=c;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTables","LSFactory","MWChatSearchInsertRankingContacts.bs","MWLSUseSyncRankings.bs","MWPSearchIndexingSource.bs","MWPSearchOpenIndexer.bs","Promise","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1},i={contents:!1},j={contents:!1},k=c("gkx")("2190");function a(a){if(!j.contents){j.contents=!0;d("JSScheduler").scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts.bs").insertRankingContacts(a);d("MWLSUseSyncRankings.bs").sync(a);var e=d("I64").of_string(c("CurrentUser").getID());if(!h.contents){h.contents=!0;c("promiseDone")(b("Promise").all([d("MWPSearchIndexingSource.bs").fetchContacts(a),k?d("MWPSearchIndexingSource.bs").fetchGroupThreads(a):b("Promise").resolve([]),k?d("MWPSearchIndexingSource.bs").fetchGroupParticipants(e,a):b("Promise").resolve([])]).then(function(b){var c=b[0];d("MWPSearchOpenIndexer.bs").startInitialIndex(a,c,b[1],b[2])}),function(){i.contents=!0},function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error indexing contacts for search")});d("MWPSearchIndexingSource.bs").subToContacts(a,function(a,b){return d("MWPSearchOpenIndexer.bs").onContactChanged(a,b)});if(k){d("MWPSearchIndexingSource.bs").subToGroupThreads(a,function(a,b){return d("MWPSearchOpenIndexer.bs").onGroupThreadChanged(a,b)});d("MWPSearchIndexingSource.bs").subToGroupParticipants(e,a,function(b,c,e){return d("MWPSearchOpenIndexer.bs").onGroupParticipantChanged(a,b,c,e)});return}else return}else return});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTables")(c("LSFactory")(a))},"readwrite")}function f(){if(d("MWLSUseSyncRankings.bs").isDone()&&d("MWChatSearchInsertRankingContacts.bs").isDone())return i.contents;else return!1}g.initialIndexingStarted=h;g.initialIndexingDone=i;g.makeAllStarted=j;g.makeAll=a;g.clearAll=e;g.isDone=f}),98);
__d("IGDInboxLeftRail.react",["CometTransientDialogProvider.react","IGDInboxThreadListContainer.react","IGDLeftRailContainer.react","IGDThreadListHeader.react","MWPSearchSystem","cr:6695","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useEffect,k=e.useRef;function a(a){a=a.xstyle;var e=c("useReStore")(),f=k(!1);j(function(){window.setTimeout(function(){f.current||(d("MWPSearchSystem").makeAll(e),f.current=!0)},1e4)},[]);return h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(c("IGDLeftRailContainer.react"),{activeNowTray:b("cr:6695")!=null?h.jsx(b("cr:6695"),{}):void 0,header:h.jsx(c("IGDThreadListHeader.react"),{}),primaryNav:h.jsx(c("IGDInboxThreadListContainer.react"),{}),xstyle:a})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("PolarisCreationEditRootQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"7121026761244982",metadata:{},name:"PolarisCreationEditRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("usePolarisGetRelationshipFragment_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisGetRelationshipFragment_user",selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muting_reel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bestie",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTSupervisionInfo",kind:"LinkedField",name:"supervision_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_guardian_of_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_supervised_by_viewer",storageKey:null}],storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisInstagramAdDirectReshareSendFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_direct_reshare_send",a(),{},h)}};b=a;g["default"]=b}),98);
__d("useMaybeLogInstagramAdDirectReshareSend",["PolarisContainerModuleUtils","PolarisInstagramAdDirectReshareSendFalcoEvent","PolarisInteractionsLogger","PolarisODS","PolarisViewpointActionUtils","polarisAdsSelectors","polarisRelationshipSelectors","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b,e=(b=a.owner)==null?void 0:b.id,f=c("usePolarisAnalyticsContext")(),g=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a}),i=d("polarisRelationshipSelectors").useRelationship(e||"");return h(function(){if(g!=null&&g.ad_id!=null&&g.tracking_token!=null&&i!=null){var b=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),h=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",j=d("PolarisContainerModuleUtils").getContainerModule(f);c("PolarisODS").incr("web.ads.feed.share");c("PolarisInstagramAdDirectReshareSendFalcoEvent").log(function(){return{a_pk:e,ad_id:g.ad_id,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(i),m_pk:h,m_t:b,pigeon_reserved_keyword_module:j,source_of_action:j,tracking_token:g.tracking_token}})}},[g,f,e,a,i])}g["default"]=a}),98);
__d("PolarisCreationEditRoot.entrypoint",["JSResourceForInteraction","PolarisCreationEditRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{polarisCreationEditRootQuery:{options:{},parameters:c("PolarisCreationEditRootQuery$Parameters"),variables:{shortcode:a.routeParams.shortcode}}}}},root:c("JSResourceForInteraction")("PolarisCreationEditRoot.react").__setRef("PolarisCreationEditRoot.entrypoint")};g["default"]=a}),98);
__d("polarisSourceVideoFactory",[],(function(a,b,c,d,e,f){"use strict";var g={dataURL:"",file:new Blob(),height:0,videoDurationMs:0,width:0};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}f["default"]=a}),66);
__d("polarisCreationMediaFactory",["PolarisCreationConstants","PolarisCreationV2State","polarisSourceImageFactory","polarisSourceVideoFactory"],(function(a,b,c,d,e,f,g){"use strict";b={adjustmentParams:{brightness:0,contrast:0,fade:0,saturation:0,temperature:0,vignette:0},altText:"",audio:d("PolarisCreationV2State").AUDIO_STATUS.none,coverPhoto:null,croppedCanvas:null,filteredBlob:null,filteredMedia:null,filteredThumbnails:null,filters:{filterName:"normal",filterStrength:100},id:null,image:null,originalAspectRatio:1,panningOffsetRatioX:0,panningOffsetRatioY:0,scale:1,tags:new Map(),transferProgress:null,trim:null,type:"image",uploadId:null,video:null};var h=babelHelpers["extends"]({},b,{image:c("polarisSourceImageFactory")()}),i=babelHelpers["extends"]({},b,{coverPhoto:{placeholders:[],selectedCoverPhoto:c("polarisSourceImageFactory")(),selectedCoverPhotoTime:d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME},type:"video",video:c("polarisSourceVideoFactory")()});function a(a,b){return b==="image"?babelHelpers["extends"]({},h,a):babelHelpers["extends"]({},i,a)}g["default"]=a}),98);
__d("polarisEditPostFactory",["PolarisCreationV2State","polarisCreationMediaFactory"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.usertags;var b=new Map();if(a!=null)for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f={position:[e.x,e.y],userId:e.user.id,username:e.user.username};b.set(e.user.id,f)}return b}function a(a){var b=new Map(),e=function(b){var c,d,e={};c={dataURL:b.src!=null?b.src:"",file:new Blob(),height:((c=b.dimensions)==null?void 0:c.height)!=null?(c=b.dimensions)==null?void 0:c.height:0,location:null,orientation:90,width:((c=b.dimensions)==null?void 0:c.width)!=null?(c=b.dimensions)==null?void 0:c.width:0};e.altText=b.accessibilityCaption!=null?b.accessibilityCaption:"";e.filteredMedia=c;e.video=b.isVideo!=null&&b.isVideo===!0?{dataURL:b.videoUrl!=null?b.videoUrl:"",file:new Blob(),height:((d=b.dimensions)==null?void 0:d.height)!=null?b.dimensions.height:0,videoDurationMs:0,width:((d=b.dimensions)==null?void 0:d.width)!=null?b.dimensions.width:0}:null;e.uploadId=a.id;e.image=b.isVideo!=null&&b.isVideo===!1?c:null;b.isVideo!=null&&b.isVideo===!0&&(e.coverPhoto={placeholders:[],selectedCoverPhoto:c,selectedCoverPhotoTime:0});e.tags=h(b);return e};if(!a.sidecarChildren||a.sidecarChildren.length===0)b.set(a.id,babelHelpers["extends"]({},c("polarisCreationMediaFactory")(e(a),a.isVideo===!0?"video":"image")));else for(var f=a.sidecarChildren,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;b.set(j.id,babelHelpers["extends"]({},c("polarisCreationMediaFactory")(e(j),j.isVideo===!0?"video":"image")))}return Object.freeze({advancedSettings:{hasAdsEnabled:!1,hasAudioReuseDisabled:(a==null?void 0:(j=a.clipsMetadata)==null?void 0:(i=j.original_sound_info)==null?void 0:i.is_reuse_disabled)!=null?a.clipsMetadata.original_sound_info.is_reuse_disabled:!1,hasCommentsDisabled:a.commentsDisabled!=null?a.commentsDisabled:!1,hasLikeViewCountsDisabled:a.likeAndViewCountsDisabled!=null?a.likeAndViewCountsDisabled:!1,hasVideoSubtitlesEnabled:!1},caption:a.caption!=null?a.caption:"",cropRatio:a.dimensions!=null?((g=a.dimensions)==null?void 0:g.width)/((f=a.dimensions)==null?void 0:f.height):1,cropType:d("PolarisCreationV2State").CropTypes.ORIGINAL,currentMediaId:!a.sidecarChildren||a.sidecarChildren.length===0?a.id:a.sidecarChildren[0].id,eligibleUpcomingEvents:[],entryPath:"",errorMessage:null,errorPage:null,hasViewedPhotoTooltip:!1,hasViewedReorderTooltip:!1,isPosted:!0,location:a.location!=null?{address:((e=a.location)==null?void 0:e.slug)!=null?a.location.slug:"",external_id:((j=a.location)==null?void 0:j.id)!=null?(i=a.location)==null?void 0:i.id:"",external_id_source:"",lat:((g=a.location)==null?void 0:g.lat)!=null?(f=a.location)==null?void 0:f.lat:0,lng:((e=a.location)==null?void 0:e.lng)!=null?(j=a.location)==null?void 0:j.lng:0,name:((i=a.location)==null?void 0:i.name)!=null?(g=a.location)==null?void 0:g.name:""}:null,media:b,monetizationEligibility:[],multiPostOrder:!a.sidecarChildren||a.sidecarChildren.length===0?[a.id]:a.sidecarChildren.map(function(a){return a.id}),postedMedia:null,sessionId:"",shortcode:a.code,upcomingEvent:a.upcomingEvent})}g["default"]=a}),98);
__d("PolarisUserTaggedPostsStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("Adicionar");b=h._("Editar");c=h._("Ocultar");d=h._("Aprovar marca\u00e7\u00f5es manualmente");e=h._("Bot\u00e3o Aprovar marca\u00e7\u00f5es manualmente");f=h._("Marca\u00e7\u00f5es pendentes");var i=h._("Controles de marca\u00e7\u00f5es"),j=h._("Publica\u00e7\u00f5es marcadas"),k=h._("Todas as futuras publica\u00e7\u00f5es marcadas ser\u00e3o aprovadas e adicionadas ao seu perfil automaticamente."),l=h._("Desativar"),m=h._("Ativar"),n=h._("Desativar a an\u00e1lise de marca\u00e7\u00f5es?"),o=h._("Controle todas as futuras publica\u00e7\u00f5es marcadas. Voc\u00ea poder\u00e1 adicion\u00e1-las manualmente ao seu perfil ou remov\u00ea-las permanentemente. As publica\u00e7\u00f5es marcadas anteriores n\u00e3o ser\u00e3o afetadas."),p=h._("Ocultar no meu perfil"),q=h._("Saiba mais"),r=h._("Remover"),s=h._("Remover-me da publica\u00e7\u00e3o"),t=h._({"*":"Voc\u00ea ser\u00e1 removido(a) dessa publica\u00e7\u00e3o, que ficar\u00e1 oculta no seu perfil.","1":"Voc\u00ea ser\u00e1 removido dessa publica\u00e7\u00e3o, que ficar\u00e1 oculta no seu perfil.","2":"Voc\u00ea ser\u00e1 removida dessa publica\u00e7\u00e3o, que ficar\u00e1 oculta no seu perfil.","__vcg":1}),u=h._("Mostrar no meu perfil");h=h._("Op\u00e7\u00f5es de marca\u00e7\u00e3o");g.ADD_TAGS=a;g.EDIT_TAGS=b;g.HIDE_TAGS=c;g.MANUALLY_APPROVE_TAGS=d;g.MANUALLY_APPROVE_SWITCH=e;g.PENDING_TAGS_TEXT=f;g.TAG_CONTROLS_TEXT=i;g.TAGGED_POSTS_TAG=j;g.AUTOMATICALLY_ADD_TAGGED_POSTS_TEXT=k;g.TURN_OFF_TEXT=l;g.TURN_ON_TEXT=m;g.TURN_TAG_REVIEW_OFF_TEXT=n;g.MANUALLY_REVIEW_TAGGED_POSTS_TEXT=o;g.HIDE_FROM_MY_PROFILE=p;g.LEARN_MORE_TAG_OPTIONS=q;g.REMOVE=r;g.REMOVE_ME_FROM_POST=s;g.REMOVE_ME_FROM_POST_MODAL_TEXT=t;g.SHOW_ON_MY_PROFILE=u;g.TAG_OPTIONS=h}),98);
__d("PolarisAPINominateClipsMedia",["PolarisInstapi","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e="/api/v1/clips/recommend_label/";b={author_id:c("nullthrows")((b=b.owner)==null?void 0:b.id),clips_media_id:a,labeling_categories:[]};return d("PolarisInstapi").apiPost(e,{body:b})}g.nominateClipsMedia=a}),98);
__d("PolarisUnfollowDialog_DEPRECATED.react",["IGCoreDialog","PolarisUnfollowDialogContentContainer.react","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.analyticsContext,e=a.analyticsExtra,f=a.onClose,g=a.onUnfollowUser,i=a.size;i=i===void 0?90:i;a=a.userId;var j=function(a){a||c("QPLUserFlow").endCancel(c("qpl")._(379193744,"299")),f()};return h.jsx(d("IGCoreDialog").IGCoreDialog,{"data-testid":void 0,onModalClose:function(){return j(!1)},children:h.jsx(c("PolarisUnfollowDialogContentContainer.react"),{analyticsContext:b,analyticsExtra:e,onClose:j,onUnfollowUser:g,size:i,userId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisViewAccountSheet.react",["fbt","IGDSBox.react","IGDSText.react","PolarisIGCoreConstants","PolarisIGCoreSheetOrModal","PolarisIGCoreText","PolarisReactRedux","PolarisUserAvatar.react","PolarisUserCardSectionWrapper.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Sobre esta conta"),k=h._("Informa\u00e7\u00f5es da conta"),l=h._("Para ajudar a manter a nossa comunidade aut\u00eantica, estamos mostrando informa\u00e7\u00f5es sobre contas que alcan\u00e7am muitas pessoas ou anunciam no Instagram."),m=h._("Ver por que essas informa\u00e7\u00f5es s\u00e3o importantes.");function a(a){var b=d("PolarisReactRedux").useSelector(function(b){return d("polarisUserSelectors").getUserById(b,a.userId)});function e(){var a;return i.jsx(c("PolarisUserCardSectionWrapper.react"),{borderBottom:!0,children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"column",flex:"grow",padding:4,position:"relative",children:[i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:b.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large,username:b.username}),i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:((a=b.username)==null?void 0:a.length)?i.jsx(c("IGDSText.react").BodyEmphasized,{children:b.username}):null})]})})}e.displayName=e.name+" [from "+f.id+"]";function g(){return i.jsxs(c("IGDSBox.react"),{alignContent:"start",direction:"column",flex:"grow",padding:4,position:"relative",children:[i.jsx(c("PolarisIGCoreText"),{display:"inline",weight:"semibold",children:k}),i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:i.jsxs(c("PolarisIGCoreText").Body,{display:"inline",children:[l,"\xa0",m]})})]})}g.displayName=g.name+" [from "+f.id+"]";return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:a.onClose,title:j,children:i.jsxs(c("IGDSBox.react"),{paddingY:2,position:"relative",children:[e(),g()]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastAboutThisAccountModal.react",["AboutThisAccountRefererTypes","PolarisAboutThisAccountModal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;if(a.owner)return h.jsx(c("PolarisAboutThisAccountModal.react"),{onClose:b,referer_type:c("AboutThisAccountRefererTypes").FEED,user:a.owner})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastAdDebugToolModal.react",["PolarisAdDebugToolModalContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;return h.jsx(c("PolarisAdDebugToolModalContent.react"),{forFeed:!0,onClose:b,post:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastAdRemovedModal.react",["PolarisAdRemovedModal.react","nullthrows","polarisAdsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;a=c("nullthrows")(d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.ad_id}));return h.jsx(c("PolarisAdRemovedModal.react"),{adId:a,onClose:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastCopyModal.react",["PolarisCopyLinkModal.react","PolarisPostShareUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;a=d("PolarisPostShareUtils").getCopyUrl(a);return h.jsx(c("PolarisCopyLinkModal.react"),{onClose:b,postUrl:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastDeleteModal.react",["fbt","IGCoreDialog","PolarisGenericStrings","PolarisLinkBuilder","PolarisPostActionDeletePost","PolarisReactRedux","PolarisRoutes","PolarisUA","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Excluir publica\u00e7\u00e3o?");function a(a){var b=a.location,e=a.onClose,f=a.post,g=d("PolarisReactRedux").useDispatch(),k=d("PolarisReactRedux").useSelector(function(a){return d("polarisUserSelectors").getViewer(a)});a=function(){var a;if(b!=null&&d("PolarisUA").isDesktop()){var h;b.pathname!==d("PolarisRoutes").FEED_PATH&&(a=b.pathname);((h=a)==null?void 0:h.startsWith("/p/"))&&(a=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(k==null?void 0:k.username)))}g(d("PolarisPostActionDeletePost").deletePost(f.id,a));e()};return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:h._("Tem certeza de que deseja excluir essa publica\u00e7\u00e3o?"),title:j,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:d("PolarisGenericStrings").DELETE_TEXT}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastDirectShareSheet.react",["PolarisDirectActionSendPostToUsers","PolarisDirectLogger","PolarisDirectSearchUserContainer.react","PolarisDirectShareSheet.react","PolarisDirectStrings","PolarisLogger","PolarisPostTypeUtils","PolarisReactRedux","PostFastDirectShareSheetModal","QPLUserFlow","gkx","isStringNullOrEmpty","qex","qpl","react","useMaybeLogInstagramAdDirectReshareSend","usePolarisAnalyticsContext","usePolarisMQTT"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.onClose,e=a.post,f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisMQTT")(),j=c("usePolarisAnalyticsContext")(),k=d("PolarisPostTypeUtils").getPostType(e),l=c("useMaybeLogInstagramAdDirectReshareSend")(e);i(function(){c("gkx")("4908")||d("PolarisLogger").logAction("shareClick",{source:j,type:k})},[j,k]);var m=function(){c("QPLUserFlow").endCancel(c("qpl")._(379205139,"1723"),{annotations:{string:{source:j}}}),b()};a=function(a,b){c("QPLUserFlow").endSuccess(c("qpl")._(379205139,"1723"),{annotations:{string:{source:j}}});m();var h=j;d("PolarisDirectLogger").DirectLogger.logDirectEvent(d("PolarisDirectShareSheet.react").PAGE_ID,"share_sheet_send",{referral:h});f(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:c("isStringNullOrEmpty")(b)?void 0:b,mediaId:String(e.id),mediaOverlayInfo:e.mediaOverlayInfo,mqtt:g,recipients:a}));l()};var n=g!=null||c("qex")._("605")===!0;return n&&e.id!=null&&e.id.length>0&&h.jsx(c("PostFastDirectShareSheetModal"),{"aria-label":d("PolarisDirectStrings").SHARE_TITLE,fixedHeight:!1,onClose:m,size:"large",children:h.jsx(c("PolarisDirectSearchUserContainer.react"),{backAction:m,forwardAction:a,forwardText:d("PolarisDirectStrings").SEND_BUTTON_STRING,includeGroup:!0,isModal:!0,isShareSheet:!0,pageId:d("PolarisDirectShareSheet.react").PAGE_ID,title:d("PolarisDirectStrings").SHARE_TITLE})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastEditModal.react",["PolarisCreationModal.react","polarisEditPostFactory","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a.location;var b=a.onClose;a=a.post;a=c("polarisEditPostFactory")(a);a={beginningState:a,onClose:b};return h.jsx(c("PolarisCreationModal.react"),{editPostInfo:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastEmbedModal.react",["PolarisEmbedModal.react","nullthrows","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.onClose;a=a.post;var e=c("usePolarisAnalyticsContext")(),f=a.code||"",g=a.productType;b=c("nullthrows")((b=a.owner)==null?void 0:b.id);return h.jsx(c("PolarisEmbedModal.react"),{analyticsContext:e,code:f,id:a.id,onClose:d,ownerId:b,productType:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXPostOptionReportAdModalBase.react",["IGDSDialogBackwardsCompatibilityWrapper.react","PolarisFRXReportModal.react","PolarisReportConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){switch(a){case"feed":case"feedPage":case"adsSettingsPage":case"adsActivityFeed":case"adsActivity":return d("PolarisReportConstants").FRXLocation.FEED;default:return d("PolarisReportConstants").FRXLocation.POST}}function a(a){var b=a.adID,e=a.analyticsContext,f=a.containerModule,g=a.frxEntryPoint,j=a.frxObjectType,k=a.onClose,l=a.ownerID,m=a.ownerProfilePicURL;a=a.ownerUsername;e=i(e);return h.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:h.jsx(c("PolarisFRXReportModal.react"),{containerModule:f,frxEntryPoint:g,frxLocation:e,frxObjectType:j,onClose:function(){return k&&k()},reportedObjectID:b,reportedOwner:{id:l,profilePicURL:m,username:a},useSimpleBlockModalWithoutRefresh:e===d("PolarisReportConstants").FRXLocation.POST})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastHideAdModal.react",["PolarisFRXPostOptionReportAdModalBase.react","PolarisReportConstants","polarisAdsSelectors","react","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;var e=d("usePolarisPost").usePostAndOwner(a.id,function(a,b){return b.id}),f=d("usePolarisPost").usePostAndOwner(a.id,function(a,b){return b.username}),g=d("usePolarisPost").usePostAndOwner(a.id,function(a,b){return b.profilePictureUrl}),i=c("usePolarisAnalyticsContext")();a=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.ad_id});return a==null?null:h.jsx(c("PolarisFRXPostOptionReportAdModalBase.react"),{adID:a,analyticsContext:i,frxEntryPoint:d("PolarisReportConstants").FRXEntryPoint.HIDE_AD_BUTTON,frxObjectType:d("PolarisReportConstants").FRXObjectType.AD,onClose:b,ownerID:e,ownerProfilePicURL:g,ownerUsername:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastLoadingModal.react",["PolarisLoadingModal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisLoadingModal.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionAboutThisAccount.react",["fbt","IGCoreDialog","PolarisAboutThisAccountUtils","PolarisPostModalContext.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a.onClose;a=a.post;a=a.owner;a=a!=null&&d("PolarisAboutThisAccountUtils").getIsEligibleForATA(a);var b=d("PolarisPostModalContext.react").useSetPostModal();if(!a)return null;a=function(){b("aboutThisAccount")};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:h._("Sobre essa conta")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostOwnerUtils",["PolarisConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return((a=a.owner)==null?void 0:a.id)===d("PolarisConfig").getViewerId()}g.getPostOwnedByViewer=a}),98);
__d("PolarisPostFastOptionAchievements.react",["fbt","IGCoreDialog","IGDSText.react","PolarisPostModalContext.react","PolarisPostOwnerUtils","polarisGetPostFromGraphMediaInterface","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.post;var b=d("PolarisPostModalContext.react").useSetPostModal();return!d("PolarisPostOwnerUtils").getPostOwnedByViewer(a)||!d("polarisGetPostFromGraphMediaInterface").isClipsPost(a)||((a=a.clipsMetadata)==null?void 0:(a=a.achievements_info)==null?void 0:a.show_achievements)!==!0||!c("qex")._("658")?null:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){return b("achievements")},children:i.jsx(c("IGDSText.react"),{children:h._("Conquistas")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionDelete.react",["fbt","IGCoreDialog","PolarisLogger","PolarisPostModalContext.react","PolarisPostOwnerUtils","PolarisPostTypeUtils","PolarisUA","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.post;var b=d("PolarisPostOwnerUtils").getPostOwnedByViewer(a),e=d("PolarisPostTypeUtils").getPostType(a),f=c("usePolarisAnalyticsContext")(),g=d("PolarisPostModalContext.react").useSetPostModal();a=d("PolarisUA").isMobile();d("PolarisUA").isDesktop()&&(a=!0);if(!b||!a)return null;b=function(){d("PolarisLogger").logAction("delete_post_click",{source:f,type:e}),g("delete")};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:b,children:h._("Excluir")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionDemote.react",["IGCoreDialog","PolarisPostActionHidePost","PolarisReactRedux","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose,e=a.post,f=d("PolarisReactRedux").useDispatch();a=c("usePolarisAnalyticsContext")();var g=e.feedDemotionControl,i=e.feedRecsDemotionControl;if(g==null&&i==null||a!=="feedPage")return null;g=function(){f(d("PolarisPostActionHidePost").hidePost({inventorySource:i!=null?"explore_story":"media_or_ad",postId:e.id})),b()};a=(a=(a=e.feedDemotionControl)==null?void 0:a.title)!=null?a:(a=e.feedRecsDemotionControl)==null?void 0:a.title;return h.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:g,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionEdit.react",["fbt","IGCoreDialog","PolarisCreationEditRoot.entrypoint","PolarisCreationModalPlaceholder.react","PolarisHasFeedCreation","PolarisODS","PolarisPostModalContext.react","PolarisPostOwnerUtils","PolarisUA","gkx","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.onClose;a=a.post;var e=d("PolarisPostOwnerUtils").getPostOwnedByViewer(a);a=c("useIGDSEntryPointDialog")(c("PolarisCreationEditRoot.entrypoint"),{routeParams:{shortcode:a.code},routeProps:{}},"button",function(a){return i.jsx(c("PolarisCreationModalPlaceholder.react"),{onClose:a})});var f=a[0];a=d("PolarisUA").isDesktop()&&d("PolarisHasFeedCreation").hasFeedCreation();if(!e||!a)return null;e=function(){c("PolarisODS").incr("web.profile.edit_post_click"),f({}),b()};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:e,children:h._("Editar")})}j.displayName=j.name+" [from "+f.id+"]";function k(a){a=a.post;a=d("PolarisPostOwnerUtils").getPostOwnedByViewer(a);var b=d("PolarisPostModalContext.react").useSetPostModal(),e=d("PolarisUA").isDesktop()&&d("PolarisHasFeedCreation").hasFeedCreation();if(!a||!e)return null;a=function(){c("PolarisODS").incr("web.profile.edit_post_click"),b("edit")};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:h._("Editar")})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.onClose;a=a.post;return c("gkx")("8116")?i.jsx(j,{onClose:b,post:a}):i.jsx(k,{onClose:b,post:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionEmbed.react",["fbt","IGCoreDialog","PolarisLogger","PolarisPostModalContext.react","PolarisPostTypeUtils","polarisGetPostFromGraphMediaInterface","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a.onClose;var b=a.post,e=b.owner;a=e!=null&&d("polarisGetPostFromGraphMediaInterface").getUserIsEmbeddable(e);var f=d("PolarisPostModalContext.react").useSetPostModal(),g=c("usePolarisAnalyticsContext")(),j=d("PolarisPostTypeUtils").getPostType(b);if(!a)return null;a=function(){d("PolarisLogger").logAction("embedCodeClick",{mediaId:b.id,ownerId:e==null?void 0:e.id,source:g,type:j}),f("embed")};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:h._("Incorporar")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionFavorite.react",["IGCoreDialog","PolarisFavoritesStrings","PolarisReactRedux","PolarisRelationshipActionFavoriteUser","PolarisRelationshipActionUnfavoriteUser","polarisRelationshipSelectors","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;var e=d("PolarisReactRedux").useDispatch(),f=a.owner,g=c("usePolarisAnalyticsContext")();a=d("polarisRelationshipSelectors").useRelationship(((a=a.owner)==null?void 0:a.id)||"");var i=a!=null&&d("polarisRelationshipSelectors").favoritedByViewer(a);a=a!=null&&d("polarisRelationshipSelectors").followedByViewer(a);var j=function(){if(!f)return;i?e(d("PolarisRelationshipActionUnfavoriteUser").unfavoriteUser(f.id,g)):e(d("PolarisRelationshipActionFavoriteUser").favoriteUser(f.id,g));b()};return!a||!(g==="feedPage"||g==="postPage")?null:h.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:j,children:i?d("PolarisFavoritesStrings").UNFAVORITE_MENU_TEXT:d("PolarisFavoritesStrings").FAVORITE_MENU_TEXT})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionGoToPost.react",["fbt","IGCoreDialog","IGDSText.react","PolarisFastLink.react","PolarisPostShareUtils","react","usePolarisIsOnPostPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b;a=a.post;var e=c("usePolarisIsOnPostPage")();b=!!((b=a.code)==null?void 0:b.length)&&!e;e=d("PolarisPostShareUtils").getShareURL(a);return!b?null:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{"data-testid":void 0,children:i.jsx(c("PolarisFastLink.react"),{display:"block",href:e,traceParams:{navigation_source:"polaris_go_to_post"},children:i.jsx(c("IGDSText.react"),{color:"primaryText",children:h._("Ir para a publica\u00e7\u00e3o")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionHideAd.react",["PolarisHideAdDialogItem.react","PolarisODS","PolarisPostModalContext.react","PolarisViewpointActionUtils","polarisAdsSelectors","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a.onClose;a=a.post;var b=d("PolarisPostModalContext.react").useSetPostModal(),e=c("usePolarisAnalyticsContext")(),f=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.ad_id}),g=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.tracking_token});a=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a);if(e!=="feedPage")return null;e=function(){c("PolarisODS").incr("web.ads.feed.hide_option.click"),b("hideAd")};return h.jsx(c("PolarisHideAdDialogItem.react"),{adId:f,adTrackingToken:g,mpk:a,onClick:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionNominate.react",["fbt","IGCoreDialog","PolarisAPINominateClipsMedia","gkx","polarisGetPostFromGraphMediaInterface","react","usePolarisShowToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a.onClose;var b=a.post,e=c("usePolarisShowToast")();a=function(){d("PolarisAPINominateClipsMedia").nominateClipsMedia(b.id,b).then(function(a){e({text:"Thank you! We'll consider your nomination."})},function(a){e({text:"Request can't be completed. Try again later."})})};return c("gkx")("4920")&&d("polarisGetPostFromGraphMediaInterface").isClipsPost(b)?i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:h._("Indicar")}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionRemoveFromAdActivity.react",["CometRelayEnvironmentProvider","PolarisPostModalContext.react","PolarisRemoveFromAdActivityDialogItem.react","nullthrows","polarisAdsSelectors","react","usePolarisIsOnAdsActivityPage"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;var e=c("usePolarisIsOnAdsActivityPage")(),f=d("PolarisPostModalContext.react").useSetPostModal();a=c("nullthrows")(d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a}));return!e?null:h.jsx(c("CometRelayEnvironmentProvider"),{children:h.jsx(c("PolarisRemoveFromAdActivityDialogItem.react"),{adInfo:a,onClose:b,setModal:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionReport.react",["fbt","IGCoreDialog","PolarisLinkBuilder","PolarisNavigationUtils","PolarisPostModalContext.react","PolarisPostOwnerUtils","PolarisRoutes","polarisIsUserLoggedIn","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Denunciar");function a(a){var b=a.post;a=d("PolarisPostOwnerUtils").getPostOwnedByViewer(b);var c=d("PolarisPostModalContext.react").useSetPostModal();if(a)return null;a=function(){if(!d("polarisIsUserLoggedIn").isUserLoggedIn()){var a=b.code;d("PolarisNavigationUtils").openExternalURL(d("PolarisLinkBuilder").buildLoggedOutReportLink(d("PolarisRoutes").COMMUNITY_VIOLATIONS_GUIDELINES_CONTACT_FORM_PATH,a))}else c("report")};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive","data-testid":void 0,onClick:a,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionReportAd.react",["PolarisODS","PolarisPostModalContext.react","PolarisPostOwnerUtils","PolarisReportAdDialogItem.react","PolarisViewpointActionUtils","polarisAdsSelectors","polarisIsUserLoggedIn","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a.onClose;a=a.post;var b=d("PolarisPostOwnerUtils").getPostOwnedByViewer(a),e=d("PolarisPostModalContext.react").useSetPostModal(),f=c("usePolarisAnalyticsContext")(),g=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.ad_id}),i=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.tracking_token}),j=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a);if(f!=="feedPage"&&f!=="adsActivityFeed"&&f!=="adsActivity")return null;if(b)return null;f=function(){d("polarisIsUserLoggedIn").isUserLoggedIn()&&(c("PolarisODS").incr("web.ads.feed.report_option.click"),e("reportAd"))};return h.jsx(c("PolarisReportAdDialogItem.react"),{adId:g,adTrackingToken:i,mpk:j,onClick:f,post:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionShare.react",["fbt","IGCoreDialog","IGDSText.react","PolarisPostModalContext.react","PolarisPostShareUtils","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a.onClose;a=a.post;var b=d("PolarisPostModalContext.react").useSetPostModal();if(a.owner==null)return null;a=d("PolarisPostShareUtils").getIsShareable(a,a.owner)&&d("PolarisPostShareUtils").getIsMediaQuarantinedForShare(a);return!a?null:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{"data-testid":void 0,onClick:function(){return b("share")},children:i.jsx(c("IGDSText.react"),{children:h._("Compartilhar em...")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionTagged.react",["IGCoreDialog","PolarisConfig","PolarisPostModalContext.react","PolarisUserTaggedPostsStrings","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.post;var b=d("PolarisPostModalContext.react").useSetPostModal();a=a.usertags;var e=d("PolarisConfig").getViewerId();return e==null||a==null||!a.some(function(a){return a.user.id===e})||c("qex")._("1351")!==!0?null:h.jsx(d("IGCoreDialog").IGCoreDialogItem,{"data-testid":void 0,onClick:function(){return b("tagOptions")},children:d("PolarisUserTaggedPostsStrings").TAG_OPTIONS})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionToggleCommenting.react",["fbt","IGCoreDialog","PolarisGenericStrings","PolarisHasFeedCreation","PolarisInstapi","PolarisODS","PolarisPostActionLoadPost","PolarisPostOwnerUtils","PolarisReactRedux","PolarisToastActions","PolarisUA","polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClose,e=a.post;a=d("PolarisPostOwnerUtils").getPostOwnedByViewer(e);var f=d("polarisGetPostFromGraphMediaInterface").isPostCommentingOff(e),g=d("PolarisUA").isDesktop()&&d("PolarisHasFeedCreation").hasFeedCreation(),j=d("polarisGetPostFromGraphMediaInterface").getPostShortCode(e),k=d("PolarisReactRedux").useDispatch();if(!a||!g)return null;function l(a){if(a===!0){k({postId:e.id,type:"ENABLE_POST_COMMENTS"});return d("PolarisInstapi").apiPost("/api/v1/media/{compound_media_id}/enable_comments/",{path:{compound_media_id:e.id}})}k({postId:e.id,type:"DISABLE_POST_COMMENTS"});return d("PolarisInstapi").apiPost("/api/v1/media/{compound_media_id}/disable_comments/",{path:{compound_media_id:e.id}})}var m=function(a){c("PolarisODS").incr("web.profile.edit_post_click"),c("PolarisODS").incr("web.edit.toggle_commenting"),a===!0?c("PolarisODS").incr("web.edit.toggle_commenting_on"):c("PolarisODS").incr("web.edit.toggle_commenting_off")};a=function(){var a=!1;m(f);l(f).then(function(){a||k(d("PolarisPostActionLoadPost").loadPost(j!=null?j:"",e.id))})["catch"](function(){k(d("PolarisToastActions").showToast({text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})),k(d("PolarisPostActionLoadPost").loadPost(j!=null?j:"",e.id))});b();return function(){a=!0}};return i.jsxs(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:[f&&h._("Ativar coment\u00e1rios"),!f&&h._("Desativar coment\u00e1rios")]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionToggleViewLikeCount.react",["fbt","IGCoreDialog","PolarisGenericStrings","PolarisHasFeedCreation","PolarisInstapi","PolarisODS","PolarisPostActionLoadPost","PolarisPostOwnerUtils","PolarisReactRedux","PolarisToastActions","PolarisUA","polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClose,e=a.post;a=d("PolarisPostOwnerUtils").getPostOwnedByViewer(e);var f=d("polarisGetPostFromGraphMediaInterface").isPostLikeViewCountVisible(e),g=d("PolarisUA").isDesktop()&&d("PolarisHasFeedCreation").hasFeedCreation(),j=d("PolarisReactRedux").useDispatch(),k=d("polarisGetPostFromGraphMediaInterface").getPostShortCode(e);if(!a||!g)return null;function l(a){a===!0?j({postId:e.id,type:"HIDE_POST_LIKE_COUNT"}):j({postId:e.id,type:"UNHIDE_POST_LIKE_COUNT"});return d("PolarisInstapi").apiPost("/api/v1/media/update_like_and_view_counts_visibility/",{body:{like_and_view_counts_disabled:f,media_id:e.id}})}var m=function(a){c("PolarisODS").incr("web.profile.edit_post_click"),c("PolarisODS").incr("web.edit.toggle_like_count_visibility"),a===!0?c("PolarisODS").incr("web.edit.toggle_like_count_visibility_hidden"):c("PolarisODS").incr("web.edit.toggle_like_count_visibility_unhidden")};a=function(){var a=!1;m(f);l(f).then(function(){a||j(d("PolarisPostActionLoadPost").loadPost(k!=null?k:"",e.id))})["catch"](function(){j(d("PolarisToastActions").showToast({text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})),j(d("PolarisPostActionLoadPost").loadPost(k!=null?k:"",e.id))});b();return function(){a=!0}};return i.jsxs(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:[f&&h._("Ocultar n\u00famero de curtidas"),!f&&h._("Reexibir n\u00famero de curtidas")]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionUnfollow.react",["fbt","IGCoreDialog","PolarisConnectionsLogger","PolarisGroupProfileUtils","PolarisPostModalContext.react","PolarisProfileStrings","PolarisReactRedux","QPLUserFlow","polarisRelationshipSelectors","qpl","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Deixar de seguir");function k(a,b){b=b.owner;if(!b)return!1;a=d("polarisRelationshipSelectors").getRelationship(a.relationships,b.id);return d("polarisRelationshipSelectors").followedByViewer(a)}function a(a){var b;a.onClose;var e=a.post;a=d("PolarisReactRedux").useSelector(function(a){return k(a,e)});var f=d("PolarisPostModalContext.react").useSetPostModal(),g=e.group!=null&&d("PolarisGroupProfileUtils").getIsUserGroupProfile(e.group),h=((b=e.group)==null?void 0:b.id)!=null&&g?(b=e.group)==null?void 0:b.id:(b=e.owner)==null?void 0:b.id,l=c("usePolarisAnalyticsContext")();if(!a)return null;b=function(){d("PolarisConnectionsLogger").logConnectionAction({containerModule:l,eventName:"unfollow_button_tapped",targetId:h}),c("QPLUserFlow").start(c("qpl")._(379193744,"299"),{annotations:{string:{source:l}}}),f("unfollow")};return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive","data-testid":void 0,onClick:b,children:g?d("PolarisProfileStrings").LEAVE_GROUP_PROFILE_TEXT:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionWAIST.react",["PolarisODS","PolarisPostModalContext.react","PolarisWAISTDialogItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("PolarisPostModalContext.react").useSetPostModal();a=function(){c("PolarisODS").incr("web.ads.feed.waist_option.click"),b("whyAmISeeingThisAd")};return h.jsx(c("PolarisWAISTDialogItem.react"),{onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionsModal.react",["IGCoreDialog","PolarisAboutAdsDialogItem.react","PolarisAdsGatingHelpers","PolarisGenericStrings","PolarisHasFeedCreation","PolarisPostFastOptionAboutThisAccount.react","PolarisPostFastOptionAchievements.react","PolarisPostFastOptionCopyLink.react","PolarisPostFastOptionDelete.react","PolarisPostFastOptionDemote.react","PolarisPostFastOptionEdit.react","PolarisPostFastOptionEmbed.react","PolarisPostFastOptionFavorite.react","PolarisPostFastOptionGoToPost.react","PolarisPostFastOptionHideAd.react","PolarisPostFastOptionNominate.react","PolarisPostFastOptionRemoveFromAdActivity.react","PolarisPostFastOptionReport.react","PolarisPostFastOptionReportAd.react","PolarisPostFastOptionShare.react","PolarisPostFastOptionTagged.react","PolarisPostFastOptionToggleCommenting.react","PolarisPostFastOptionToggleViewLikeCount.react","PolarisPostFastOptionUnfollow.react","PolarisPostFastOptionWAIST.react","PolarisPostModalContext.react","PolarisReportUnderLawDialogItem.react","cr:1468","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.onClose;a=a.post;var f=d("PolarisPostModalContext.react").useSetPostModal();return a.isSponsored===!0?h.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:e,children:[h.jsx(c("PolarisPostFastOptionHideAd.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionReportAd.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionRemoveFromAdActivity.react"),{onClose:e,post:a}),d("PolarisAdsGatingHelpers").hasAdWAIST()&&h.jsx(c("PolarisPostFastOptionWAIST.react"),{}),h.jsx(c("PolarisAboutAdsDialogItem.react"),{}),b("cr:1468")!=null&&h.jsx(b("cr:1468"),{onClick:function(){f("viewAdDebugTool")}}),h.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT})]}):h.jsxs(d("IGCoreDialog").IGCoreDialog,{"data-testid":void 0,onModalClose:e,children:[h.jsx(c("PolarisPostFastOptionDelete.react"),{onClose:e,post:a}),d("PolarisHasFeedCreation").hasFeedCreation()&&h.jsx(c("PolarisPostFastOptionEdit.react"),{onClose:e,post:a}),d("PolarisHasFeedCreation").hasFeedCreation()&&h.jsx(c("PolarisPostFastOptionToggleViewLikeCount.react"),{onClose:e,post:a}),d("PolarisHasFeedCreation").hasFeedCreation()&&h.jsx(c("PolarisPostFastOptionToggleCommenting.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionReport.react"),{onClose:e,post:a}),h.jsx(d("PolarisReportUnderLawDialogItem.react").ReportUnderLawDialogItem,{contentId:a.id}),h.jsx(c("PolarisPostFastOptionUnfollow.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionFavorite.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionDemote.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionNominate.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionGoToPost.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionTagged.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionShare.react"),{onClose:e,post:a}),h.jsx(d("PolarisPostFastOptionCopyLink.react").PostFastOptionCopyLink,{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionEmbed.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionAboutThisAccount.react"),{onClose:e,post:a}),h.jsx(c("PolarisPostFastOptionAchievements.react"),{post:a}),h.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastReportAdModal.react",["PolarisContainerModuleUtils","PolarisFRXPostOptionReportAdModalBase.react","PolarisReportConstants","polarisAdsSelectors","react","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;var e=d("usePolarisPost").usePostAndOwner(a.id,function(a,b){return b.id}),f=d("usePolarisPost").usePostAndOwner(a.id,function(a,b){return b.username}),g=d("usePolarisPost").usePostAndOwner(a.id,function(a,b){return b.profilePictureUrl}),i=c("usePolarisAnalyticsContext")();a=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.ad_id});return a==null?null:h.jsx(c("PolarisFRXPostOptionReportAdModalBase.react"),{adID:a,analyticsContext:i,containerModule:d("PolarisContainerModuleUtils").getContainerModule(i),frxEntryPoint:d("PolarisReportConstants").FRXEntryPoint.REPORT_AD_BUTTON,frxObjectType:d("PolarisReportConstants").FRXObjectType.AD,onClose:b,ownerID:e,ownerProfilePicURL:g,ownerUsername:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXPostOptionReportModalBase.react",["IGDSDialogBackwardsCompatibilityWrapper.react","PolarisFRXReportModal.react","PolarisReportConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){switch(a){case"feed":case"feedPage":return d("PolarisReportConstants").FRXLocation.FEED;default:return d("PolarisReportConstants").FRXLocation.POST}}function a(a){var b=a.analyticsContext,e=a.lazyTrigger,f=a.onClose,g=a.ownerID,j=a.ownerProfilePicURL,k=a.ownerUsername;a=a.postID;b=i(b);a=h.jsx(c("PolarisFRXReportModal.react"),{frxLocation:b,frxObjectType:d("PolarisReportConstants").FRXObjectType.MEDIA,onClose:function(){return f&&f()},reportedObjectID:a,reportedOwner:{id:g,profilePicURL:j,username:k},useSimpleBlockModalWithoutRefresh:b===d("PolarisReportConstants").FRXLocation.POST});return e===!0?a:h.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastReportModal.react",["PolarisFRXPostOptionReportModalBase.react","nullthrows","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d,e,f=a.onClose;a=a.post;b=c("nullthrows")((b=a.owner)==null?void 0:b.id);d=(d=a.owner)==null?void 0:d.username;e=(e=a.owner)==null?void 0:e.profilePictureUrl;var g=c("usePolarisAnalyticsContext")();return h.jsx(c("PolarisFRXPostOptionReportModalBase.react"),{analyticsContext:g,onClose:f,ownerID:b,ownerProfilePicURL:e,ownerUsername:d,postID:a.id})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastShareSheet.react",["PolarisLogger","PolarisPostShareUtils","PolarisPostTypeUtils","PolarisShareHelpers","PolarisShareSheet.react","gkx","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b,e=a.onClose;a=a.post;var f=c("usePolarisAnalyticsContext")(),g=d("PolarisPostTypeUtils").getPostType(a);b=((b=a.owner)==null?void 0:b.username)||"";var j=d("PolarisShareHelpers").getShareDescription(b,g),k=d("PolarisPostShareUtils").getShareURL(a);i(function(){c("gkx")("4908")||d("PolarisLogger").logAction("shareClick",{source:f,type:g})},[f,g]);b=function(){e()};var l=function(){c("gkx")("4908")||d("PolarisLogger").logAction("nativeShareClick",{source:f,type:g}),e(),d("PolarisShareHelpers").shareWithNative(j,k,"ig_web_button_native_share")};if(a.owner==null)return null;var m=d("PolarisPostShareUtils").getIsShareable(a,a.owner);return h.jsx(c("PolarisShareSheet.react"),{analyticsContext:f,description:j,entityID:a.id,entityOwnerID:(a=a.owner)==null?void 0:a.id,entityType:g,onClose:b,onNativeShare:l,shareEnabled:m,url:k,utmSource:"ig_web_button_share_sheet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastTaggedModal.react",["fbt","PolarisUserTagSheet.react","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClose;a=a.post;var e=c("nullthrows")(a.usertags);return i.jsx(d("PolarisUserTagSheet.react").UserTagSheet,{mediaId:a.id,onClose:b,title:h._("Marcados"),usertags:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastUnfollowModal.react",["PolarisUnfollowDialog_DEPRECATED.react","polarisUnexpected","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.onClose;a=a.post;var e=c("usePolarisAnalyticsContext")();a=((b=a.group)==null?void 0:b.id)!=null?(b=a.group)==null?void 0:b.id:(b=a.owner)==null?void 0:b.id;if(a==null){c("polarisUnexpected")("ownerId should not be null for unfollow modal");return null}return h.jsx(c("PolarisUnfollowDialog_DEPRECATED.react"),{analyticsContext:e,analyticsExtra:{},onClose:d,userId:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastViewAccountModal.react",["PolarisViewAccountSheet.react","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;a=(a=a.owner)==null?void 0:a.id;var d=c("usePolarisAnalyticsContext")();return a==null?null:h.jsx(c("PolarisViewAccountSheet.react"),{analyticsContext:d,onClose:b,userId:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastWAISTModal.react",["PolarisWAISTModalContent.react","polarisAdsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose;a=a.post;a=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a==null?void 0:a.ad_id});var e="FEED";return a==null?null:h.jsx(c("PolarisWAISTModalContent.react"),{adId:a,onClose:b,sourceSurface:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisGetRelationshipFragment",["CometRelay","FBLogger","PolarisRelationshipState","PolarisRelationshipTypes","polarisRelationshipReducer","react","usePolarisGetRelationshipFragment_user.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo,j=h!==void 0?h:h=b("usePolarisGetRelationshipFragment_user.graphql");function a(a){var b=d("CometRelay").useFragment(j,a);return i(function(){if(b==null){c("FBLogger")("ig_web").warn("Missing user data in usePolarisGetRelationshipFragment. Using EMPTY_RELATIONSHIP");return d("PolarisRelationshipState").EMPTY_RELATIONSHIP}var a=b.friendship_status,e=b.supervision_info;return{blockedByViewer:d("PolarisRelationshipState").stable((a==null?void 0:a.blocking)==null?null:a.blocking?d("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED:d("PolarisRelationshipTypes").BLOCK_STATUS_UNBLOCKED),closeFriendOfViewer:d("PolarisRelationshipState").stable((a==null?void 0:a.is_bestie)==null?null:a.is_bestie?d("PolarisRelationshipTypes").CLOSE_FRIEND_STATUS_BESTIE:d("PolarisRelationshipTypes").CLOSE_FRIEND_STATUS_NOT_BESTIE),favoritedByViewer:d("PolarisRelationshipState").stable((a==null?void 0:a.is_feed_favorite)==null?null:a.is_feed_favorite?d("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED:d("PolarisRelationshipTypes").FAVORITE_STATUS_NOT_FAVORITED),followedByViewer:d("polarisRelationshipReducer").getFollowStatus(a==null?void 0:a.following,a==null?void 0:a.outgoing_request),followsViewer:d("polarisRelationshipReducer").getFollowStatus(a==null?void 0:a.followed_by,a==null?void 0:a.incoming_request),guardianOfViewer:d("PolarisRelationshipState").stable((e==null?void 0:e.is_guardian_of_viewer)==null?null:(e==null?void 0:e.is_guardian_of_viewer)?d("PolarisRelationshipTypes").SUPERVISION_STATUS_SUPERVISED:d("PolarisRelationshipTypes").SUPERVISION_STATUS_NOT_SUPERVISED),hasBlockedViewer:d("PolarisRelationshipState").stable(null),mutedPostsByViewer:d("PolarisRelationshipState").stable((a==null?void 0:a.muting)==null?null:a.muting?d("PolarisRelationshipTypes").MUTE_POSTS_STATUS_MUTED:d("PolarisRelationshipTypes").MUTE_POSTS_STATUS_NOT_MUTED),mutedStoryByViewer:d("PolarisRelationshipState").stable((a==null?void 0:a.is_muting_reel)==null?null:a.is_muting_reel?d("PolarisRelationshipTypes").MUTE_STORY_STATUS_MUTED:d("PolarisRelationshipTypes").MUTE_STORY_STATUS_NOT_MUTED),restrictedByViewer:d("PolarisRelationshipState").stable((a==null?void 0:a.is_restricted)==null?null:a.is_restricted?d("PolarisRelationshipTypes").RESTRICT_STATUS_RESTRICTED:d("PolarisRelationshipTypes").RESTRICT_STATUS_UNRESTRICTED),supervisedByViewer:d("PolarisRelationshipState").stable((e==null?void 0:e.is_guardian_of_viewer)==null?null:(e==null?void 0:e.is_supervised_by_viewer)===!0?d("PolarisRelationshipTypes").SUPERVISION_STATUS_SUPERVISED:d("PolarisRelationshipTypes").SUPERVISION_STATUS_NOT_SUPERVISED)}},[b])}g["default"]=a}),98);
__d("PolarisPostFastTagOptionsModal.react",["IGCoreDialog","JSResource","PolarisConfig","PolarisFastLink.react","PolarisIGCoreModalHeader","PolarisReactRedux","PolarisTaggedPostsActions","PolarisUserTaggedPostsStrings","lazyLoadComponent","polarisPostSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState,k=c("JSResource")("PolarisUserTaggedRemovePostModal.react").__setRef("PolarisPostFastTagOptionsModal.react"),l=c("lazyLoadComponent")(k),m="https://help.instagram.com/433611883398929";function a(a){var b=a.onClose,e=a.post;i(function(){k.preload()},[]);a=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").isPostInViewerPOY(a,e.id)});a=j(a);var f=a[0],g=a[1];a=j(!1);var n=a[0],o=a[1],p=d("PolarisConfig").getViewerId(),q=d("PolarisReactRedux").useDispatch();if(p==null)return null;a=function(){q(d("PolarisTaggedPostsActions").updatePhotoOfYouFromNative(p,"",e.id)),g(!1),b()};var r=function(){q(d("PolarisTaggedPostsActions").updatePhotoOfYouFromNative(p,e.id,"")),g(!0),b()},s=function(){o(!0)};return n?h.jsx(l,{onClose:function(){o(!1),b()},post:e}):h.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:b,children:[h.jsx(c("PolarisIGCoreModalHeader"),{onClose:b,children:d("PolarisUserTaggedPostsStrings").TAG_OPTIONS}),h.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:s,children:d("PolarisUserTaggedPostsStrings").REMOVE_ME_FROM_POST}),h.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:f?a:r,children:f?d("PolarisUserTaggedPostsStrings").HIDE_FROM_MY_PROFILE:d("PolarisUserTaggedPostsStrings").SHOW_ON_MY_PROFILE}),h.jsx(d("IGCoreDialog").IGCoreDialogItem,{children:h.jsx(c("PolarisFastLink.react"),{href:m,target:"_blank",children:d("PolarisUserTaggedPostsStrings").LEARN_MORE_TAG_OPTIONS})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFavoritesModal.react",["ix","IGCoreDialog","IGCoreImage","IGDSBox.react","IGDSText.react","PolarisFavoritesModalContext.react","PolarisFavoritesStrings","PolarisGenericStrings","PolarisPanavisionQEHelpers","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){var b=a.onClose;a=j(c("PolarisFavoritesModalContext.react"));var e=a.toggleOpen;a=function(){b(),e()};return i.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:b,children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:i.jsx(c("IGCoreImage"),{alt:d("PolarisFavoritesStrings").FAVORITES_IMAGE_ALT,src:{dark:h("258770"),light:h("258773")}})}),i.jsxs(c("IGDSBox.react"),{margin:6,position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative",children:i.jsx(c("IGDSText.react"),{size:"headline2",textAlign:"center",weight:"semibold",children:d("PolarisFavoritesStrings").FAVORITES_TEXT})}),i.jsx(c("IGDSBox.react"),{paddingX:8,position:"relative",children:i.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",textAlign:"center",weight:"light",children:d("PolarisFavoritesStrings").FAVORITES_DESCRIPTION_TEXT})})]})]}),d("PolarisPanavisionQEHelpers").hasFavoritesManagement()&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:a,children:d("PolarisFavoritesStrings").MANAGE_FAVORITES_TEXT}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:b,children:d("PolarisGenericStrings").OK_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModalEntrypoint.react",["IGRouter","JSResourceForInteraction","PolarisPostFastAboutThisAccountModal.react","PolarisPostFastAchievementsModal.react","PolarisPostFastAdDebugToolModal.react","PolarisPostFastAdRemovalErrorModal.react","PolarisPostFastAdRemovedModal.react","PolarisPostFastCopyModal.react","PolarisPostFastDeleteModal.react","PolarisPostFastDirectShareSheet.react","PolarisPostFastEditModal.react","PolarisPostFastEmbedModal.react","PolarisPostFastHideAdModal.react","PolarisPostFastLoadingModal.react","PolarisPostFastOptionsModal.next.react","PolarisPostFastOptionsModal.react","PolarisPostFastReportAdModal.react","PolarisPostFastReportModal.react","PolarisPostFastShareSheet.react","PolarisPostFastTagOptionsModal.react","PolarisPostFastTaggedModal.react","PolarisPostFastUnfollowModal.react","PolarisPostFastViewAccountModal.react","PolarisPostFastWAISTModal.react","PolarisPostFavoritesModal.react","hero-tracing","lazyLoadComponent","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisPostFastDirectSecureShareSheet.react").__setRef("PolarisPostModalEntrypoint.react"));var i={aboutThisAccount:c("xigRequireInterop")(b("PolarisPostFastAboutThisAccountModal.react"))["default"],achievements:c("xigRequireInterop")(b("PolarisPostFastAchievementsModal.react"))["default"],copy:c("xigRequireInterop")(b("PolarisPostFastCopyModal.react"))["default"],"delete":c("xigRequireInterop")(b("PolarisPostFastDeleteModal.react"))["default"],directSecureShare:c("xigRequireInterop")(e)["default"],directShare:c("xigRequireInterop")(b("PolarisPostFastDirectShareSheet.react"))["default"],edit:c("xigRequireInterop")(b("PolarisPostFastEditModal.react"))["default"],embed:c("xigRequireInterop")(b("PolarisPostFastEmbedModal.react"))["default"],favorites:c("xigRequireInterop")(b("PolarisPostFavoritesModal.react"))["default"],hideAd:c("xigRequireInterop")(b("PolarisPostFastHideAdModal.react"))["default"],loading:c("xigRequireInterop")(b("PolarisPostFastLoadingModal.react"))["default"],options:c("xigRequireInterop")(b("PolarisPostFastOptionsModal.react"))["default"],optionsV2:c("xigRequireInterop")(b("PolarisPostFastOptionsModal.next.react"))["default"],removeAd:c("xigRequireInterop")(b("PolarisPostFastAdRemovedModal.react"))["default"],removeAdError:c("xigRequireInterop")(b("PolarisPostFastAdRemovalErrorModal.react"))["default"],report:c("xigRequireInterop")(b("PolarisPostFastReportModal.react"))["default"],reportAd:c("xigRequireInterop")(b("PolarisPostFastReportAdModal.react"))["default"],share:c("xigRequireInterop")(b("PolarisPostFastShareSheet.react"))["default"],tagged:c("xigRequireInterop")(b("PolarisPostFastTaggedModal.react"))["default"],tagOptions:c("xigRequireInterop")(b("PolarisPostFastTagOptionsModal.react"))["default"],unfollow:c("xigRequireInterop")(b("PolarisPostFastUnfollowModal.react"))["default"],viewAccount:c("xigRequireInterop")(b("PolarisPostFastViewAccountModal.react"))["default"],viewAdDebugTool:c("xigRequireInterop")(b("PolarisPostFastAdDebugToolModal.react"))["default"],whyAmISeeingThisAd:c("xigRequireInterop")(b("PolarisPostFastWAISTModal.react"))["default"]};function a(a){var b=a.interactionUUID,c=a.location,e=a.onClose,f=a.openModal;a=a.post;var g=i[f];return h.jsx(d("hero-tracing").HeroInteraction,{interactionDesc:"PostModalEntrypoint: Open "+f+" Modal",interactionUUID:b,children:h.jsx(g,{location:c,onClose:e,post:a})})}a.displayName=a.name+" [from "+f.id+"]";e=d("IGRouter").withIGRouter(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSHandleTaskSendFailureForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.islc(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(a,d){var f=a.done;a=a.value;return f?0:(d=a.item,b.db.table(2).fetch([[[d.taskId]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?0:(f=d.item,b.i64.neq(e,e)?(c[2]=b.i64.of_float(Date.now()),c[1]=b.i64.add(c[2],e)):c[1]=f.minTimeToSyncTimestampMs,b.fe(b.db.table(2).fetch([[[f.taskId]]]),function(a){var d=a.update;a.item;return d({failureCount:b.i64.add(f.failureCount,b.i64.cast([0,1])),minTimeToSyncTimestampMs:c[1]})}))}))})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],b.i64.cast([-1,4294967295])]]]),function(a){var c=a.update;a=a.item;return c({failureCount:b.i64.add(a.failureCount,b.i64.cast([0,1]))})})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],b.i64.cast([-1,4294967295])]]]),function(a){var b=a.update;a.item;return b({epochId:e,networkTaskIdentifier:e})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSPredefineTraceForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(2).fetch([[[a[1]]]]),function(b){var d=b.update;b.item;return d({dataTraceId:a[0],initTraceTimestampMs:c[0]})})},function(d){return b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],foregroundTimestampMs:b.i64.cast([0,0]),traceType:b.i64.cast([0,1]),shouldFlush:!1,contextOne:a[2],contextTwo:b.i64.to_string(a[1]),predefinedId:a[3]})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}b=a;f["default"]=b}),66);
__d("MAWDbChatId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}f.unsafeCoerceToChatId=a;f.convertNumbersToChatIds=b}),66);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").lt(a,d("I64").zero)}g.isPlaceholderChatId=a}),98);
__d("Int64Hooks",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=a.useCallback,i=a.useEffect,j=a.useMemo;function k(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])?b.push(e[0],e[1]):b.push(e,void 0)}return b}b=function(a,b){return i(a,b==null?null:k(b))};c=function(a,b){return h(a,b==null?null:k(b))};e=function(a,b){return j(a,b==null?null:k(b))};g.useEffectInt64=b;g.useCallbackInt64=c;g.useMemoInt64=e}),98);
__d("LSMessagingThreadTypeUtil",["I64","LSIntEnum","LSThreadBitOffset","MWCMIsAnyCMThread","MessagingThreadSubtype","MetaConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(2))||d("I64").equal(a,d("LSIntEnum").ofNumber(8))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))||d("I64").equal(a,d("LSIntEnum").ofNumber(5))||c("MWCMIsAnyCMThread")(a)||d("I64").equal(a,d("LSIntEnum").ofNumber(3))||d("I64").equal(a,d("LSIntEnum").ofNumber(150))||d("I64").equal(a,d("LSIntEnum").ofNumber(151))||d("I64").equal(a,d("LSIntEnum").ofNumber(154))||d("I64").equal(a,d("LSIntEnum").ofNumber(155))||d("I64").equal(a,d("LSIntEnum").ofNumber(152))||d("I64").equal(a,d("LSIntEnum").ofNumber(153))}function b(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(1))||d("I64").equal(a,d("LSIntEnum").ofNumber(7))||d("I64").equal(a,d("LSIntEnum").ofNumber(10))||d("I64").equal(a,d("LSIntEnum").ofNumber(13))||d("I64").equal(a,d("LSIntEnum").ofNumber(15))||d("I64").equal(a,d("LSIntEnum").ofNumber(201))}function e(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(15))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))}function f(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(15))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))||d("I64").equal(a,d("LSIntEnum").ofNumber(1))||d("I64").equal(a,d("LSIntEnum").ofNumber(201))||d("I64").equal(a,d("LSIntEnum").ofNumber(2))}function h(a){return a==="e2ee_cutover"||a==="inbox"}function i(a,b){b===void 0&&(b=!0);return!b&&d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(0))?!1:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(21),a)}function j(a){return i(a,!1)}function k(a){return d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(-3))}function l(a){return a.threadSubtype==null?!1:d("I64").equal(a.threadSubtype,d("LSIntEnum").ofNumber(c("MessagingThreadSubtype").BUSINESS_SUPPORT_THREAD))||d("I64").equal(a.threadSubtype,d("LSIntEnum").ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}function m(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(150))||d("I64").equal(a,d("LSIntEnum").ofNumber(154))&&c("MetaConfig")._("36")}function n(a){return(p(a)||q(a))&&c("MetaConfig")._("32")}function o(a){return(p(a)||q(a))&&!c("MetaConfig")._("32")}function p(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(152))}function q(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(153))}function r(a){return(d("I64").equal(a,d("LSIntEnum").ofNumber(155))||d("I64").equal(a,d("LSIntEnum").ofNumber(154)))&&c("MetaConfig")._("36")}function s(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(154))&&c("MetaConfig")._("36")}function t(a){return a==null?!1:d("I64").equal(a,d("LSIntEnum").ofNumber(150))||d("I64").equal(a,d("LSIntEnum").ofNumber(154))}function u(a){return t(a)||n(a)}function v(a){return a==null?!1:d("I64").equal(a,d("LSIntEnum").ofNumber(151))||d("I64").equal(a,d("LSIntEnum").ofNumber(155))}function w(a){return a==null?!1:v(a)||q(a)}g.isGroup=a;g.isOneToOne=b;g.isSecure=e;g.isRecentsSectionAllowedTypes=f;g.isMessengerOrE2EEInbox=h;g.isMessageRequest=i;g.isIGDMessageRequest=j;g.isHiddenRequest=k;g.isBusinessSupportThread=l;g.isJoinedSocialChannel=m;g.isDiscoverablePublicBroadcastChannel=n;g.isDiscoverablePublicBroadcastChannelWithNoAccessibility=o;g.isJoinedDiscoverablePublicBroadcastChannel=p;g.isUnjoinedDiscoverablePublicBroadcastChannel=q;g.isSocialChannelV2=r;g.isJoinedSocialChannelV2=s;g.isSocialChannel=t;g.isDiscoverableChannel=u;g.isSocialChannelUnjoined=v;g.isChannelPreview=w}),98);
__d("MWLSThread",["FBLogger","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a};function a(a,b){b===void 0&&(b=h);var e=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a],f.id+":29")}function b(a,b){b===void 0&&(b=h);var e=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a],f.id+":48")}function e(a,b,e){e===void 0&&(e=h);a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b),f.id+":65");if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return e(a)}g.useThread=a;g.useThreadExn=b;g.getThreadExn=e}),98);
__d("IGDRouteProvider.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWLSThread","react","useCurrentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react"),i=h.createContext,j=h.createElement,k=h.useContext,l=h.useMemo,m=i({_0:void 0,TAG:2});function n(a){try{return d("I64").of_string(a)}catch(a){return}}function o(a){if(a==null)return;a=a.params.thread_key;if(a!=null&&typeof a==="string")return n(a)}function a(a){var b;return l(function(){var b;return(b=a==null?void 0:(b=a.main)==null?void 0:b.navigationInteractionID)!=null?b:void 0},[a==null?void 0:(b=a.main)==null?void 0:b.navigationInteractionID])}function b(a){a=a.children;var b=c("useCurrentRoute")(),e=o(b),f=d("MWLSThread").useThread(e,function(a){return a.threadType});b=d("Int64Hooks").useMemoInt64(function(){if(f!=null){var a=d("LSMessagingThreadTypeUtil").isSecure(f);return a?{_0:e,TAG:1}:{_0:e,TAG:0}}return{_0:e,TAG:2}},[e,f]);return j(m.Provider,{children:a,value:b})}b.displayName=b.name+" [from "+f.id+"]";function p(){var a=k(m);switch(a.TAG){case 0:case 1:return a._0;case 2:return}}function e(){var a=c("useCurrentRoute")(),b=p(),d=c("useRoutePassthroughProps")();if(a!=null&&(a.url==="/direct/requests"||a.url==="/direct/requests/"))return!0;return b!=null&&d!=null?d.entryPoint==="pendingRequests":!1}function q(){var a=c("useCurrentRoute")(),b=p(),d=c("useRoutePassthroughProps")();if(a!=null&&(a.url==="/direct/requests/hidden"||a.url==="/direct/requests/hidden/"))return!0;return b!=null&&d!=null?d.entryPoint==="inboxSpam":!1}g.context=m;g.stringToThreadKey=n;g.routeToThreadKey=o;g.useNavigationInteractionID=a;g.IGDRouteProvider=b;g.useThreadKeyFromCurrentRoute=p;g.useIsCurrentRouteMessageRequests=e;g.useIsCurrentRouteMessageHiddenRequests=q}),98);
__d("LSContactTypeExact",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17});f["default"]=a}),66);
__d("MWLSContactTypeExactUtils",["I64","LSContactTypeExact","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("I64").equal(a.contactTypeExact,d("LSIntEnum").ofNumber(c("LSContactTypeExact").IG_USER))||d("I64").equal(a.contactTypeExact,d("LSIntEnum").ofNumber(c("LSContactTypeExact").IG_BUSINESS_USER)))return!0;else return d("I64").equal(a.contactTypeExact,d("LSIntEnum").ofNumber(c("LSContactTypeExact").IG_CREATOR_USER))}g.isIgContact=a}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("LSBitFlag").set(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),b)}g.set=a;g.clear=b;g.empty=d("I64").zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,b,!1)}function h(a,b,c){var e=b.capabilities,f=b.capabilities2;if(d("I64").ge(a,d("I64").of_string("64"))){return f==null?c:d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("64")))),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("64")))),(a=b)!=null?a:d("LSBitOffset").empty)}g.has=a;g.hasWithDefault=h;g.contactCapabilitiesHas=b}),98);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("LSRequestId",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="0123456789abcdef",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(){var a=c("uuidv4")().replace(/[^0-9a-f]/gi,""),b=0,d=["#"];while(b<33){var e=h.indexOf(a.charAt(b))<<8,f=h.indexOf(a.charAt(b+1))<<4,g=h.indexOf(a.charAt(b+2));g=g|(f|e);f=g>>6;d.push(i.charAt(f));d.push(i.charAt(g&63));b+=3}return d.join("")}b={generate:a};g["default"]=b}),98);
__d("LSGenerateTraceId",["LSRequestId","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return c("LSRequestId").generate();else return void 0}g["default"]=a}),98);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_BACKUP_TASK_SPROC:1825,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_BACKUP_ENT_SPROC:1826,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_BACKUP_FAILURE_SPROC:1827,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_RESTORE_TASK:1829,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_CDN_URL:1830,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_RESTORE_FAILURE:1831,LABYRINTH_MEDIA_ISSUE_BATCH_ATTACHMENT_BACKUP_TASK_SPROC:1873,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("ReQLTable",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield a.get(b));c=c(d);yield a.upsert(b,c)});return g.apply(this,arguments)}f.update=a}),66);
__d("LSFlushDataTrace.bs",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQL.bs","ReQLTable","killswitch","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDataTraceFlush.bs").__setRef("LSFlushDataTrace.bs");function i(a,b){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),d("I64").neg_one,void 0,void 0,c("LSFactory")(a)).then(function(){return d("ReQLTable").update(a.table("data_trace_meta"),{hd:b,tl:0},function(a){if(a!=null)return{contextOne:a.contextOne,contextThree:a.contextThree,contextTwo:a.contextTwo,foregroundTimestampMs:a.foregroundTimestampMs,initTimestampMs:a.initTimestampMs,predefinedId:a.predefinedId,shouldFlush:!0,traceId:a.traceId,traceType:a.traceType};else throw c("unrecoverableViolation")("Data trace is missing "+b,"messenger_web_product")}).then(function(){return h.load().then(function(c){return c.flush(a,b)})})})}function a(a,e,f){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return b("Promise").resolve();else return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("data_trace_meta")),{hd:f,tl:0})).then(function(c){if(c!=null)return i(a,f);else return b("Promise").resolve()})}e=a;g.updateAndFlushTrace=i;g.call=e}),98);
__d("LSFlushDataTrace.nop",["LSFlushDataTrace.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("LSFlushDataTrace.bs").call(a,b,c)};g["default"]=a}),98);
__d("bs_js_exn",["bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_js_exceptions").internalToOCamlException;function a(a){throw new Error(a)}function c(a){throw new EvalError(a)}function d(a){throw new RangeError(a)}function e(a){throw new ReferenceError(a)}function h(a){throw new SyntaxError(a)}function i(a){throw new TypeError(a)}function j(a){throw new URIError(a)}b=b("bs_caml_js_exceptions").$$Error;f.$$Error=b;f.anyToExnInternal=g;f.raiseError=a;f.raiseEvalError=c;f.raiseRangeError=d;f.raiseReferenceError=e;f.raiseSyntaxError=h;f.raiseTypeError=i;f.raiseUriError=j}),null);
__d("Crypto.bs",["bs_js_exn"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new Uint8Array(a)}function h(a){var b=new TextEncoder();return b.encode(a)}function i(a){var b=new TextDecoder();return b.decode(a)}function b(a){return i(new Uint8Array(a))}function d(a){return h(a).buffer}function e(a,b){var d=a.byteLength,e=b.byteLength;d!==e&&c("bs_js_exn").raiseError("Mismatched lengths for modAdd, "+d+" != "+e);var f=new Uint8Array(d);new Uint8Array(d).reduceRight(function(c,d,e){d=a[e];var g=b[e];d=(d+g|0)+c|0;g=d>255?[d-256|0,1]:[d,0];f[e]=g[0];return g[1]},0);return f}function f(a){return crypto.getRandomValues(a)}function j(a){return crypto.getRandomValues(a)}function k(a,b,c){return crypto.subtle.encrypt(a,b,c)}function l(a,b,c){return crypto.subtle.decrypt(a,b,c)}function m(a,b,c,d,e){return crypto.subtle.importKey(a,b,c.VAL,d,e)}function n(a,b,c){return crypto.subtle.sign(a,b,c)}function o(a,b){return crypto.subtle.exportKey(a,b)}function p(a,b,c){return crypto.subtle.generateKey(a.VAL,b,c)}function q(a,b,c,d,e){return crypto.subtle.deriveKey(a.VAL,b,c.VAL,d,e)}function r(a,b,c){return crypto.subtle.deriveBits(a.VAL,b,c)}function s(a,b){return crypto.subtle.digest(a,b)}b={bufToStr:b,bufToUint8:a,modAddBytes:e,strToBuf:d,strToUint8:h,uint8ToStr:i};g.getRandomValues=f;g.getRandomValues32=j;g.encrypt=k;g.decrypt=l;g.importKey=m;g.sign=n;g.exportKey=o;g.generateKey=p;g.deriveKey=q;g.deriveBits=r;g.digest=s;g.Utils=b}),98);
__d("LSPlatformErrorChannel",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="onLSError",i=new(c("BaseEventEmitter"))(),j;function a(a){j=a,i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}function d(){return j}g.emit=a;g.subscribe=b;g.lastError=d}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=c("justknobx")._("1134"),k=c("justknobx")._("1135"),l=c("gkx")("8927");function a(){var a=c("useReStore")(),b=i(null),e=i(!1);h(function(){var f=a.table("pending_tasks").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("pending_tasks")).take(j)),function(a){var f=a.length;if(f===j){if(b.current!=null)return;b.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),e.current=!0,l&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",f,k)},k)}else c("clearTimeout")(b.current),e.current&&l&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),e.current=!1})});return function(){f()}},[a]);return null}g["default"]=a}),98);
__d("MWPActor.react",["Actor","I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=e();function a(){var a=i(k),b=d("Actor").useActor(),c=b[0],e=j(function(){return d("I64").of_string(c)},[c]);return j(function(){return a!=null?a:e},[e,a])}function b(a){var b=a.actorId;a=a.children;return b!=null?h.jsx(k.Provider,{value:b,children:a},d("I64").to_string(b)):a}b.displayName=b.name+" [from "+f.id+"]";g.useActor=a;g.MWPActorProvider=b}),98);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("Promise.bs",["bs_caml_exceptions","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("Promise.JsError");function a(a,c){return a["catch"](function(a){return b("bs_curry")._1(c,b("bs_caml_exceptions").caml_is_extension(a)?a:{_1:a,RE_EXN_ID:g})})}f.JsError=g;f.$$catch=a}),null);
__d("WALogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS([]);b=a.DEV;c=a.DEV_XMPP;e=a.LOG;f=a.WARN;d=a.ERROR;g.DEV=b;g.DEV_XMPP=c;g.LOG=e;g.WARN=f;g.ERROR=d}),98);
__d("LSInternetConnectionState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_CONNECTED:0,CONNECTED:1});f["default"]=a}),66);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14});f["default"]=a}),66);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("MWLSThreadDisplayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=h.createContext();function a(a){var b=a.children;a=a.value;return h.createElement(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.context=j;g.MWLSThreadDisplayContextProvider=a;g.useMWLSThreadDisplayContext=b}),98);
__d("bs_js_int",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===b}b=2147483647;c=-2147483648;f.equal=a;f.max=b;f.min=c}),null);
__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);/*FB_PKG_DELIM*/
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:c.i64.cast([0,20])})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],c.i64.cast([0,1])))}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[1]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[16],d[17],f,f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,c.i64.cast([0,0]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=h.replyType==null?c.i64.cast([0,0]):h.replyType,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],f)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,b.i64.cast([0,20]))}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=c.i64.cast([0,7])}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],c.i64.cast([53057,267535043]))&&c.i64.neq(a[7],c.i64.cast([85970,924785702]))&&c.i64.neq(a[7],c.i64.cast([85970,1004785694]))&&c.i64.neq(a[7],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=c.i64.cast([0,2])}]):c.resolve(d[11]=c.i64.cast([0,1]))},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string(c.i64.cast([0,1]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("WAMsgType",[],(function(a,b,c,d,e,f){a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="Reaction",v="SenderKeyDistribution",w={TEXT:a,FUTUREPROOF:b,CIPHERTEXT:c,UNAVAILABLE:d,EXPIRED_EPHEMERAL:n,IMAGE:e,VIDEO:g,PTT:h,ADMIN:i,REVOKED:j,GIF:k,STICKER:l,DOCUMENT_FILE:m,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SYNC_RESPONSE:p,DELETE_FOR_ME:q,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,ICDC_ALERT:s,GROUP_INVITE:t,REACTION:u,SK_DISTRIBUTION:v};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.REACTION=u;f.SK_DISTRIBUTION=v;f.MSG_TYPE=w}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return i.has(a)};b=function(a){return j.has(a)||i.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var h="XMA";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:h});var i=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE]),j=new Set([d.TEXT,d.REVOKED,d.XMA]),k=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA]),l=function(a){return k.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.RAVEN=e;g.RAVEN_ACTION=f;g.XMA=h;g.MSG_TYPE=d;g.isQuotedMsgType=l}),98);
__d("IGDBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:"tap",event:"message_options_rendered",parent_surface:"broadcast",source:"message_options_dot_menu",surface:"thread_view"};b={action:"tap",event:"end_chat_dialog_rendered",parent_surface:"broadcast",source:"end_chat_cta_button",surface:"thread_details"};c={action:"tap",event:"thread_end_successful",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};d={action:"tap",event:"thread_end_attempt",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"};e={action:"tap",event:"thread_end_error",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};var g={action:"tap",event:"thread_end_cancel",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"},h={action:"view",event:"retrieve_polls_responses_details",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},i={action:"view",event:"poll_responses_render_error",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},j={action:"view",event:"poll_responses_render_successful",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},k={action:"tap",event:"retrieve_message_reactions_details",parent_surface:"instagram",source:"view_reactions_button",surface:"thread_view"},l={action:"view",event:"message_reactions_render_error",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},m={action:"view",event:"message_reactions_render_successful",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},n={action:"view",event:"fetch_seen_active_count_error",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},o={action:"view",event:"fetch_seen_active_count_successful",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},p={action:"tap",event:"thread_create_attempt",parent_surface:"broadcast",source:"create_broadcast_chat_button",surface:"chat_setup"},q={action:"view",event:"thread_create_successful",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"thread_view"},r={action:"view",event:"thread_create_error",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"chat_setup"};f.MESSAGE_OPTIONS_RENDERED_SHAPE=a;f.END_CHAT_DIALOG_RENDERED_SHAPE=b;f.THREAD_END_SUCCESSFUL_SHAPE=c;f.THREAD_END_ATTEMPT_SHAPE=d;f.THREAD_END_ERROR_SHAPE=e;f.THREAD_END_CANCEL_SHAPE=g;f.POLL_DETAIL_DIALOG_RENDERED_SHAPE=h;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=i;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=j;f.REACTIONS_FOOTER_BUTTON_CLICK_SHAPE=k;f.REACTIONS_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=l;f.REACTIONS_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=m;f.SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE=n;f.SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE=o;f.CREATE_BROADCAST_CHANNEL_ATTEMPT_SHAPE=p;f.CREATE_BROADCAST_CHANNEL_SUCCESS_SHAPE=q;f.BROADCAST_CHANNEL_SUCCESS_FAILURE_SHAPE=r}),66);
__d("LSThreadAttributionStore.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var c;a=(c=(c=h.get(b))!=null?c:a)!=null?c:{_0:"unknown",TAG:1};h["delete"](b);return a}function b(a,b){a=h.get(a);return(a==null?void 0:a._0)===b&&(a==null?void 0:a.TAG)===1}function c(a,b){h.set(a,{_0:b,TAG:1})}function e(a,b){b=d("I64").of_string(b);h.set(a,{_0:b,TAG:0})}function f(a){h.set("",{_0:a,TAG:1})}function i(){var a=h.get("");if(a==null||a.TAG===0)return"unknown";else return a._0}g.getSource=a;g.hasSource=b;g.setSource=c;g.setLSMessagingThreadAttribution=e;g.setSourceForNewThread=f;g.getSourceForNewThread=i}),98);
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592});f["default"]=a}),66);
__d("LSThreadAttributionTypeUtil.bs",["I64","LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},d("I64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_OVERFLOW);else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="pageResponsivenessCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else if(a==="sidebarCommunityChatsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_COMMUNITY_CHATS);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3});f["default"]=a}),66);
__d("LSMessagingInitiatingSourceHook.bs",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)}g.useHook=a}),98);
__d("LSMessagingSource",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();switch(a){case"Inbox":return"inboxInThread";case"FullscreenChat":return"fullscreenChat";case"ChatTab":return"chatInThread";default:return"unknown"}}g.useHook=a}),98);
__d("MWChatMessageId",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.TAG){case 0:case 1:return;case 2:return a._0.messageId}}function b(a){switch(a.TAG){case 0:case 1:return;case 2:return a._0.threadId}}function c(a){switch(a.TAG){case 0:case 1:return;case 2:return a._0.timestamp}}function e(a,b,c){return{_0:{messageId:b,threadId:d("I64").of_string(a),timestamp:d("I64").of_string(c)},TAG:2}}function f(a){return{_0:{messageId:a,threadId:d("I64").zero,timestamp:d("I64").zero},TAG:2}}var h={_0:{messageId:"",threadId:d("I64").zero,timestamp:d("I64").zero},TAG:2};g.getMessageId=a;g.getThreadId=b;g.getTimestamp=c;g.makeSent=e;g.emptyForExamplesWithId=f;g.emptyForExamples=h}),98);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("IGDInboxActiveNowTrayConversionLoggingContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef,l=h.createContext({getProviderData:function(){return{}},setProviderData:function(a){}});function a(a){a=a.children;var b=k({}),c=i(function(a){b.current=a(b.current)},[]),d=i(function(){return b.current},[]),e=j(function(){return{getProviderData:d,setProviderData:c}},[d,c]);return h.jsx(l.Provider,{value:e,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.IGDInboxActiveNowTrayConversionLoggingContext=l;g.IGDInboxActiveNowTrayConversionLoggingContextProvider=a}),98);
__d("MAWDbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("WAExternalIdFromRandomHex",["WAHex","WAStanzaUtils"],(function(a,b,c,d,e,f,g){function a(a){a=new Uint8Array(d("WAHex").parseHex(a));var b=new Uint8Array(a.length+1),c=0;for(var e=0;e<a.length;e++)c^=a[e],b[e]=a[e];b[a.length]=c;return d("WAStanzaUtils").toStanzaId(d("WAHex").toHex(b))}g.externalIdFromRandomHex=a}),98);
__d("MAWExternalId",["I64","MAWGating","Random","WAExternalIdFromRandomHex","WAHex","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=4194303;function i(a){return Math.floor(c("Random").random()*a)}function a(){return!d("MAWGating").isMobileExternalIdFormatEnabled()?d("WAExternalIdFromRandomHex").externalIdFromRandomHex(d("WAHex").randomHex(7)):d("WAStanzaUtils").toStanzaId(d("I64").to_string(d("I64").and_(d("I64").or_(d("I64").lsl_(d("I64").of_float(Date.now()),22),d("I64").and_(d("I64").of_float(i(h)),d("I64").of_float(h))),d("I64").max_int)))}g.generateExternalId=a}),98);
__d("WABaseGlobals",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a}function i(){if(h==null)throw c("WAErr")("Trying to access WAGlobals before being set");return h}function b(a){var b=i();b.myJids=a}function d(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function j(){return i().jidUtils}function k(){return i().config}function l(){return i().qpl}function m(a,b){return i().runInTransaction(a,b)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=d;g.getMyUserJid=e;g.getDbImpls=f;g.getJidUtilsApi=j;g.getConfig=k;g.getQplConfig=l;g.runInTransaction=m}),98);
__d("WAGlobals",["WABaseGlobals","WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["OfflineQueueManager is not defined"]);h=function(){return a};return a}var i=null;function a(a){i=a,d("WABaseGlobals").setGlobals(a)}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function b(a,b){var d=j();if(d.myJids!=null)throw c("WAErr")("Trying to set UserJid and DeviceJid but they are already set");d.myJids={userJid:a,deviceJid:b}}function k(){var a;a=(a=j().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=j().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return j().db}function l(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function m(){return j().jidUtils}function n(){return j().crypto.manager}function o(){return j().crypto.storage}function p(){return j().config}function q(){return j().dependencies}function r(a,b,c){return j().runInTransaction(a,b,c)}function s(){var a=j().offlineQueueManager;a==null&&d("WALogger").ERROR(h());return a}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=k;g.getMyUserJid=e;g.getDbImpls=f;g.isPeerDevice=l;g.getJidUtilsApi=m;g.getCryptoManager=n;g.getInMemorySignal=o;g.getConfig=p;g.getDependencies=q;g.runInTransaction=r;g.getOfflineQueueManager=s}),98);
__d("WAJobDefinitions",["WAGlobals"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return;return{priority:a.priority,maxTimeoutMs:a.maxTimeoutMs,jobId:a.jobId}}b=function(){return{generateAndUploadPreKeys:function(a,b){b=h(b);return{type:"generateAndUploadPreKeys",args:{uniqueJob:!0,reason:a},uniqKey:"generateAndUploadPreKeys",scheduleConfig:(a=b)!=null?a:void 0}},cleanUpStaleMessageObservations:function(a){a=h(a);return{type:"cleanUpStaleMessageObservations",args:{},scheduleConfig:(a=a)!=null?a:void 0}},getDevices:function(a,b,c,d){c===void 0&&(c=!1);d=h(d);return{type:"getDevices",args:{users:a,ignoreDhash:c,reason:b},scheduleConfig:(a=d)!=null?a:void 0}},removeDevice:function(a,b,c){c=h(c);return{type:"removeDevice",args:{deviceId:a,identity:b},scheduleConfig:(a=c)!=null?a:void 0}},notifyDeviceChange:function(a,b){b=h(b);return{type:"notifyDeviceChange",args:{users:a,uniqueJob:!0},uniqKey:"notifyDeviceChange",scheduleConfig:(a=b)!=null?a:void 0}},requestPreKeyDigest:function(a){a=h(a);return{type:"requestPreKeyDigest",args:{},scheduleConfig:(a=a)!=null?a:void 0}},rotateSignedPreKey:function(a){a=h(a);return{type:"rotateSignedPreKey",args:{uniqueJob:!0},uniqKey:"rotateSignedPreKey",scheduleConfig:(a=a)!=null?a:void 0}},sendPushNotificationSetup:function(a,b,c,d){d=h(d);return{type:"sendPushNotificationSetup",args:{appId:a,deviceId:b,platform:c,uniqueJob:!0},uniqKey:"sendPushNotificationSetup",scheduleConfig:(a=d)!=null?a:void 0}},queryGroups:function(a,b){var c;b=h(b);a==null?c={type:"all"}:c={type:"single",group:a};return{type:"queryGroups",args:c,scheduleConfig:(a=b)!=null?a:void 0}},downloadAndHandleMedia:function(a,b,c,d,e,f,g){g=h(g);return{type:"downloadAndHandleMedia",args:{protocolMsgId:a,hash:b,qplEntryPoint:c,msgType:d,protocolMsgIdForLogging:e,metricInstanceKeys:f},scheduleConfig:(a=g)!=null?a:void 0}},syncAbProps:function(a,b){b=h(b);return{type:"syncAbProps",args:{sendHash:a},scheduleConfig:(a=b)!=null?a:void 0}},computeAndUploadICDCInfo:function(a,b,c){c=h(c);return{type:"computeAndUploadICDCInfo",args:{reason:a,sequence:b},scheduleConfig:(a=c)!=null?a:void 0}},syncdSyncAllCollections:function(a){a=h(a);return{type:"syncdSyncAllCollections",args:{},scheduleConfig:(a=a)!=null?a:void 0}},requestAllSyncdMissingKeys:function(a){a=h(a);return{type:"requestAllSyncdMissingKeys",args:{},scheduleConfig:(a=a)!=null?a:void 0}}}};c=b();function i(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,["scheduleConfig"]);c={type:a,args:{},scheduleConfig:c};b.externalIdJob&&(c.args.externalId=d("WAGlobals").getDependencies().generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function a(a,b){return i(a,b)}g.serializeJobScheduledConfig=h;g.createJobSerializers=b;g.jobSerializers=c;g.createStartJobInfoGeneric=i;g.createStartJobInfo=a}),98);
__d("MAWJobDefinitions",["MAWExternalId","WAJobDefinitions","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}e=d("WAJobDefinitions").createJobSerializers();f=babelHelpers["extends"]({},e,{acceptGroupInvite:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{chatId:a,inviteCode:e,invitedParticipantUserId:c,inviteExpirationTs:f,inviterUserId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"addGroupParticipants"}},backupMessageWithMedia:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=e)!=null?b:void 0,type:"backupMessageWithMedia"}},createGroup:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{extras:c!=null?{clientThreadKey:c,deduplicationKey:f,isDualSend:e,platform:"msgr"}:{deduplicationKey:f,isDualSend:e,platform:"msgr"},key:c,subject:a,users:b},scheduleConfig:(f=g)!=null?f:void 0,type:"createGroup",uniqKey:(e=c)!=null?e:void 0}},deleteGroups:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteGroups"}},deleteMsgsForMe:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteMsgsForMe"}},deleteThread:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{chatId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteThread"}},demoteGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"demoteGroupParticipants"}},downloadAndRestoreMedia:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{deliveryObjectId:a,restorationCdnUrl:b,traceId:c},scheduleConfig:(a=e)!=null?a:void 0,type:"downloadAndRestoreMedia"}},forwardMsg:function(a,b,c,e,f,g,h){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{args:h,chatJid:a,ephemeralSetting:c,externalId:(h=e)!=null?h:d("MAWExternalId").generateExternalId(),isFirstMsg:f,protocolMsgId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"forwardMsg"}},getCurrentUserDeviceList:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getCurrentUserDeviceList"}},getSpams:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:{},scheduleConfig:(a=a)!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"handleSpamMsg"}},leaveGroups:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"leaveGroups"}},linkReactionsToMsgs:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{externalIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"linkReactionsToMsgs"}},markThreadAsRead:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{chatJid:a,upTo:b},scheduleConfig:(a=c)!=null?a:void 0,type:"markThreadAsRead",uniqKey:b==null?void 0:b.externalId}},postBackupWriteCompletionHook:function(a){return{args:{traceIdArray:a},type:"postBackupWriteCompletionHook"}},promoteGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,e,f,g,h,i,j,k){j=d("WAJobDefinitions").serializeJobScheduledConfig(j);return{args:{chatJid:c,context:g,frxParams:h,frxTags:f,isIgd:e,openMsgs:k,reportedMessageId:i,spamFlow:b,userJid:a},scheduleConfig:(c=j)!=null?c:void 0,type:"reportUserSpam"}},requestReuploadMedia:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{hash:b,protocolMsgId:a},scheduleConfig:(b=c)!=null?b:void 0,type:"requestReuploadMedia"}},resendWrittenAppData:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,e,f,g,h,i,j,k,l,m){m=d("WAJobDefinitions").serializeJobScheduledConfig(m);return{args:{hasMoreAfter:f,hasMoreBefore:e,instanceKey:k,isPointQuery:g,messages:c,minMsgId:h,optimisticMsgs:l,startSortKey:j,threadId:b,traceId:i,transportKey:a},scheduleConfig:(f=m)!=null?f:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreThreadsFromEncryptedBackups:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{threads:b,transportKey:a},scheduleConfig:(b=c)!=null?b:void 0,type:"restoreThreadsFromEncryptedBackups"}},reuploadMedia:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{chatJid:c,encIv:f,encProto:e,externalId:a,receiver:b},scheduleConfig:(c=g)!=null?c:void 0,type:"reuploadMedia"}},revokeMsgs:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendAppData"}},sendEphemeralSettingMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendEphemeralSettingMsg"}},sendGroupInviteMsg:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){q=d("WAJobDefinitions").serializeJobScheduledConfig(q);return{args:{args:{duration:i,ephemeralSetting:k,filename:s,height:f,isFirstMsg:o,isForwarded:n,isPtt:j,jpegThumbnail:c,jpegThumbnailHeight:h,jpegThumbnailWidth:g,offlineAttachmentId:t,openMessageOtid:m,quote:l,s2sInstanceKey:u,source:r,width:e},chatJid:a,externalId:(i=p)!=null?i:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:(k=q)!=null?k:void 0,type:"sendMediaMsg"}},sendMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendMsg"}},sendRavenActionMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendRavenActionMsg"}},sendReactionMsg:function(a,b,c,e,f,g,h){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{args:{groupingKey:"",reaction:e,reactToAuthor:c,reactToProtocolMsgId:b,source:h},chatJid:a,externalId:(e=f)!=null?e:d("MAWExternalId").generateExternalId()},scheduleConfig:(c=g)!=null?c:void 0,type:"sendReactionMsg"}},sendWrittenAppData:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"sendWrittenAppData"}},sendWrittenMsg:function(a,b,c){b===void 0&&(b="message");c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{protocolMsgId:a,type:b},scheduleConfig:(a=c)!=null?a:void 0,type:"sendWrittenMsg"}},sendXMAShareMsg:function(a,b,c,e,f,g,h,i,j,k){k=d("WAJobDefinitions").serializeJobScheduledConfig(k);return{args:{args:g,associatedMsgContent:f,associatedMsgContentExternalId:(g=i)!=null?g:d("MAWExternalId").generateExternalId(),chatJid:a,faviconFile:e,headerFile:c,previewFile:b,xmaArgs:j,xmaMsgExternalId:(f=h)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(i=k)!=null?i:void 0,type:"sendXMAShareMsg"}},setGroupSubject:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupSubject"}},updateBackupEntFbidForMedia:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=e)!=null?b:void 0,type:"updateBackupEntFbidForMedia"}},updateThreadMsgMetadata:function(a,b,c,e,f){return{args:{newestMsgId:e,oldestMsgId:b,thread:a,validNewestMsg:f,validOldestMsg:c},scheduleConfig:(e=d("WAJobDefinitions").serializeJobScheduledConfig({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}))!=null?e:void 0,type:"updateThreadMsgMetadata"}},uploadMessagesBackup:function(a,b,c,e,f,g,h,i){i=d("WAJobDefinitions").serializeJobScheduledConfig(i);return{args:{messageIds:a,oldTraceIdMap:g,pendingStanzaIds:c,reactionIds:e,threadIds:b,xmaIds:f},scheduleConfig:(a=i)!=null?a:void 0,type:"uploadMessagesBackup",uniqKey:h}},uploadRetroactiveMessageBatch:function(a,b,c,d){return{args:{chatId:d,dbMsgArray:a,includeOffset:b,msgOffset:c},type:"uploadRetroactiveMessageBatch"}},uploadRetroactiveThreadsAndMessages:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"uploadRetroactiveThreadsAndMessages"}}});function c(a,b){return d("WAJobDefinitions").createStartJobInfoGeneric(a,b)}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=f;g.createStartJobInfo=c}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("MAWUIJob",["MAWBridge","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}))},waitUntilCompleted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a},waitUntilPersisted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a}};g.UI_ACTION_PRIORITY=h;g.UIJobStarters=a}),98);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","LSIntEnum","MAWDbContact"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),a,!0);a=d("I64").ge(a.contactViewerRelationship,d("I64").of_string("2"));if(a&&b)return d("MAWDbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("MAWDbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("MAWDbContact").TWO_WAY_CONTACT;return d("MAWDbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWJidUtils",["MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WAJids").switchOnMsgrChatJidType(a,{group:function(a){return d("MAWJids").groupIdFromJid(a)},user:function(a){return d("MAWJids").userIdFromJid(a)}})}function b(a,b,c){if(d("WAJids").isAuthorSystem(a)||b==null||c==null)return;return{author:a,chat:b,externalId:c}}g.threadIdForChatJid=a;g.maybeToProtocolMsgId=b}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){var h=60,i=5*h,j=60*h,k=24*j,l=7*k,m=365*k,n=60*1e3,o=j*1e3,p=24*o,q=7*p,r=1<<31,s=~r,t=r+1,u={time:0,day:-4},v=0;function a(){return v}function c(a){v=a}function e(a){return Y(a).toUTCString()}function w(a){a=a|0;return Math.max(t,Math.min(a,s))}function x(a){return w(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return t;else return s;else return w(a)}function y(a){return a==null?a:a>s?x(a):w(a)}function z(){return A($()-v*1e3)}function A(a){return a}function B(a){return a}function C(a){return A(a*1e3)}function D(a){return a<t||a>s}function E(a,b){var c=J();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function F(a,b){b=b!=null?b:J();return w(Math.ceil(b+Math.max(a,0)))}function G(a,b){b=b!=null?b:J();return w(Math.ceil(b-Math.max(a,0)))}function H(a){a=Math.max(a-J(),0);return Math.min(1e3*a,~(1<<31))}function I(a){var c=H(a);return new(b("Promise"))(function(a){return void setTimeout(a,c)})}function J(){return w(Date.now()/1e3-v)}function K(){return w(Date.now()/1e3)}function L(){return w(new Date().setHours(0,0,0,0)/1e3-v)}function M(a){return w(Y(a).setHours(0,0,0,0)/1e3-v)}function N(){return Date.now()-v*1e3}function O(a){return Math.max(a-J(),0)}function P(a){return O(a)>0}function Q(){return performance.now()}function R(a){return Math.floor(performance.now()-a)}function S(a,b){return a<b?a:b}var T=function(){function a(){var a=Q();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=Q()};b.elapsed=function(){return R(this.$2)};b.cumulative=function(){return R(this.$1)};return a}();function U(a){return Math.max(J()-a,0)}function V(){return new Date()}function W(a,b,c){return Math.abs(a-b)<=c}function X(a,b){return W(J(),a,b)}function Y(a){return new Date(a*1e3)}function Z(a,b){if(Math.abs(a-b)>k)return!1;a=u.time===a?u.day:Y(a+v).getDay();var c=u.time===b?u.day:Y(b+v).getDay();u.time=b;u.day=c;return a===c}function aa(a){a=a-J();return a<=k}function ba(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(w(a)*1e3):null}function $(){return Date.now()}g.MINUTE_SECONDS=h;g.FIVE_MINUTES=i;g.HOUR_SECONDS=j;g.DAY_SECONDS=k;g.WEEK_SECONDS=l;g.YEAR_SECONDS=m;g.MINUTE_MILLISECONDS=n;g.HOUR_MILLISECONDS=o;g.DAY_MILLISECONDS=p;g.WEEK_MILLISECONDS=q;g.DEFAULT_UNIXTIME=r;g.MAX_INT=s;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=w;g.castMilliSecondsToUnixTime=x;g.castLongIntToUnixTime=f;g.castMillisTimeToUnixTime=y;g.millisTime=z;g.castToMillisTime=A;g.fromMillisTime=B;g.castUnixTimeToMillisTime=C;g.isOverflowTime=D;g.timeoutFor=E;g.futureUnixTime=F;g.pastUnixTime=G;g.cappedMillisecondsUntil=H;g.delayUntil=I;g.unixTime=J;g.unixTimeWithoutClockSkewCorrection=K;g.midnight=L;g.midnightOn=M;g.unixTimeMs=N;g.secondsUntil=O;g.isInFuture=P;g.monotonicTime=Q;g.monotonicTimeSince=R;g.oldest=S;g.MonotonicTimer=T;g.timeSince_USE_ONLY_IF_APPROVED=U;g.unskewedDate_USE_ONLY_IF_APPROVED=V;g.happenedWithinAt=W;g.happenedWithin=X;g.toDate=Y;g.sameDay=Z;g.isWithinNext24h=aa;g.convertHexToDate=ba;g.performanceAbsoluteNow=$}),98);
__d("MAWTimeUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("I64").of_float(a*1e3)}function a(a){return a>d("WATimeUtils").MAX_INT?d("I64").of_float(a):h(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function c(a){if(a==null)return;return a>d("WATimeUtils").MAX_INT?a:d("WATimeUtils").castToMillisTime(a*1e3)}e=d("I64").of_string("9999999999999");g.toTimestamp=h;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=c;g.MAX_TIMESTAMP_MS=e;g.MIN_TIMESTAMP_MS=d("I64").zero}),98);
__d("jsExtraRouteBuilder",["jsRouteBuilder","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){var f=c("jsRouteBuilder")(a,b,e),g=d.reduce(function(a,d){a===void 0&&(a={});typeof d==="string"&&(a[d]=c("jsRouteBuilder")(d,b,e,null,!0).buildURL);return a},{});return{buildExtraURL:function(a,b){if(typeof a!=="string"||g[a]==null)throw c("unrecoverableViolation")("Route builder for extra path does not exist","comet_infra");return g[a](b)},buildUri:function(a){return f.buildUri(a)},buildURL:function(a){return f.buildURL(a)}}}g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("IGDThreadUtils.bs",["I64","XPolarisDirectInboxControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:d("I64").to_string(a)})}g.getUrlFromThreadKey=a}),98);
__d("IGDPresenceBadge.bs",["fbt","CometScreenReaderText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={XXL:{borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",bottom:"x1ey2m1c",height:"xmix8c7",end:"xds687c",width:"x1xp8n7a",$$css:!0},badge:{backgroundColor:"x1wyv8x2",borderTopColor:"x1yhmmig",borderEndColor:"xeqyd3i",borderBottomColor:"xyb01ml",borderStartColor:"xdn568n",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",position:"x10l6tqk",$$css:!0},large:{borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",bottom:"x1ey2m1c",height:"x1kpxq89",end:"xds687c",width:"xsmyaan",$$css:!0},medium:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",height:"xegnrdp",end:"xds687c",width:"x1wc42o8",$$css:!0},micro:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",bottom:"x1ey2m1c",height:"xols6we",end:"xds687c",width:"x1v4s8kt",$$css:!0},small:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",height:"xols6we",end:"xds687c",width:"x1v4s8kt",$$css:!0},tiny:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",height:"xols6we",start:"x17qophe",width:"x1v4s8kt",$$css:!0}};function a(a){a=a.size;var b=j.large;switch(a){case"medium":b=j.medium;break;case"small":b=j.small;break;case"XXL":b=j.XXL;break;case"micro":b=j.micro;break;case"tiny":b=j.tiny;break}a=h._("Online");return i.jsx("div",{className:c("stylex")(j.badge,b),children:i.jsx(c("CometScreenReaderText.react"),{text:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDFacepile.bs",["IGDPresenceBadge.bs","IGDSAvatar.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{position:"x1n2onr6",$$css:!0},"default":{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},frontAvatar:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",position:"x10l6tqk",end:"xds687c",$$css:!0},small:{paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",$$css:!0}};function j(a,b){if(b==="medium"||b==="tiny")if(a)return["extraSmall","32px"];else return["small","44px"];else if(b==="XXL"&&!a)return["XLFacepile","96px"];else return["facepile","56px"]}function k(a,b){if(b==="medium"||b==="tiny")if(a)return"small";else return"medium";else if(b==="XXL")return"XXL";else return"large"}function a(a){var b=a.firstParticipantURI,d=a.isActive;d=d===void 0?!1:d;var e=a.isMobile;e=e===void 0?!1:e;var f=a.secondParticipantURI;a=a.size;var g=j(e,a),l=g[0];g=g[1];e=k(e,a);return h.jsxs("div",{className:"x1n2onr6",style:{height:g,width:g},children:[h.jsx(c("IGDSAvatar.react"),{size:l,src:b}),h.jsx("div",{className:c("stylex")(i.frontAvatar,a==="medium"?i.small:i["default"]),children:h.jsx(c("IGDSAvatar.react"),{size:l,src:f})}),d?h.jsx(c("IGDPresenceBadge.bs"),{size:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSingleAvatar.bs",["fbt","IGDPresenceBadge.bs","IGDSAvatar.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){if(a)switch(b){case"micro":return["micro","14px"];case"tiny":return["tiny","24px"];case"medium":return["small","32px"];case"XXL":return["large","56px"];default:return["large","56px"]}else switch(b){case"micro":return["micro","14px"];case"medium":return["medium","44px"];case"XXL":return["XXL","96px"];default:return["large","56px"]}}function a(a){var b=a.isActive;b=b===void 0?!1:b;var d=a.isMobile;d=d===void 0?!1:d;var e=a.size;a=a.src;d=j(d,e);e=d[0];d=d[1];return i.jsxs("div",{className:"x1n2onr6",style:{height:d,width:d},children:[i.jsx(c("IGDSAvatar.react"),{alt:h._("Avatar do usu\u00e1rio"),size:e,src:a}),b?i.jsx(c("IGDPresenceBadge.bs"),{size:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxClickedThreadContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useCallback,j=c.useContext,k=c.useMemo,l=c.useRef,m=e({getProviderData:function(){return{}},setProviderData:function(a){}});function a(){return j(m)}function b(a){a=a.children;var b=l({}),c=i(function(a){b.current=a},[]),d=i(function(){return b.current},[]),e=k(function(){return{getProviderData:d,setProviderData:c}},[d,c]);return h.jsx(m.Provider,{value:e,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useIGDInboxClickedThreadContext=a;g.IGDInboxClickedThreadContextProvider=b}),98);
__d("IGDNavigation",["I64","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxClickedThreadContextProvider","IGDThreadUtils.bs","JSScheduler","LSIntEnum","XPolarisFeedControllerRouteBuilder","cr:3815","react","useGetStableCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useContext,i=e.useEffect,j=e.useMemo;function k(){var a=d("useGetStableCometRouterDispatcher").useGetStableCometRouterDispatcher(),e=b("cr:3815")!=null?b("cr:3815").useHook():void 0,f=h(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContext),g=d("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),i=f.setProviderData;return j(function(){var b=function(b,c){var f=b.threadKey,h=c==="inboxActiveContacts";i(function(a){return{loggingData:a.loggingData,sentFromActiveNowTray:h}});g.setProviderData({clickedThreadId:f});var j=a();if(j==null)return;b=d("I64").equal(b.threadType,d("LSIntEnum").ofNumber(1));b&&e!=null&&e(f);j.go(d("IGDThreadUtils.bs").getUrlFromThreadKey(f),{passthroughProps:{entryPoint:c}})},f=function(b){var c=a();if(c!=null){c.go("/direct/inbox/",{onNavigate:b});return}},h=function(){var b=a();if(b!=null){b.go("/direct/new/");return}},j=function(){var b=a();if(b!=null){b.go("/direct/requests/");return}},k=function(){var b=a();if(b!=null){b.go("/direct/requests/hidden/");return}},l=function(){var b=a();if(b!=null){var d=c("XPolarisFeedControllerRouteBuilder").buildURL();b.go(d);return}};return{getUrlFromThreadKey:d("IGDThreadUtils.bs").getUrlFromThreadKey,goToCreateNewThreadMobileRoute:h,goToFeed:l,goToNullState:f,openHiddenRequests:k,openInbox:b,openPendingInbox:j,openTabOrInbox:function(a,c){return b(a,c)}}},[i,g,a,e])}function a(a){var b=k(),c=b.getUrlFromThreadKey,e=d("useGetStableCometRouterDispatcher").useGetStableCometRouterDispatcher();i(function(){var b=e();d("JSScheduler").scheduleSpeculativeCallback(function(){if(b!=null){b.prefetchRouteDefinition(c(a));return}})},[e,c,a])}g.useIGDNavigation=k;g.usePreloadRoute=a}),98);
__d("IGDSectionHeader.react",["IGDSectionHeaderLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,c=a.endAdornment,e=a.isMobile,f=a.noBottomBorder;f=f===void 0?!1:f;var g=a.startAdornment;a=a.xstyle;g=g!=null?h.jsx(d("IGDSectionHeaderLayout.react").StartAdornment,{children:g}):null;c=c!=null?h.jsx(d("IGDSectionHeaderLayout.react").EndAdornment,{children:c}):null;return h.jsxs(d("IGDSectionHeaderLayout.react").Container,{isMobile:e,noBottomBorder:f,xstyle:a,children:[g,b,c]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useStableCallback",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useLayoutEffect,j=b.useRef;function a(a){var b=j(a);i(function(){b.current=a},[a]);return h(function(){return b.current.apply(b,arguments)},[])}g["default"]=a}),98);
__d("MAWThreadCutover.bs",["I64","Int64Hooks","LSContactBitOffset","LSIntEnum","MAWJidUtils","MWPActor.react","MWPreloadableQueries","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function i(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a)},[b,a],f.id+":40")!=null}function j(a){var b=c("useReStore")(),e=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return a==null?d("SortedAsyncIterable.bs").empty():d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("mi_act_mapping_table")),{hd:a,tl:0})},[b,a]),"en6d2jbv",f.id+":52");return d("ReQLSubscription.bs").useFirst(h(function(){return e==null?d("SortedAsyncIterable.bs").empty():d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("cutover_threads")),function(a){return d("I64").equal(a.armadilloThreadId,e.jid)})},[b,e]),"l2rwcjwm",f.id+":68")}function a(a){var b=c("useReStore")(),e=j(a);return d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return e==null?d("SortedAsyncIterable.bs").empty():d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("threads")),{hd:e.openThreadId,tl:0})},[b,a,e]),"up000jve",f.id+":86")}function b(a){a=j(a);if(a!=null)return a.openThreadId}function e(a){return j(a)!=null}function k(a,b){b=d("MAWJidUtils").threadIdForChatJid(b);return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("cutover_threads")),{hd:d("I64").of_string(b),tl:0}),f.id+":119").then(function(a){return a!=null})}function l(){var a=c("useReStore")(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b,tl:0}),f.id+":130");return a!=null&&((b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(75),a))!=null?b:!1)}function m(a){var b=c("useReStore")(),e=d("I64").of_string(a),g=i(e);return d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){if(g)return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("mi_act_mapping_table")),function(a){return d("I64").equal(a.jid,e)}),function(a){return d("I64").to_string(a.serverThreadKey)});else return d("SortedAsyncIterable.bs").empty()},[b,e,g]),"oa9vy17v",f.id+":151")}function n(a){if(a!=null)return m(a)}g.useIsCutoverOpenThread=i;g.useGetCutoverMapping=j;g.useCutoverOpenThread=a;g.useGetCutoverOpenThreadKey=b;g.useIsCutoverSecureThread=e;g.isCutoverSecureThreadFromChatJid=k;g.useIsCurrentUserCutoverUser=l;g.useGetCutoverSecureThreadKey=m;g.useMaybeGetCutoverSecureThreadKey=n}),98);
__d("MWLSDatabaseLazySync.bs",["I64","Int64Hooks","LSFactory","LSForceImmediateSync","LSSyncGroupsUtils","Promise","ReQL.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){return a.runInTransaction(function(a){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:e,tl:0})).then(function(f){if(f!=null)if(d("I64").equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSync")(e,c("LSFactory")(a));else return b("Promise").resolve();else return b("Promise").resolve()})},"readwrite")}function a(a){var b=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){return h(b,a)},[a,b])}g.sync=h;g.useSync=a}),98);
__d("IGDListCellSelectedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){var b=a.children;a=a.selected;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.IGDListCellSelectedContextProvider=a;g.useIsListCellSelected=b}),98);
__d("IGDListCell.react",["BaseListCell.react","CometPressable.react","IGDListCellSelectedContext.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;var i={addOnContainer:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},addOnEndContainerPadding:{paddingStart:"x1ye3gou",$$css:!0},addOnStartContainerPadding:{paddingEnd:"xn6708d",$$css:!0},disabled:{opacity:"xbyyjgo",$$css:!0},pressable:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",display:"x1lliihq",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",":active_backgroundColor":"xg6hnt2",":focus_backgroundColor":"x18wri0h",$$css:!0},pressableHover:{":hover_backgroundColor":"x1l895ks",$$css:!0},pressableSelected:{backgroundColor:"x19g9edo",":active_backgroundColor":"xmoo3j9",":focus_backgroundColor":"x1e9wozp",$$css:!0},pressableSelectedHover:{":hover_backgroundColor":"xoo1adm",$$css:!0}},j={large:{paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},small:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function a(a,b){var d=a.addOnEnd,e=a.addOnStart,f=a.addOnStartVerticalAlign,g=a.content,j=a.disabled,l=a.hoverStateVisible;l=l===void 0?!0:l;var m=a.linkProps,n=a.noopOnPressWhenSelected,o=a.onHoverIn,p=a.onHoverOut,q=a.onPress,r=a.role,s=a.selected,t=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","addOnStart","addOnStartVerticalAlign","content","disabled","hoverStateVisible","linkProps","noopOnPressWhenSelected","onHoverIn","onHoverOut","onPress","role","selected","size"]);var u=d||g,v=e||g;return h.jsx(k,{disabled:j,hoverStateVisible:l,linkProps:m,noopOnPressWhenSelected:n,onHoverIn:o,onHoverOut:p,onPress:q,ref:b,role:r,selected:s,size:t,children:h.jsx(c("BaseListCell.react"),babelHelpers["extends"]({addOnEnd:d!=null?h.jsx("div",{className:c("stylex")([i.addOnContainer,v&&i.addOnEndContainerPadding]),children:d}):void 0,addOnStart:e!=null?h.jsx("div",{className:c("stylex")([i.addOnContainer,u&&i.addOnStartContainerPadding]),children:e}):void 0,addOnStartVerticalAlign:f,content:g},a))})}a.displayName=a.name+" [from "+f.id+"]";var k=b(function(a,b){var e=a.children,f=a.disabled,g=a.hoverStateVisible,k=a.linkProps,l=a.noopOnPressWhenSelected,m=a.onHoverIn,n=a.onHoverOut,o=a.onPress,p=a.role,q=a.selected;a=a.size;a=j[a];var r=[i.pressable,g===!0&&i.pressableHover],s=d("IGDListCellSelectedContext.react").useIsListCellSelected();q=Boolean(q)||s;s=[q&&[i.pressableSelected,g===!0&&i.pressableSelectedHover]];return h.jsx(c("CometPressable.react"),{disabled:f===!0,linkProps:k,onHoverIn:m,onHoverOut:n,onPress:Boolean(l)&&q?c("emptyFunction"):o,overlayDisabled:!0,ref:b,role:p,xstyle:[].concat(r,[a],s,[f===!0&&i.disabled]),children:e})});e=h.forwardRef(a);g["default"]=e}),98);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("LSWhatsAppConnectStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({WHATSAPP_NOT_ADDRESSABLE:0,WHATSAPP_ADDRESSABLE:1,WHATSAPP_DUAL_SEND_ELIGIBLE:2,WHATSAPP_DUAL_SEND_WEB_ELIGIBLE:3,WHATSAPP_DUAL_SEND_XAPP_ELIGIBLE:4,WHATSAPP_DST_ELIGIBLE:5,WHATSAPP_GDST_ELIGIBLE:9,WHATSAPP_DST_GDST_ELIGIBLE:13,WHATSAPP_DSI_ELIGIBLE:17,WHATSAPP_DST_DSI_ELIGIBLE:21,WHATSAPP_GDST_DSI_ELIGIBLE:25,WHATSAPP_DST_GDST_DSI_ELIGIBLE:29,WHATSAPP_DST_REAL_TEXT_SHADOW_ELIGIBLE:33});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),e],c[0]=f[0],c[1]=f[1],f):(d=a.item,f=[d.parentThreadKey,d.disappearingThreadKey],c[0]=f[0],c[1]=f[1],f)})},function(a){return b.ct(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.seq([function(d){return b.fe(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}]):b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}])}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286])})}))})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],f)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return c.i64.eq(a[1],c.i64.cast([0,1]))?c.sp(b("LSMoveThreadToArchivedFolder"),a[0]):c.sp(b("LSDeleteThread"),a[0],!1)},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],f,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("CometLazyDialogTrigger.react",["react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(a){var b=a.children,d=a.dialogProps,e=a.dialogResource,f=a.fallback,g=a.onHide,i=a.onShow;a=c("useCometLazyDialog")(e,f);var j=a[0];e=a[1];f=h(function(){j(d,g),i==null?void 0:i()},[j,d,g,i]);return b(f,e)}g["default"]=a}),98);
__d("MAWDbMedia",[],(function(a,b,c,d,e,f){"use strict";b="Image";c="Video";d="Ptt";e="Gif";var g="Sticker",h="DocumentFile",i={DOCUMENT_FILE:h,GIF:e,IMAGE:b,PTT:d,STICKER:g,VIDEO:c};function a(a){return a}f.IMAGE=b;f.VIDEO=c;f.PTT=d;f.GIF=e;f.STICKER=g;f.DOCUMENT_FILE=h;f.MEDIA_TYPE=i;f.convertNumberToMediaId=a}),66);
__d("WADynamicRouter",["Promise","WAErr","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);h=function(){return a};return a}var i={sentinel:"RESPONSE_NAMESPACE"},j={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$1=b("Promise").resolve();this.$2=new Map();this.$4=0;this.$5=null;this.$6=null;this.$7=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$9(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$3==null?void 0:a.$3(c,d,e);return new(b("Promise"))(function(b,g){a.$9(c,d,e,function(c){try{var d=m(c);d?d.call(c,function(c){a.$9(i,"",c,b,f)},function(b){a.$9(i,"",b,g,!1)}):a.$9(i,"",c,b,f)}catch(b){a.$9(i,"",b,g,!1)}},f)})};this.$8=function(){var b=a.$6;if(!b)return;var c=a.$2,d;while(b&&!(d=k(c,b)))a.$6=b=b.nextRoute;if(!b||!d)return;c=a.$10(d,b);var e=!0;if(c!==j){var f=b.prevRoute,g=b.nextRoute;a.$6===b&&(a.$6=g);f?f.nextRoute=g:a.$5=g;g?g.prevRoute=f:(e=!1,a.$7=f)}e&&a.$1.then(a.$8);return c}}var e=a.prototype;e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;++this.$4;c.set(a,b);if(!d){c=this.$5;c&&(this.$6||this.$1.then(this.$8),this.$6=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(h(),e,a);throw c("WAErr")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$9=function(a,b,c,d,e){var f=this.$7;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$7=a;b=!0;f?(f.nextRoute=a,b=!this.$6):this.$5=a;b&&k(this.$2,a)&&(this.$6=a,this.$1.then(this.$8))};e.$10=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var h=this.$4,i=null,k=null;try{i=a(e,f,g,d)}catch(a){k=b("Promise").reject(a)}if(i===j)if(h===this.$4)k=b("Promise").reject(c("WAErr")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return j;if(g){k&&g(k);return}else return k};return a}();function k(a,b){b=b.namespace;return b===i?l:a.get(b)}function l(a,b,c){c(b)}function m(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=j;g.DynamicRouter=a}),98);
__d("WABridge",["WADynamicRouter"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouter").DynamicRouter)();function a(){return h}g.getBridge=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MSG_ENCRYPTION:"armadillo_message_encryption",MSG_DECRYPTION:"armadillo_message_decryption",GET_DEVICES:"armadillo_get_devices",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",MAW_WEBWORKER_LOG_TEST:"maw_webworker_log_test",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item"});f.Entity=a}),66);
__d("MAWODSProxy",["CurrentUser","MAWBridge","ODS","WAOdsEnums","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("4732");function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}function b(a){var b=a.amount,e=a.entity;a=a.key;h&&e===d("WAOdsEnums").Entity.MAW_WEBWORKER_LOG_TEST&&(d("ODS").bumpEntityKey(3185,e,a+".worker."+(c("CurrentUser").getAppID()||"unknown"),b),d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:b,entity:e,key:a+".bridge"}))}g.odsBumpEntityKey=a;g.odsBumpEntityKeyFronWorkerAndMain=b}),98);
__d("WACustomError",[],(function(a,b,c,d,e,f){var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){function a(a,c){return new(b("Promise"))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(b("Promise"))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWGating","MAWODSProxy","WAOdsEnums","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWGating").isClientTimeoutsEnabled()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWMsg",["$InternalEnum","I64","LSIntEnum","LSMessageReplySourceType","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a===d("MAWMsgType").MSG_TYPE.TEXT)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF||a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT||a!==d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE);else return d("LSIntEnum").ofNumber(262144)}function e(a,b,c){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return d("LSIntEnum").ofNumber(8192);else return d("LSIntEnum").ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return d("LSIntEnum").ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return d("LSIntEnum").ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return d("LSIntEnum").ofNumber(131072);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return d("LSIntEnum").ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return d("LSIntEnum").ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return d("LSIntEnum").ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return d("LSIntEnum").ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return d("LSIntEnum").ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return d("LSIntEnum").ofNumber(256);else return d("LSIntEnum").ofNumber(1024);else return d("LSIntEnum").ofNumber(1)}function f(a){a=a.displayedContentTypes;return d("I64").equal(a,d("LSIntEnum").ofNumber(2))||d("I64").equal(a,d("LSIntEnum").ofNumber(4))||d("I64").equal(a,d("LSIntEnum").ofNumber(16384))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))||d("I64").equal(a,d("LSIntEnum").ofNumber(64))||d("I64").equal(a,d("LSIntEnum").ofNumber(4096))}function h(a){a=a.displayedContentTypes;if(d("I64").equal(a,d("LSIntEnum").ofNumber(32)))return!0;else return!1}function i(a){a=a.displayedContentTypes;if(d("I64").equal(a,d("LSIntEnum").ofNumber(1024)))return!0;else return!1}function j(a){a=a.displayedContentTypes;if(d("I64").equal(a,d("LSIntEnum").ofNumber(65536))||d("I64").equal(a,d("LSIntEnum").ofNumber(131072)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(262144))}a=a;e=e;f=f;h=h;i=i;j=j;var k=b("$InternalEnum")({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),l=b("$InternalEnum")({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});b=b("$InternalEnum")({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});g.text=d("MAWMsgType").MSG_TYPE.TEXT;g.image=d("MAWMsgType").MSG_TYPE.IMAGE;g.video=d("MAWMsgType").MSG_TYPE.VIDEO;g.ptt=d("MAWMsgType").MSG_TYPE.PTT;g.xma=d("MAWMsgType").MSG_TYPE.XMA;g.futureproof=d("MAWMsgType").MSG_TYPE.FUTUREPROOF;g.ciphertext=d("MAWMsgType").MSG_TYPE.CIPHERTEXT;g.unavailable=d("MAWMsgType").MSG_TYPE.UNAVAILABLE;g.unsent=d("MAWMsgType").MSG_TYPE.REVOKED;g.gif=d("MAWMsgType").MSG_TYPE.GIF;g.sticker=d("MAWMsgType").MSG_TYPE.STICKER;g.raven=d("MAWMsgType").MSG_TYPE.RAVEN;g.documentFile=d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE;g.replyMsgTypeToLSReplySourceType=a;g.getDisplayedContentTypes=e;g.isMediaMsg=f;g.isAdminMsg=h;g.isXMAMsg=i;g.isPlaceholder=j;g.MAWRavenActionNotifType=k;g.MAWRavenMsgEphemeralMediaState=l;g.MAWRavenMsgEphemeralType=b}),98);
__d("MAWThreadId",["I64","LSMessagingThreadTypeUtil","MAWDbChatId","MAWMiActIsPlaceholderChatId","ODS","ReQL","WALogger","asyncToGeneratorRuntime","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange(d("I64").of_int32(b))));if(a!=null)return a.serverThreadKey;throw c("unrecoverableViolation")("Tried to convert a rowId to thread key but couldn't find a\n      corresponding row in the mapping table. This can mean that\n      there is a race condition between the time a thread was created\n      on the WA backend, and the time it was inserted into the mapping table.\n      i.e. this function is called before the fn that inserts the mapping\n      into the mapping table","messenger_web_product")});return h.apply(this,arguments)}var i=new Set();function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange(d("I64").of_int32(b))));if(a!=null){i["delete"](b);return a.serverThreadKey}i.has(b)||(d("WALogger").LOG(["[Occamadillo] Thread id: "+b.toString()+" is not yet in miActMapping table."]),d("ODS").bumpEntityKey(5765,"thread_not_in_miActMapping","[Occamadillo] Thread id: "+b.toString()+" is not yet in miActMapping table."),i.add(b));return});return j.apply(this,arguments)}function f(a){c("recoverableViolation")("Checking if a threadKey is a secure thread key in Occamadillo. We should be\n      checking the thread's thread type instead","messenger_web_product");return!1}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(b)));return a!=null&&!d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(a.clientThreadPk)?d("I64").to_int32(a.clientThreadPk):void 0});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield k(a,b));return a==null?null:d("MAWDbChatId").unsafeCoerceToChatId(a)});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return;return a.threadType});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield o(a,b));return a==null?!1:d("LSMessagingThreadTypeUtil").isSecure(a)});return r.apply(this,arguments)}function s(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}g.toThreadKey_DEPRECATED=a;g.toThreadKeyMaybe=e;g.isThreadId=f;g.ofThreadKey=m;g.isSecureThreadId=q;g.getThreadFromJid=s}),98);
__d("MAWMiActOnActThreadReadyQueue",["FBLogger","I64","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on ACT thread\n    ready for threadKey: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing queued action on ACT thread ready: "," for threadKey: ",""]);i=function(){return a};return a}var j=new Map(),k=3e4;function a(a,b,e,f){var g=d("I64").to_string(a);a=(a=j.get(g))!=null?a:[];var h=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for threadKey: %s, onActThreadReady",k,e,f,g)},k);a.push({callback:b,description:e,threadState:f,timeoutId:h});j.set(g,a)}function e(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("I64").to_string(a),g=j.get(f);if(g==null||g.length===0)return;var k=g.length,l=0;while(g.length!==0){var m=g.shift(),n=m.callback,o=m.description,p=m.threadState;m=m.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(i(),o,f)),yield n(a,b,e),c("clearTimeout")(m),l++}catch(a){c("clearTimeout")(m),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on ACT thread ready: %s, original threadState: %s, threadKey: %s",o,p,f)}}j["delete"](f);c("promiseDone")(d("WALoggerDeferred").LOG(h(),l,k,f))});return l.apply(this,arguments)}g.enqueueByThreadKey=a;g.processQueueOnActThreadReady=e}),98);
__d("MAWMiActOnActThreadReady",["FBLogger","I64","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"]);h=function(){return a};return a}function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){a=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,e));switch(a.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(h(),e,a.type,d("I64").to_string(b)));return f(b,a.chatId,a.jid);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return d("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(b,f,e,a.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onActThreadReady for threadKey:\n        %s, thread action: %s",d("I64").to_string(b),e);default:a.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",a.type)}});return i.apply(this,arguments)}g.onActThreadReady=a}),98);
__d("WorkerUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){try{return"WorkerGlobalScope"in a&&a instanceof a.WorkerGlobalScope}catch(a){return!1}}function c(){try{return"SharedWorkerGlobalScope"in a&&a instanceof a.SharedWorkerGlobalScope}catch(a){return!1}}function d(){return"SharedWorker"in a&&typeof a.SharedWorker==="function"}f.isWorkerContext=b;f.isSharedWorkerContext=c;f.isSharedWorkerSupported=d}),66);
__d("shouldUseMAWSharedWorker",["QE2Logger","WorkerUtils","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return d("WorkerUtils").isSharedWorkerSupported()&&((a=c("qex")._("430"))!=null?a:!1)}function b(){d("WorkerUtils").isSharedWorkerSupported()&&d("QE2Logger").logExposureForUser("armadillo_web_worker")}g.shouldUseMAWSharedWorker=a;g.logExposureForMAWSharedWorker=b}),98);
__d("IGDBroadcastChannelLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IGDBroadcastChannelLogger").__setRef("IGDBroadcastChannelLoggerDeferred");function a(a){h.onReady(function(b){return b.log(a)})}g.log=a}),98);
__d("useIGDBroadcastChannelLogger",["I64","IGDBroadcastChannelLoggerDeferred","Int64Hooks","MWPActor.react","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useReStore")(),f=d("MWPActor.react").useActor(),g=d("Int64Hooks").useCallbackInt64(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){return a.consistentThreadFbid})):null;d("IGDBroadcastChannelLoggerDeferred").log(babelHelpers["extends"]({},b,{actor_id:d("I64").to_string(f),consistent_thread_fbid:c!=null?d("I64").to_string(c):void 0,ig_thread_id:a?d("I64").to_string(a):void 0}))});return function(a){return c.apply(this,arguments)}}(),[f,e,a]);return g}g["default"]=a}),98);
__d("MAWWaitForBackendSetup",["Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(b("Promise"))(function(a,b){h=a,i=b}),k=h,l=i;function m(a){return j["catch"](function(){throw c("err")("'"+a+"' rejected because backend setup failed.")})}function a(a,b){c("promiseDone")(m(b).then(function(){a()}))}function d(){j=new(b("Promise"))(function(a,b){h=a,i=b}),k=h,l=i}function e(){k==null?void 0:k()}function f(a){l==null?void 0:l(a)}g.waitForBackendSetup=m;g.runAfterBackendSetup=a;g.resetBackendSetup=d;g.resolveBackendSetup=e;g.rejectBackendSetup=f}),98);
__d("MessengerIntent",["WebStorage","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h="mw_sent_message",i="mw_worker_ready";function j(){return c("justknobx")._("1041")}function a(){if(!c("gkx")("8954"))return;c("WebStorage").setItemGuarded(c("WebStorage").getLocalStorage(),i,String(Date.now()))}function b(){if(!c("gkx")("8954"))return!1;var a=c("WebStorage").getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<j()}function d(){if(!c("gkx")("8954"))return;c("WebStorage").setItemGuarded(c("WebStorage").getLocalStorage(),h,String(Date.now()))}function e(){if(!c("gkx")("8954"))return!1;var a=c("WebStorage").getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(h))<j()}g.markWorkerReady=a;g.isMAWWorkerFresh=b;g.sentMessage=d;g.hasSentMessagesRecently=e}),98);
__d("ArmadilloDataTraceCheckPoint.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("63");b=d("I64").of_string("65");c=d("I64").of_string("98");e=d("I64").of_string("504");f=d("I64").of_string("1000");var h=d("I64").of_string("1001"),i=d("I64").of_string("1204"),j=d("I64").of_string("1210"),k=d("I64").of_string("1224"),l=d("I64").of_string("1234"),m=d("I64").of_string("1225");d=d("I64").of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=h;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=d}),98);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1});f["default"]=a}),66);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11});f["default"]=a}),66);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("rewriteFallbackUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("LSMediaUrl.bs",["I64","ServerTime","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("I64").of_float(d("ServerTime").getMillis()/1e3)}function i(a){if(d("I64").gt(a,d("I64").zero))return d("I64").lt(a,h());else return!1}function a(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.playableUrlFallback);else return a.playableUrl}function f(a){var b=a.imageUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.imageUrlFallback);else return a.imageUrl}function j(a){var b=a.faviconUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.faviconUrlFallback);else return a.faviconUrl}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList1;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList1);else return a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function l(a){try{var b=a.listItemContactUrlExpirationTimestampList2;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList2);else return a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function m(a){try{var b=a.listItemContactUrlExpirationTimestampList3;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList3);else return a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function n(a){var b=a.headerImageUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.headerImageUrlFallback);else return a.headerImageUrl}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback1);else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function p(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback2);else return a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function q(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback3);else return a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}function r(a){var b=a.avatarViewUrlList,e=a.avatarViewUrlExpirationTimestampList;a=a.avatarViewUrlFallbackList;if(b==null)if(e!=null)return[];else if(a!=null)return a.split(", ");else return[];if(e==null)return[];if(a==null)return[];b=b.split(", ");var f=e.split(", "),g=a.split(", ");return b.map(function(a,b){var e;try{e=i(d("I64").of_string(f[b]))}catch(a){e=!0}if(e)return c("rewriteFallbackUrl")(g[b]);else return a})}r={avatarViewUrlList:r,faviconUrl:j,headerImageUrl:n,imageUrl:f,listItemContactUrlList1:k,listItemContactUrlList2:l,listItemContactUrlList3:m,listItemProfilePictureUrl1:o,listItemProfilePictureUrl2:p,listItemProfilePictureUrl3:q,playableUrl:e,previewUrl:a,previewUrlLarge:b};function s(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrl}function t(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrlLarge}function u(a){var b=a.playableUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.playableUrlFallback);else return a.playableUrl}function v(a){var b=a.faviconUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.faviconUrlFallback);else return a.faviconUrl}j={faviconUrl:v,playableUrl:u,previewUrl:s,previewUrlLarge:t};function w(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}n={replyMediaUrl:w};function x(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&i(b)){return(b=c("rewriteFallbackUrl")(a.profilePictureFallbackUrl))!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}f={profilePictureUrl:x};function y(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&i(b)){return(b=(b=c("rewriteFallbackUrl")(a.profilePictureUrlFallback))!=null?b:a.profilePictureUrl)!=null?b:""}else{return(b=a.profilePictureUrl)!=null?b:""}}k={profilePictureUrl:y};function z(a){var b=a.threadPictureUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.threadPictureUrlFallback);else return a.threadPictureUrl}l={threadPictureUrl:z};function A(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.pictureUrlFallback);else return a.pictureUrl}function B(a){if(a==null)return;var b=a.coverPicUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.coverPicUrlFallback);else return a.coverPicUrl}m={folderCoverPictureUrl:B,folderPictureUrl:A};function C(a){if(a==null)return;var b=a.communityImageUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.communityImageUrlFallback);else return a.communityImageUrl}function D(a){if(a!=null)if(i(a.groupImageUrlExpirationTimestampMs))return c("rewriteFallbackUrl")(a.groupImageUrlFallback);else return a.groupImageUrl}o={communityImageUrl:C,groupImageUrl:D};p=h;q=i;e=r;a=j;b=n;v=f;u=k;s=l;t=m;w=o;g.now=p;g.isExpired=q;g.Attachment=e;g.AttachmentItem=a;g.Message=b;g.Contact=v;g.CommunityMember=u;g.Thread=s;g.CommunityFolder=t;g.GroupInvitationsPending=w}),98);/*FB_PKG_DELIM*/
__d("IGDSAppImessagePanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 4.05c4.97 0 9 3.299 9 7.369s-4.03 7.37-9 7.37a10.872 10.872 0 0 1-2.442-.277 8.042 8.042 0 0 1-3.689 1.439s1.403-1.15 1.498-2.213A7.225 7.225 0 0 1 3 11.418c0-4.07 4.03-7.369 9-7.369m0-2c-6.065 0-11 4.203-11 9.37a8.855 8.855 0 0 0 3.63 6.961l-.035.03a2 2 0 0 0 1.588 3.516 10.98 10.98 0 0 0 3.811-1.294A12.931 12.931 0 0 0 12 20.79c6.065 0 11-4.204 11-9.37 0-5.167-4.935-9.37-11-9.37Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSSmsPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"10.868",r:"1.335"}),h.jsx("circle",{cx:"17.001",cy:"10.868",r:"1.335"}),h.jsx("circle",{cx:"6.999",cy:"10.868",r:"1.335"}),h.jsx("path",{d:"M9.076 19.505H6.548A4.548 4.548 0 0 1 2 14.957V6.779A4.548 4.548 0 0 1 6.548 2.23h10.904A4.548 4.548 0 0 1 22 6.78v8.178a4.548 4.548 0 0 1-4.548 4.548h-2.528a1.592 1.592 0 0 0-1.126.466L12 21.77l-1.798-1.799a1.592 1.592 0 0 0-1.126-.466Z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisDirectActionSendPostToUsers",["PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisODS","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.comment,f=a.customToast,g=a.mediaId,i=a.mediaOverlayInfo,j=a.mqtt,k=a.recipients;return function(a,l){var m=function(b){f!=null?f({text:b}):a(d("PolarisToastActions").showToast({text:b}))};k.forEach(function(f,k){var n;f.type==="user"?n=d("polarisDirectSelectors").getThreadIdForUserId(l(),k):f.type==="thread"&&(n=k);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE});n!=null?h(j,n,g,i).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),c("PolarisODS").incr("web.share_sheet.send_post"),m(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(e)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(j,c("nullthrows")(n),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("PolarisODS").incr("web.share_sheet.send_post_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),m(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a),m(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)}):d("PolarisDirectAPI").createGroupThread([k]).then(function(k){var l=k.thread_id;d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE});a(d("PolarisDirectActionThreadLoaded").threadLoaded(k));h(j,l,g,i).then(function(){m(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();l!=null&&!c("isStringNullOrEmpty")(e)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(j,c("nullthrows")(l),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),m(d("PolarisDirectStrings").SENT_TOAST_TEXT)})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),m(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){return d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a)})},function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_create_thread_send_post_to_users_failed",a),m(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})}}function h(a,c,d,e){return a!=null?a.sendMediaShare(c,d,e):b("Promise").reject(new Error("MQTT is not instantiated"))}g.sendPostToUsers=a}),98);
__d("polarisGuideSelectors",["PolarisMediaHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return((b=(a=a.guide[b])==null?void 0:a.items)!=null?b:[]).flatMap(function(a){return a.media_items}).find(function(a){return d("PolarisMediaHelpers").getMediaPostId(a)===c})}function b(a,b,c,d){if(c==null)return null;a=(a=a.guide)==null?void 0:(a=a[b])==null?void 0:(b=a.items)==null?void 0:b[d];d=(a==null?void 0:(b=a.attachment)==null?void 0:b.place)!=null;if(!d)return!1;return c!==(a==null?void 0:(b=a.media_items)==null?void 0:(d=b[0])==null?void 0:d.pk)?!1:!!(a==null?void 0:(c=a.media_items)==null?void 0:c[0].has_viewer_saved)}function c(a,b){return(a=a.guide[b])==null?void 0:a.summary}function e(a,b){a=(a=a.guide[b])==null?void 0:(b=a.summary)==null?void 0:b.owner;return a==null?!1:!(a.is_embeds_disabled||a.is_private||a.is_unpublished)}g.getGuideItemFromID=a;g.getHasViewerSavedPlace=b;g.getGuideFromID=c;g.getGuideIsEmbeddable=e}),98);
__d("PolarisShareHelpers",["fbt","invariant","PolarisConfig","PolarisConfigConstants","PolarisUA","URI"],(function(a,b,c,d,e,f,g,h,i){"use strict";function j(){return window.navigator&&window.navigator.share}function a(a,b){switch(b){case"guide":return h._("Veja este guia do Instagram de \u0040{username}",[h._param("username",a)]);case"photo":return h._("Veja esta foto do Instagram de \u0040{username}",[h._param("username",a)]);case"video":return h._("Veja este v\u00eddeo do Instagram de \u0040{username}",[h._param("username",a)]);case"highlight":return h._("Veja este destaque do Instagram de \u0040{username}",[h._param("username",a)]);case"sidecar":default:return h._("Veja esta publica\u00e7\u00e3o do Instagram de \u0040{username}",[h._param("username",a)])}}function b(a,b,d){j()||i(0,51414);return window.navigator.share({text:a,title:h._("Compartilhamento no Instagram"),url:new(c("URI"))(b).addQueryData("utm_source",d)})}function e(a){var b=new(c("URI"))("https://www.facebook.com/sharer/sharer.php");return b.addQueryData({app_id:d("PolarisConfigConstants").instagramWebFBAppId,u:a}).toString()}function f(a){var b;d("PolarisUA").isMobile()?(b=new(c("URI"))("fb-messenger://share"),b.addQueryData({app_id:d("PolarisConfigConstants").instagramWebFBAppId,link:a})):(b=new(c("URI"))("https://www.facebook.com/dialog/send"),b.addQueryData({app_id:d("PolarisConfigConstants").instagramWebFBAppId,link:a,redirect_uri:a}));return b.toString()}function k(a,b){var d=new(c("URI"))("whatsapp://send");return d.addQueryData({text:b.toString()+": "+a}).toString()}function l(a,b){var d=new(c("URI"))("https://twitter.com/share");return d.addQueryData({text:b.toString(),url:a}).toString()}function m(a,b){a=b.toString()+": "+a;return"mailto:?subject="+encodeURIComponent(b.toString())+"&body="+encodeURIComponent(a)}function n(a){return"sms:"+(d("PolarisConfig").isAndroid()?";":"")+"?&body="+encodeURIComponent(a)}g.hasNativeShare=j;g.getShareDescription=a;g.shareWithNative=b;g.getShareToFBURL=e;g.getShareToMessengerURL=f;g.getShareToWhatsAppURL=k;g.getShareToTwitterURL=l;g.getShareToEmailURL=m;g.getShareToSMSURL=n}),98);
__d("PolarisDirectShareSheetTooltip.react",["IGDSBox.react","IGDSDivider.react","IGDSText.react","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.description,d=a.header;a=a.icon;return h.jsxs(h.Fragment,{children:[h.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"center",paddingX:3,paddingY:4,position:"relative",children:[h.jsx(c("IGDSBox.react"),{alignItems:"center",alignSelf:"stretch",direction:"column",justifyContent:"center",marginEnd:1,paddingX:3,position:"relative",children:a}),h.jsxs(c("IGDSBox.react"),{direction:"column",flex:"grow",position:"relative",children:[h.jsx(c("IGDSText.react").BodyEmphasized,{children:d}),h.jsx(c("IGDSBox.react"),{paddingY:1,position:"relative"}),h.jsx(c("PolarisIGCoreText").Body2,{display:"inline",children:b})]})]}),h.jsx(c("IGDSBox.react"),{minHeight:"1px",position:"relative",children:h.jsx(c("IGDSDivider.react"),{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDirectShareSheetMisinformationTooltip.react",["PolarisAssetManagerGlyphMapping","PolarisDirectShareSheetTooltip.react","PolarisIGCoreIcon","PolarisMisinformationConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.description;a=a.header;return b!=null&&a!=null?h.jsx(c("PolarisDirectShareSheetTooltip.react"),{description:b,header:a,icon:h.jsx(c("PolarisIGCoreIcon"),{alt:d("PolarisMisinformationConstants").FALSE_NEWS_ICON,icon:d("PolarisAssetManagerGlyphMapping").ICONS.NEWS_OFF_OUTLINE_RED})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisShareFrictionUtils",["fbt","polarisGetPostFromGraphMediaInterface","polarisMediaOverlayInfoUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i={MISINFO_FRICTION:"misinfo_friction",NEWSWORTHY_FRICTION:"newsworthy_friction",SENSITIVE_FRICTION:"sensitive_friction"};c=h._("\u00edcone de aviso");function j(a){return a.isSidecar!=null&&a.isSidecar===!0}function k(a,b){var c=a.mediaOverlayInfo,e=a.sensitivityFrictionInfo,f=a.sidecarChildren;f=f===void 0?void 0:f;var g=d("polarisMediaOverlayInfoUtils").getMediaOverlayLayout(c);c=d("polarisMediaOverlayInfoUtils").getMediaOverlayType(c);if(d("polarisMediaOverlayInfoUtils").isMediaOverlayLayoutSupported(g))if(d("polarisMediaOverlayInfoUtils").isMediaOverlayTypeSensitiveContent(c)&&e!=null)return i.SENSITIVE_FRICTION;else if(d("polarisMediaOverlayInfoUtils").isMediaOverlayTypeNewsworthyContent(c))return i.NEWSWORTHY_FRICTION;if(j(a)&&!b&&f!=null)for(g=0;g<f.length;g++){e=f[g];if(m(e)===i.MISINFO_FRICTION)return i.MISINFO_FRICTION}return null}function l(a){return k(a,!1)}function m(a){return k(a,!0)}function a(a,b){if(b!=null){b=m(b);if(b!=null)return b}return l(a)}function n(a){return d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromSidecarChild(a)!=null}function b(a,b){if(b===i.MISINFO_FRICTION)return!n(a)||!d("polarisGetPostFromGraphMediaInterface").isSidecarItemMediaOverlayTypeMisinfo(a);else if(b===i.SENSITIVE_FRICTION)return!n(a)||!d("polarisGetPostFromGraphMediaInterface").isSidecarItemMediaOverlayTypeSensitiveContent(a);else if(b===i.NEWSWORTHY_FRICTION)return!0;return!1}g.SHARE_FRICTION_TYPES=i;g.SENSITIVITY_ICON_ALT_TEXT=c;g.getSharingFrictionTypeFromRootPostAndMaybeSidecarChild=a;g.shouldDirectShareSheetTooltipForCurrSidecarChildBeDisabled=b}),98);
__d("PolarisDirectShareSheetSensitivityTooltip.react",["PolarisAssetManagerGlyphMapping","PolarisDirectShareSheetTooltip.react","PolarisIGCoreIcon","polarisShareFrictionUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.desc;a=a.header;return h.jsx(c("PolarisDirectShareSheetTooltip.react"),{description:b,header:a,icon:h.jsx(c("PolarisIGCoreIcon"),{alt:d("polarisShareFrictionUtils").SENSITIVITY_ICON_ALT_TEXT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.GLYPH_EYE_OFF})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDirectShareSheetBaseFrictionTooltip.react",["PolarisDirectShareSheetMisinformationTooltip.react","PolarisDirectShareSheetSensitivityTooltip.react","polarisShareFrictionUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.currSidecarChildItem;a=a.post;var c=a.isSidecar,d=null,e=null;if(c===!0&&b!=null){d=(c=b.mediaOverlayInfo)==null?void 0:c.description;e=(c=b.mediaOverlayInfo)==null?void 0:c.title}d=d!=null?d:(b=a.mediaOverlayInfo)==null?void 0:b.description;e=e!=null?e:(c=a.mediaOverlayInfo)==null?void 0:c.title;return{desc:d,header:e}}function j(a){var b=a.currSidecarChildItem;a=a.post;var c=a.isSidecar,d=null,e=null;c===!0?c=b!=null?b.mediaOverlayInfo:null:c=a!=null?a.mediaOverlayInfo:null;c!=null&&(d=c.description,e=c.title);return{description:d,header:e}}function a(a){var b=a.currSidecarChildItem,e=a.shareFrictionType;if(b!=null&&d("polarisShareFrictionUtils").shouldDirectShareSheetTooltipForCurrSidecarChildBeDisabled(b,e))return null;switch(e){case d("polarisShareFrictionUtils").SHARE_FRICTION_TYPES.MISINFO_FRICTION:b=j(a);return h.jsx(c("PolarisDirectShareSheetMisinformationTooltip.react"),{description:b.description,header:b.header});case d("polarisShareFrictionUtils").SHARE_FRICTION_TYPES.SENSITIVE_FRICTION:e=i(a);b=e.desc;a=e.header;return b==null||a==null?null:h.jsx(c("PolarisDirectShareSheetSensitivityTooltip.react"),{desc:b,header:a});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCopyLinkModal.react",["cx","fbt","invariant","IGCoreModal","IGDSBox.react","IGDSButton.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=d("react").useRef,m=i._("Selecionar link para a publica\u00e7\u00e3o");function a(a){var b=a.onClose;a=a.postUrl;var d=l(null),e=function(){var a=d.current;a||j(0,51626);(a.selectionStart!==0||a.selectionEnd<a.value.length)&&a.setSelectionRange(0,a.value.length,"forward");document.activeElement!==a&&a.focus()},f=function(){e()},g=function(){e()};return k.jsx(c("IGCoreModal"),{onClose:b,children:k.jsxs(c("IGDSBox.react"),{padding:4,position:"relative",children:[k.jsx("textarea",{className:"_aalc",onFocus:g,readOnly:!0,ref:d,value:a}),k.jsx(c("IGDSButton.react"),{display:"block",label:m,onClick:f})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreAppTwitterOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M16.04 3.5a4.304 4.304 0 0 1 3.145 1.362 8.645 8.645 0 0 0 2.736-1.046 4.324 4.324 0 0 1-1.895 2.383 8.618 8.618 0 0 0 2.475-.678 8.766 8.766 0 0 1-2.15 2.23c.01.185.013.37.013.557A12.175 12.175 0 0 1 8.105 20.567a12.2 12.2 0 0 1-6.604-1.935 8.792 8.792 0 0 0 1.027.06 8.647 8.647 0 0 0 5.351-1.845 4.314 4.314 0 0 1-4.024-2.992 4.313 4.313 0 0 0 1.945-.074 4.31 4.31 0 0 1-3.457-4.224c0-.02 0-.038.002-.055a4.267 4.267 0 0 0 1.951.538 4.312 4.312 0 0 1-1.334-5.75 12.233 12.233 0 0 0 8.881 4.502A4.315 4.315 0 0 1 16.04 3.5m6.46 2.02h.006M16.04 2a5.817 5.817 0 0 0-5.763 5.08 10.783 10.783 0 0 1-6.152-3.74 1.5 1.5 0 0 0-1.163-.552c-.039 0-.078.001-.117.004a1.5 1.5 0 0 0-1.18.742 5.821 5.821 0 0 0-.422 4.949 1.5 1.5 0 0 0-.394.904 2.26 2.26 0 0 0-.006.169 5.81 5.81 0 0 0 1.553 3.948 1.5 1.5 0 0 0 .03.808 5.796 5.796 0 0 0 1.801 2.679 7.233 7.233 0 0 1-1.699.2 7.338 7.338 0 0 1-.852-.05 1.5 1.5 0 0 0-.984 2.753 13.718 13.718 0 0 0 7.413 2.172 13.405 13.405 0 0 0 10.226-4.503 14.213 14.213 0 0 0 3.532-9.093 10.204 10.204 0 0 0 1.846-2.06 1.5 1.5 0 0 0-.362-2.132l.002-.006a1.5 1.5 0 0 0-2.193-1.748 7.15 7.15 0 0 1-1.56.69A5.838 5.838 0 0 0 16.04 2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreFacebookCircleOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("path",{d:"M16.671 15.469 17.203 12h-3.328V9.749a1.734 1.734 0 0 1 1.956-1.874h1.513V4.922a18.452 18.452 0 0 0-2.686-.234c-2.741 0-4.533 1.66-4.533 4.668V12H7.078v3.469h3.047v7.885a12.125 12.125 0 0 0 3.75 0V15.47Z",fillRule:"evenodd"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreForwardOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M23.247 10.465H9.185a8.438 8.438 0 0 0-8.438 8.438v2.819",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"15.06 2.278 23.247 10.465 15.06 18.653",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreLinkPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"m9.726 5.123 1.228-1.228a6.47 6.47 0 0 1 9.15 9.152l-1.227 1.227m-4.603 4.603-1.228 1.228a6.47 6.47 0 0 1-9.15-9.152l1.227-1.227",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.471",x2:"15.529",y1:"15.529",y2:"8.471"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreLinkOutlineIcon",["PolarisIGCoreLinkPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreLinkPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreMailPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("rect",{fill:"none",height:"17.273",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"20",x:"2",y:"3.364"}),h.jsx("polyline",{fill:"none",points:"2 7.155 12.002 13.81 22 7.157",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreMailOutlineIcon",["PolarisIGCoreMailPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreMailPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreScanQrOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M.75 16.097v3.568a3.585 3.585 0 0 0 3.585 3.585h3.568m0-22.5H4.335A3.585 3.585 0 0 0 .75 4.335v3.568m22.5 0V4.335A3.585 3.585 0 0 0 19.665.75h-3.568m0 22.5h3.568a3.585 3.585 0 0 0 3.585-3.585v-3.568",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("path",{d:"M19 17.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5ZM17.5 16a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5Zm1.5-2.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5Zm-4 4h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5Zm-1-2h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5ZM18 4h-3a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm.5 5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5ZM9 4H6a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm.5 5a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5ZM8 6.5H7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V7a.5.5 0 0 0-.5-.5Zm0 9H7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5Zm9-9h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V7a.5.5 0 0 0-.5-.5ZM9 13H6a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2Zm.5 5a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreWhatsappLogoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 31 31",children:h.jsx("path",{clipRule:"evenodd",d:"M15.662.263A15.166 15.166 0 0 1 26.06 4.48a15.048 15.048 0 0 1 4.653 10.381 15.164 15.164 0 0 1-3.77 10.568 15.063 15.063 0 0 1-11.37 5.138c-2.273 0-4.526-.513-6.567-1.495l-7.93 1.764a.116.116 0 0 1-.138-.13l1.34-8.019a15.181 15.181 0 0 1-1.85-6.837A15.052 15.052 0 0 1 4.555 5.012 15.061 15.061 0 0 1 15.586.263h.075Zm-.085 2.629c-.12 0-.242.002-.364.005-6.902.198-12.356 5.975-12.158 12.877.06 2.107.654 4.176 1.717 5.982l.231.392-.993 5.441 5.385-1.271.407.212a12.527 12.527 0 0 0 6.13 1.402c6.901-.198 12.356-5.974 12.158-12.876-.195-6.78-5.773-12.164-12.513-12.164ZM10.34 8.095c.253.008.507.015.728.032.271.019.57.04.836.683.315.763.996 2.668 1.085 2.86.09.194.146.418.011.668-.134.25-.203.407-.4.623-.196.216-.414.484-.59.649-.197.184-.4.384-.19.771.21.388.934 1.657 2.033 2.7 1.413 1.34 2.546 1.783 2.996 1.993a.998.998 0 0 0 .415.112c.162 0 .292-.068.415-.193.237-.24.95-1.071 1.25-1.454.156-.2.299-.271.453-.271.123 0 .255.045.408.107.345.137 2.185 1.115 2.56 1.317.374.202.625.305.715.466.09.162.066.924-.278 1.803-.344.878-1.922 1.688-2.621 1.73-.205.012-.406.04-.668.04-.634 0-1.621-.166-3.865-1.133-3.817-1.643-6.136-5.683-6.318-5.942-.182-.26-1.489-2.111-1.432-3.983C7.94 9.8 8.951 8.91 9.311 8.54c.345-.355.74-.445.996-.445h.032Z",fill:"currentColor",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisPostShareStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("Compartilhar em...");b=h._("Compartilhar no Direct");c=h._("Compartilhar no Facebook");d=h._("Compartilhar no Messenger");e=h._("Compartilhar no WhatsApp");f=h._("Compartilhar no Twitter");var i=h._("Compartilhar por email"),j=h._("QR code"),k=h._("Copiar link"),l=h._("Compartilhar por iMessage");h=h._("Compartilhar por SMS");g.SHARE_TITLE=a;g.SHARE_TO_DIRECT=b;g.SHARE_TO_FACEBOOK=c;g.SHARE_TO_MESSENGER=d;g.SHARE_TO_WHATSAPP=e;g.SHARE_TO_TWITTER=f;g.SHARE_TO_EMAIL=i;g.SHARE_QR_CODE=j;g.COPY_LINK=k;g.SHARE_TO_IMESSAGE=l;g.SHARE_TO_SMS=h}),98);
__d("PolarisShareSheetItem.react",["cx","invariant","IGDSListItem.react","IGDSText.react","emptyFunction","react","requireDeferred","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=c("requireDeferred")("ExternalShareOptionImpressionFalcoEvent").__setRef("PolarisShareSheetItem.react");function a(a){var b=a.color;b=b===void 0?"primary":b;var d=a["data-testid"];d=a.hrefTarget;d=d===void 0?"_blank":d;var e=a.icon,f=a.label,g=a.onClick,h=g===void 0?c("emptyFunction"):g;g=a.url;var m=a.impressionLogData;g===void 0||h===c("emptyFunction")||i(0,51420);a=c("useSinglePartialViewImpression")({onImpressionStart:k(function(){m!=null&&l.onReady(function(a){return a.log(function(){return m})})},[m])});return j.jsx(c("IGDSListItem.react"),{addOnStart:j.jsx("div",{className:"_abdy",children:e!=null?j.jsx(e,{alt:f,size:24}):null}),linkProps:{target:d,url:g},onPress:function(){h()},overlayDisabled:!1,ref:a,testid:void 0,title:j.jsx(c("IGDSText.react").Body,{color:b==="primary"?"primaryText":"link",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisShareSheet.react",["fbt","IGDSAppImessagePanoOutlineIcon","IGDSBox.react","IGDSSmsPanoOutlineIcon","PolarisAsyncEntityQRModal","PolarisClipboard","PolarisConfig","PolarisCopyLinkModal.react","PolarisDirectActionSendPostToUsers","PolarisDirectShareSheet.react","PolarisDirectShareSheetBaseFrictionTooltip.react","PolarisGenericStrings","PolarisIGCoreAppMessengerOutlineIcon","PolarisIGCoreAppTwitterOutlineIcon","PolarisIGCoreDirectOutlineIcon","PolarisIGCoreFacebookCircleOutlineIcon","PolarisIGCoreForwardOutlineIcon","PolarisIGCoreLinkOutlineIcon","PolarisIGCoreMailOutlineIcon","PolarisIGCoreScanQrOutlineIcon","PolarisIGCoreSheetOrModal","PolarisIGCoreWhatsappLogoOutlineIcon","PolarisLogger","PolarisPostActionLoadPostShareIds","PolarisPostShareStrings","PolarisReactRedux","PolarisShareHelpers","PolarisShareSheetContext","PolarisShareSheetItem.react","PolarisToastActions","PolarisUA","QPLUserFlow","polarisGuideSelectors","polarisPostSelectors","polarisShareFrictionUtils","qex","qpl","react","usePolarisMQTT"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useState,m=h._("Link copiado para a \u00e1rea de transfer\u00eancia."),n="ig_web_logged_in_sharesheet";function a(a){var b=a.analyticsContext,e=a.description,g=a.entityID,o=a.entityOwnerID,p=a.entityType,q=a.onClose,r=a.onNativeShare,s=a.shareEnabled,t=a.url,u=a.utmSource;a=j(c("PolarisShareSheetContext"));var v=a.currPostSidecarChildItem;a=l(!1);var w=a[0],x=a[1];a=l(!1);var y=a[0],z=a[1];a=l(!0);var A=a[0],B=a[1];a=l(!1);var C=a[0],D=a[1],E=d("PolarisReactRedux").useDispatch(),F=c("usePolarisMQTT")(),G=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,g)});a=d("PolarisReactRedux").useSelector(function(a){return d("polarisGuideSelectors").getGuideFromID(a,g)});var H;switch(p){case"guide":H=a==null?void 0:a.shareIds;break;case"photo":case"sidecar":case"video":H=G==null?void 0:G.shareIds;break}k(function(){d("PolarisConfig").isLoggedIn()&&Array.from(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.members()).map(function(a){(H==null||H[a]==null)&&E(d("PolarisPostActionLoadPostShareIds").loadPostShareId({analyticsContext:b,entityID:g,entityType:p,qeUniverseName:n,sharePlatform:a}))})},[E,g,p]);function I(){return E(d("PolarisToastActions").showToast({text:m}))}function J(a){a=H!=null?H[a]:null;return a!=null?"https://www.instagram.com"+t+"?utm_source="+u+"&igshid="+a:"https://www.instagram.com"+t+"?utm_source="+u}function K(){if(G==null)return null;var a=d("polarisShareFrictionUtils").getSharingFrictionTypeFromRootPostAndMaybeSidecarChild(G,v);if(a==null)return null;return v!=null&&d("polarisShareFrictionUtils").shouldDirectShareSheetTooltipForCurrSidecarChildBeDisabled(v,a)?null:i.jsx(c("PolarisDirectShareSheetBaseFrictionTooltip.react"),{currSidecarChildItem:v,post:G,shareFrictionType:a})}K.displayName=K.name+" [from "+f.id+"]";function L(){return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisShareSheetItem.react"),{"data-testid":void 0,icon:c("PolarisIGCoreDirectOutlineIcon"),label:d("PolarisPostShareStrings").SHARE_TO_DIRECT,onClick:function(){c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:b}}}),D(!0),d("PolarisUA").isMobile()&&B(!1)}},"direct"),C&&i.jsx(d("PolarisDirectShareSheet.react").PolarisDirectShareSheet,{onClose:function(){D(!1)},onDone:function(a,b){d("PolarisUA").isMobile()&&B(!0),q(),E(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:b,mediaId:g,mediaOverlayInfo:G==null?void 0:G.mediaOverlayInfo,mqtt:F,recipients:a}))},referrer:b,tooltip:K()})]})}function M(){return i.jsx(c("PolarisShareSheetItem.react"),{icon:c("PolarisIGCoreFacebookCircleOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"facebook"},label:d("PolarisPostShareStrings").SHARE_TO_FACEBOOK,url:d("PolarisShareHelpers").getShareToFBURL(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.FACEBOOK))},"fb")}M.displayName=M.name+" [from "+f.id+"]";function N(){return i.jsx(c("PolarisShareSheetItem.react"),{icon:c("PolarisIGCoreAppMessengerOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"messenger"},label:d("PolarisPostShareStrings").SHARE_TO_MESSENGER,url:d("PolarisShareHelpers").getShareToMessengerURL(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.MESSENGER))},"messenger")}N.displayName=N.name+" [from "+f.id+"]";function O(){return i.jsx(c("PolarisShareSheetItem.react"),{"data-testid":void 0,icon:c("PolarisIGCoreWhatsappLogoOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"whatsapp"},label:d("PolarisPostShareStrings").SHARE_TO_WHATSAPP,url:d("PolarisShareHelpers").getShareToWhatsAppURL(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.WHATSAPP),e)},"whatsapp")}O.displayName=O.name+" [from "+f.id+"]";function P(){return i.jsx(c("PolarisShareSheetItem.react"),{icon:c("PolarisIGCoreAppTwitterOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"twitter"},label:d("PolarisPostShareStrings").SHARE_TO_TWITTER,url:d("PolarisShareHelpers").getShareToTwitterURL(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.TWITTER),e)},"twitter")}P.displayName=P.name+" [from "+f.id+"]";function Q(){d("PolarisLogger").logAction("postLinkCopy",{source:b,type:p}),!d("PolarisClipboard").canCopy()||!d("PolarisClipboard").copy(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.COPY_LINK))?x(!0):(I(),q())}function R(){x(!1),q()}function S(){return i.jsx(c("PolarisShareSheetItem.react"),{icon:c("PolarisIGCoreLinkOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"copy_link"},label:d("PolarisPostShareStrings").COPY_LINK,onClick:Q},"copy")}S.displayName=S.name+" [from "+f.id+"]";function T(){return w&&i.jsx(c("PolarisCopyLinkModal.react"),{onClose:R,postUrl:J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.COPY_LINK)},"copymodal")}function U(){if(!d("PolarisConfig").isLoggedIn()||!d("PolarisUA").isMobile())return null;if(c("qex")._("535")!==!0)return null;var a=d("PolarisShareHelpers").getShareToSMSURL(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.SMS));return i.jsx(c("PolarisShareSheetItem.react"),babelHelpers["extends"]({hrefTarget:"_top",icon:d("PolarisConfig").isIOS()?c("IGDSAppImessagePanoOutlineIcon"):c("IGDSSmsPanoOutlineIcon"),label:d("PolarisConfig").isIOS()?d("PolarisPostShareStrings").SHARE_TO_IMESSAGE:d("PolarisPostShareStrings").SHARE_TO_SMS},d("PolarisConfig").isAndroid()?{onClick:function(){return window.open(a,"_top")}}:{url:a},{impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"SMS"}}),"sms")}U.displayName=U.name+" [from "+f.id+"]";function V(){return i.jsx(c("PolarisShareSheetItem.react"),{hrefTarget:"_top",icon:c("PolarisIGCoreMailOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"email"},label:d("PolarisPostShareStrings").SHARE_TO_EMAIL,url:d("PolarisShareHelpers").getShareToEmailURL(J(d("PolarisPostActionLoadPostShareIds").ThirdPartyPlatformType.EMAIL),e)},"email")}V.displayName=V.name+" [from "+f.id+"]";function W(){return i.jsx(c("PolarisShareSheetItem.react"),{hrefTarget:"_top",icon:c("PolarisIGCoreScanQrOutlineIcon"),impressionLogData:{media_author_id:o,media_id:g,module:b,share_option:"qr_code"},label:d("PolarisPostShareStrings").SHARE_QR_CODE,onClick:function(){return z(!0)}},"qr")}W.displayName=W.name+" [from "+f.id+"]";function X(){return i.jsx(c("PolarisShareSheetItem.react"),{icon:c("PolarisIGCoreForwardOutlineIcon"),label:h._("Ver tudo"),onClick:r},"see_all")}X.displayName=X.name+" [from "+f.id+"]";function Y(){return i.jsx(c("PolarisShareSheetItem.react"),{color:"blue",label:d("PolarisGenericStrings").CANCEL_TEXT,onClick:q})}Y.displayName=Y.name+" [from "+f.id+"]";a=F!=null||c("qex")._("605")===!0;return i.jsxs(i.Fragment,{children:[i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{"data-testid":void 0,isVisible:A,onClose:q,title:d("PolarisPostShareStrings").SHARE_TITLE,children:i.jsxs(c("IGDSBox.react"),{paddingY:2,position:"relative",children:[a&&L(),s&&i.jsxs(i.Fragment,{children:[M(),N(),d("PolarisUA").isMobile()&&O(),P(),U(),V(),W(),S(),a&&d("PolarisShareHelpers").hasNativeShare()&&X()]}),Y()]})}),T(),y&&i.jsx(c("PolarisAsyncEntityQRModal"),{entityID:g,onClose:function(){z(!1),q()},source:"SHARE_SHEET"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("bs_caml",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}function b(a,b){if(a)if(b)return 0;else return 1;else if(b)return-1;else return 0}function c(a,b){if(a===b)return 0;else if(a<b)return-1;else if(a>b||a===a)return 1;else if(b===b)return-1;else return 0}function d(a,b){if(a===b)return 0;else if(a<b)return-1;else return 1}function e(a,b){if(a)return b;else return a}function g(a,b){if(a<b)return a;else return b}function h(a,b){if(a<b)return a;else return b}function i(a,b){if(a<b)return a;else return b}function j(a,b){if(a<b)return a;else return b}function k(a,b){if(a)return a;else return b}function l(a,b){if(a>b)return a;else return b}function m(a,b){if(a>b)return a;else return b}function n(a,b){if(a>b)return a;else return b}function o(a,b){if(a>b)return a;else return b}function p(a,b){if(a[1]===b[1])return a[0]===b[0];else return!1}function q(a,b){var c=b[0],d=a[0];if(d>c)return!0;else if(d<c)return!1;else return a[1]>=b[1]}function r(a,b){return!p(a,b)}function s(a,b){return!q(a,b)}function t(a,b){if(a[0]>b[0])return!0;else if(a[0]<b[0])return!1;else return a[1]>b[1]}function u(a,b){return!t(a,b)}function v(a,b){if(q(a,b))return b;else return a}function w(a,b){if(t(a,b))return a;else return b}f.caml_int_compare=a;f.caml_bool_compare=b;f.caml_float_compare=c;f.caml_string_compare=d;f.caml_bool_min=e;f.caml_int_min=g;f.caml_float_min=h;f.caml_string_min=i;f.caml_int32_min=j;f.caml_bool_max=k;f.caml_int_max=l;f.caml_float_max=m;f.caml_string_max=n;f.caml_int32_max=o;f.i64_eq=p;f.i64_neq=r;f.i64_lt=s;f.i64_gt=t;f.i64_le=u;f.i64_ge=q;f.i64_min=v;f.i64_max=w}),null);
__d("bs_caml_int64",["bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return[b,a>>>0]}var g=[-2147483648,0],h=[2147483647,4294967295],i=[0,1],j=[0,0],k=[-1,4294967295];function l(a){return(a&-2147483648)!==0}function m(a){return(a&-2147483648)===0}function c(a){var b=a[1];a=a[0];b=b+1|0;return[a+(b===0?1:0)|0,b>>>0]}function n(a){var b=(a[1]^-1)+1|0;return[(a[0]^-1)+(b===0?1:0)|0,b>>>0]}function o(a,b,c){var d=a[1],e=d+b|0;d=l(d)&&(l(b)||m(e))||l(b)&&m(e)?1:0;return[a[0]+c+d|0,e>>>0]}function p(a,b){return o(a,b[1],b[0])}function d(a,c){if(c!==null)return b("bs_caml").i64_eq(a,c);else return!1}function e(a,c){if(c!==void 0)return b("bs_caml").i64_eq(a,c);else return!1}function q(a,c){if(c==null)return!1;else return b("bs_caml").i64_eq(a,c)}function r(a,b,c){b=(b^-1)+1>>>0;c=(c^-1)+(b===0?1:0)|0;return o(a,b,c)}function s(a,b){return r(a,b[1],b[0])}function t(a,b){if(b===0)return a;var c=a[1];if(b>=32)return[c<<(b-32|0),0];else return[c>>>(32-b|0)|a[0]<<b,c<<b>>>0]}function u(a,b){if(b===0)return a;var c=a[0],d=b-32|0;if(d===0)return[0,c>>>0];else if(d>0)return[0,c>>>d];else return[c>>>b,(c<<(-d|0)|a[1]>>>b)>>>0]}function v(a,b){if(b===0)return a;var c=a[0];if(b<32)return[c>>b,(c<<(32-b|0)|a[1]>>>b)>>>0];else return[c>=0?0:-1,c>>(b-32|0)>>>0]}function w(a){if(a[0]!==0)return!1;else return a[1]===0}function x(a,b){while(!0){var c=b,d=a,e,f=d[0],h=0,i=0,k;if(f!==0)k=4;else{if(d[1]===0)return j;k=4}if(k===4)if(c[0]!==0)i=3;else{if(c[1]===0)return j;i=3}i===3&&(f!==-2147483648||d[1]!==0?h=2:e=c[1]);if(h===2){k=c[0];i=d[1];h=0;k!==-2147483648||c[1]!==0?h=3:e=i;if(h===3){h=c[1];if(f<0){if(k>=0)return n(x(n(d),c));b=n(c);a=n(d);continue}if(k<0)return n(x(d,n(c)));d=f>>>16;c=f&65535;f=i>>>16;i=i&65535;var l=k>>>16;k=k&65535;var m=h>>>16;h=h&65535;var o,p,q,r=i*h;q=(r>>>16)+f*h;p=q>>>16;q=(q&65535)+i*m;p=p+(q>>>16)+c*h;o=p>>>16;p=(p&65535)+f*m;o=o+(p>>>16);p=(p&65535)+i*k;o=o+(p>>>16);p=p&65535;o=o+(d*h+c*m+f*k+i*l)&65535;return[p|o<<16,(r&65535|(q&65535)<<16)>>>0]}}if((e&1)===0)return j;else return g}}function y(a,b){return[a[0]^b[0],(a[1]^b[1])>>>0]}function z(a,b){return[a[0]|b[0],(a[1]|b[1])>>>0]}function A(a,b){return[a[0]&b[0],(a[1]&b[1])>>>0]}function B(a){return a[0]*4294967296+a[1]}function C(a){if(isNaN(a)||!isFinite(a))return j;if(a<=-9223372036854776e3)return g;if(a+1>=9223372036854776e3)return h;if(a<0)return n(C(-a));var b=a/4294967296|0;a=a%4294967296|0;return[b,a>>>0]}function D(a){var b=a[0],c=b>>21;if(c===0)return!0;else if(c===-1)return!(a[1]===0&&b===-2097152);else return!1}function E(a){if(D(a))return String(B(a));if(a[0]<0)if(b("bs_caml").i64_eq(a,g))return"-9223372036854775808";else return"-"+E(n(a));var c=C(Math.floor(B(a)/10)),d=c[1],e=c[0];a=r(r(a,d<<3,d>>>29|e<<3),d<<1,d>>>31|e<<1);d=a[1];e=a[0];if(d===0&&e===0)return E(c)+"0";if(e<0){a=(d^-1)+1>>>0;e=Math.ceil(a/10);a=10*e-a;return E(r(c,e|0,0))+String(a|0)}e=Math.floor(d/10);a=d-10*e;return E(o(c,e|0,0))+String(a|0)}function F(a,c){while(!0){var d=c,e=a,f=e[0],h=0,l;if(d[0]!==0||d[1]!==0)l=2;else throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};if(l===2)if(f!==-2147483648)if(f!==0)h=1;else{if(e[1]===0)return j;h=1}else if(e[1]!==0)h=1;else{if(b("bs_caml").i64_eq(d,i)||b("bs_caml").i64_eq(d,k))return e;if(b("bs_caml").i64_eq(d,g))return i;l=v(e,1);l=t(F(l,d),1);var m;if(l[0]!==0)m=3;else{if(l[1]===0)if(d[0]<0)return i;else return n(i);m=3}if(m===3){m=s(e,x(d,l));return p(l,F(m,d))}}if(h===1){l=d[0];if(l!==-2147483648)m=2;else{if(d[1]===0)return j;m=2}if(m===2){if(f<0){if(l>=0)return n(F(n(e),d));c=n(d);a=n(e);continue}if(l<0)return n(F(e,n(d)));h=j;m=e;while(b("bs_caml").i64_ge(m,d)){f=Math.floor(B(m)/B(d));l=1>f?1:f;e=Math.ceil(Math.log(l)/Math.LN2);f=e<=48?1:Math.pow(2,e-48);e=C(l);var o=x(e,d);while(o[0]<0||b("bs_caml").i64_gt(o,m))l=l-f,e=C(l),o=x(e,d);w(e)&&(e=i);h=p(h,e);m=s(m,o)}return h}}}}function G(a,b){return s(a,x(F(a,b),b))}function H(a,b){var c=F(a,b);return[c,s(a,x(c,b))]}function I(a,b){var c=b[0],d=a[0];d=d<c?-1:d===c?0:1;if(d!==0)return d;c=b[1];d=a[1];if(d<c)return-1;else if(d===c)return 0;else return 1}function J(a){return[a<0?-1:0,a>>>0]}function K(a){return a[1]|0}function L(a){var b=a[1];a=a[0];var c=function(a){return(a>>>0).toString(16)};if(a===0&&b===0)return"0";if(b===0)return c(a)+"00000000";if(a===0)return c(b);b=c(b);var d=8-b.length|0;if(d<=0)return c(a)+b;else return c(a)+("0".repeat(d)+b)}function M(a){return[2147483647&a[0],a[1]]}function N(a){return function(a,b){return new Float64Array(new Int32Array([a,b]).buffer)[0]}(a[1],a[0])}function O(a){a=function(a){return new Int32Array(new Float64Array([a]).buffer)}(a);return[a[1],a[0]>>>0]}f.mk=a;f.succ=c;f.min_int=g;f.max_int=h;f.one=i;f.zero=j;f.neg_one=k;f.of_int32=J;f.to_int32=K;f.add=p;f.neg=n;f.sub=s;f.lsl_=t;f.lsr_=u;f.asr_=v;f.is_zero=w;f.mul=x;f.xor=y;f.or_=z;f.and_=A;f.equal_null=d;f.equal_undefined=e;f.equal_nullable=q;f.to_float=B;f.of_float=C;f.div=F;f.mod_=G;f.compare=I;f.float_of_bits=N;f.bits_of_float=O;f.div_mod=H;f.to_hex=L;f.discard_sign=M;f.to_string=E}),null);
__d("bs_caml_format",["bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a>=65)if(a>=97)if(a>=123)return-1;else return a-87|0;else if(a>=91)return-1;else return a-55|0;else if(a>57||a<48)return-1;else return a-48|0}function h(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function i(a){var b=1,c=2,d=0,e=a.charCodeAt(d);switch(e){case 43:d=d+1|0;break;case 44:break;case 45:b=-1;d=d+1|0;break;default:}if(a[d]==="0"){e=a.charCodeAt(d+1|0);if(e>=89)if(e>=111){if(e<121)switch(e){case 111:c=0;d=d+2|0;break;case 117:d=d+2|0;break;case 112:case 113:case 114:case 115:case 116:case 118:case 119:break;case 120:c=1;d=d+2|0;break}}else e===98&&(c=3,d=d+2|0);else if(e!==66){if(e>=79)switch(e){case 79:c=0;d=d+2|0;break;case 85:d=d+2|0;break;case 80:case 81:case 82:case 83:case 84:case 86:case 87:break;case 88:c=1;d=d+2|0;break}}else c=3,d=d+2|0}return[d,b,c]}function a(a){var b=i(a),c=b[0],d=h(b[2]),e=4294967295,f=a.length,j=c<f?a.charCodeAt(c):0;j=g(j);if(j<0||j>=d)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};var k=function(b,c){while(!0){var h=c,i=b;if(h===f)return i;var j=a.charCodeAt(h);if(j===95){c=h+1|0;continue}j=g(j);if(j<0||j>=d)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};i=d*i+j;if(i>e)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};c=h+1|0;b=i;continue}};b=b[1]*k(j,c+1|0);k=b|0;if(d===10&&b!==k)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};return k}function c(a){var c=i(a),d=c[2],e=c[0],f=b("bs_caml_int64").of_int32(h(d));c=b("bs_caml_int64").of_int32(c[1]);var j;switch(d){case 0:j=[536870911,4294967295];break;case 1:j=[268435455,4294967295];break;case 2:j=[429496729,2576980377];break;case 3:j=b("bs_caml_int64").max_int;break}var k=a.length;d=e<k?a.charCodeAt(e):0;d=b("bs_caml_int64").of_int32(g(d));if(b("bs_caml").i64_lt(d,b("bs_caml_int64").zero)||b("bs_caml").i64_ge(d,f))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};var l=function(c,d){while(!0){var e=d,h=c;if(e===k)return h;var i=a.charCodeAt(e);if(i===95){d=e+1|0;continue}i=b("bs_caml_int64").of_int32(g(i));if(b("bs_caml").i64_lt(i,b("bs_caml_int64").zero)||b("bs_caml").i64_ge(i,f)||b("bs_caml").i64_gt(h,j))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};h=b("bs_caml_int64").add(b("bs_caml_int64").mul(f,h),i);d=e+1|0;c=h;continue}};c=b("bs_caml_int64").mul(c,l(d,e+1|0));l=b("bs_caml_int64").or_(c,b("bs_caml_int64").zero);if(b("bs_caml").i64_eq(f,[0,10])&&b("bs_caml").i64_neq(c,l))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};return l}function j(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10}}function k(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function l(a){var b=a.length;if(b>31)throw{RE_EXN_ID:"Invalid_argument",_1:"format_int: format too long",Error:new Error()};var c={justify:"+",signstyle:"-",filter:" ",alternate:!1,base:2,signedconv:!1,width:0,uppercase:!1,sign:1,prec:-1,conv:"f"},d=0;while(!0){var e=d;if(e>=b)return c;var f=a.charCodeAt(e),g=0;if(f>=69)if(f>=88)if(f>=121)g=1;else switch(f){case 88:c.base=1;c.uppercase=!0;d=e+1|0;continue;case 101:case 102:case 103:g=5;break;case 100:case 105:g=4;break;case 111:c.base=0;d=e+1|0;continue;case 117:c.base=2;d=e+1|0;continue;case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 104:case 106:case 107:case 108:case 109:case 110:case 112:case 113:case 114:case 115:case 116:case 118:case 119:g=1;break;case 120:c.base=1;d=e+1|0;continue}else if(f>=72)g=1;else{c.signedconv=!0;c.uppercase=!0;c.conv=String.fromCharCode(k(f));d=e+1|0;continue}else switch(f){case 35:c.alternate=!0;d=e+1|0;continue;case 32:case 43:g=2;break;case 45:c.justify="-";d=e+1|0;continue;case 46:c.prec=0;var h=e+1|0;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(h)())c.prec=(Math.imul(c.prec,10)+a.charCodeAt(h)|0)-48|0,h=h+1|0;d=h;continue;case 33:case 34:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 47:g=1;break;case 48:c.filter="0";d=e+1|0;continue;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:g=3;break;default:g=1}switch(g){case 1:d=e+1|0;continue;case 2:c.signstyle=String.fromCharCode(f);d=e+1|0;continue;case 3:c.width=0;h=e;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(h)())c.width=(Math.imul(c.width,10)+a.charCodeAt(h)|0)-48|0,h=h+1|0;d=h;continue;case 4:c.signedconv=!0;c.base=2;d=e+1|0;continue;case 5:c.signedconv=!0;c.conv=String.fromCharCode(f);d=e+1|0;continue}}}function m(a,b){var c=a.justify,d=a.signstyle,e=a.filter,f=a.alternate,g=a.base,h=a.signedconv,i=a.width,j=a.uppercase;a=a.sign;var k=b.length;h&&(a<0||d!=="-")&&(k=k+1|0);f&&(g===0?k=k+1|0:g===1&&(k=k+2|0));var l="";if(c==="+"&&e===" ")for(var m=k;m<i;++m)l=l+e;h&&(a<0?l=l+"-":d!=="-"&&(l=l+d));f&&g===0&&(l=l+"0");f&&g===1&&(l=l+"0x");if(c==="+"&&e==="0")for(m=k;m<i;++m)l=l+e;l=j?l+b.toUpperCase():l+b;if(c==="-")for(h=k;h<i;++h)l=l+" ";return l}function d(a,b){if(a==="%d")return String(b);a=l(a);b=b<0?a.signedconv?(a.sign=-1,-b>>>0):b>>>0:b;b=b.toString(j(a.base));if(a.prec>=0){a.filter=" ";var c=a.prec-b.length|0;c>0&&(b="0".repeat(c)+b)}return m(a,b)}function n(a){if(!b("bs_caml").i64_lt(a,b("bs_caml_int64").zero))return b("bs_caml_int64").to_string(a);var c=[0,10];a=b("bs_caml_int64").discard_sign(a);a=b("bs_caml_int64").div_mod(a,c);c=b("bs_caml_int64").div_mod(b("bs_caml_int64").add([0,8],a[1]),c);a=b("bs_caml_int64").add(b("bs_caml_int64").add([214748364,3435973836],a[0]),c[0]);return b("bs_caml_int64").to_string(a)+"0123456789"[b("bs_caml_int64").to_int32(c[1])]}function o(a){var c="",d=[0,8],e="01234567";if(b("bs_caml").i64_lt(a,b("bs_caml_int64").zero)){var f,g=(f=b("bs_caml_int64")).discard_sign(a);g=f.div_mod(g,d);var h=f.add([268435456,0],g[0]);g=g[1];c=e[f.to_int32(g)]+c;while(b("bs_caml").i64_neq(h,b("bs_caml_int64").zero)){f=b("bs_caml_int64").div_mod(h,d);h=f[0];g=f[1];c=e[b("bs_caml_int64").to_int32(g)]+c}}else{f=b("bs_caml_int64").div_mod(a,d);g=f[0];h=f[1];c=e[b("bs_caml_int64").to_int32(h)]+c;while(b("bs_caml").i64_neq(g,b("bs_caml_int64").zero)){a=b("bs_caml_int64").div_mod(g,d);g=a[0];h=a[1];c=e[b("bs_caml_int64").to_int32(h)]+c}}return c}function e(a,c){if(a==="%d")return b("bs_caml_int64").to_string(c);a=l(a);c=a.signedconv&&b("bs_caml").i64_lt(c,b("bs_caml_int64").zero)?(a.sign=-1,b("bs_caml_int64").neg(c)):c;var d=a.base,e;switch(d){case 0:e=o(c);break;case 1:e=b("bs_caml_int64").to_hex(c);break;case 2:e=n(c);break}if(a.prec>=0){a.filter=" ";d=a.prec-e.length|0;c=d>0?"0".repeat(d)+e:e}else c=e;return m(a,c)}function p(a,b){a=l(a);var c=a.prec<0?6:a.prec,d=b<0?(a.sign=-1,-b):b;b="";if(isNaN(d))b="nan",a.filter=" ";else if(isFinite(d)){var e=a.conv;switch(e){case"e":b=d.toExponential(c);e=b.length;b[e-3|0]==="e"&&(b=b.slice(0,e-1|0)+("0"+b.slice(e-1|0)));break;case"f":b=d.toFixed(c);break;case"g":var f=c!==0?c:1;b=d.toExponential(f-1|0);e=b.indexOf("e");c=Number(b.slice(e+1|0))|0;if(c<-4||d>=1e21||d.toFixed().length>f){var g=e-1|0;while(b[g]==="0")g=g-1|0;b[g]==="."&&(g=g-1|0);b=b.slice(0,g+1|0)+b.slice(e);g=b.length;b[g-3|0]==="e"&&(b=b.slice(0,g-1|0)+("0"+b.slice(g-1|0)))}else{var h=f;if(c<0)h=h-(c+1|0)|0,b=d.toFixed(h);else while(function(){b=d.toFixed(h);return b.length>(f+1|0)}())h=h-1|0;if(h!==0){e=b.length-1|0;while(b[e]==="0")e=e-1|0;b[e]==="."&&(e=e-1|0);b=b.slice(0,e+1|0)}}break;default:}}else b="inf",a.filter=" ";return m(a,b)}var q=function(a,b,c){if(!isFinite(a))return isNaN(a)?"nan":a>0?"infinity":"-infinity";var d=a==0&&1/a==-Infinity?1:a>=0?0:1;d&&(a=-a);var e=0;if(!(a==0))if(a<1)while(a<1&&e>-1022)a*=2,e--;else while(a>=2)a/=2,e++;var f=e<0?"":"+",g="";if(d)g="-";else switch(c){case 43:g="+";break;case 32:g=" ";break;default:break}if(b>=0&&b<13){d=Math.pow(2,b*4);a=Math.round(a*d)/d}c=a.toString(16);if(b>=0){d=c.indexOf(".");if(d<0)c+="."+"0".repeat(b);else{a=d+1+b;c.length<a?c+="0".repeat(a-c.length):c=c.substr(0,a)}}return g+"0x"+c+"p"+f+e.toString(10)},r=function(a,b){var c=+a;if(a.length>0&&c===c)return c;a=a.replace(/_/g,"");c=+a;if(a.length>0&&c===c||/^[+-]?nan$/i.test(a))return c;var d=/^ *([+-]?)0x([0-9a-f]+)\.?([0-9a-f]*)p([+-]?[0-9]+)/i.exec(a);if(d){var e=d[3].replace(/0+$/,""),f=parseInt(d[1]+d[2]+e,16);d=(d[4]|0)-4*e.length;c=f*Math.pow(2,d);return c}if(/^\+?inf(inity)?$/i.test(a))return Infinity;if(/^-inf(inity)?$/i.test(a))return-Infinity;throw b};function s(a){return r(a,{RE_EXN_ID:"Failure",_1:"float_of_string"})}var t=d,u=d,v=a,w=a;f.caml_format_float=p;f.caml_hexstring_of_float=q;f.caml_format_int=d;f.caml_nativeint_format=t;f.caml_int32_format=u;f.caml_float_of_string=s;f.caml_int64_format=e;f.caml_int_of_string=a;f.caml_int32_of_string=v;f.caml_int64_of_string=c;f.caml_nativeint_of_string=w}),null);
__d("bs_caml_exceptions",[],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){g.contents=g.contents+1|0;return a+("/"+g.contents)}function b(a){if(a==null)return!1;else return typeof a.RE_EXN_ID==="string"}function c(a){return a.RE_EXN_ID}f.id=g;f.create=a;f.caml_is_extension=b;f.caml_exn_slot_name=c}),null);
__d("bs_caml_option",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.BS_PRIVATE_NESTED_SOME_NONE!==void 0}function g(a){if(a===void 0)return{BS_PRIVATE_NESTED_SOME_NONE:0};else if(a!==null&&a.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return{BS_PRIVATE_NESTED_SOME_NONE:a.BS_PRIVATE_NESTED_SOME_NONE+1|0};else return a}function b(a){if(a==null)return;else return g(a)}function c(a){if(a===void 0)return;else return g(a)}function d(a){if(a===null)return;else return g(a)}function h(a){if(!(a!==null&&a.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return a;a=a.BS_PRIVATE_NESTED_SOME_NONE;if(a===0)return;else return{BS_PRIVATE_NESTED_SOME_NONE:a-1|0}}function e(a){if(a===void 0)return;else return h(a)}function i(a){if(a!==void 0)return a.VAL;else return a}f.nullable_to_opt=b;f.undefined_to_opt=c;f.null_to_opt=d;f.valFromOption=h;f.some=g;f.isNested=a;f.option_get=e;f.option_unwrap=i}),null);
__d("bs_caml_js_exceptions",["bs_caml_exceptions","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("Caml_js_exceptions.Error");function a(a){if(b("bs_caml_exceptions").caml_is_extension(a))return a;else return{RE_EXN_ID:g,_1:a}}function c(a){if(a.RE_EXN_ID===g)return b("bs_caml_option").some(a._1)}f.$$Error=g;f.internalToOCamlException=a;f.caml_as_js_exn=c}),null);
__d("bs_int64",["bs_caml","bs_caml_format","bs_caml_int64","bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return b("bs_caml_int64").sub(a,b("bs_caml_int64").one)}function c(a){if(b("bs_caml").i64_ge(a,b("bs_caml_int64").zero))return a;else return b("bs_caml_int64").neg(a)}function d(a){return b("bs_caml_int64").xor(a,b("bs_caml_int64").neg_one)}function e(a){try{return b("bs_caml_format").caml_int64_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}var h=(g=b("bs_caml_int64")).compare;function i(a,c){return b("bs_caml_int64").compare(a,c)===0}var j=g.zero,k=g.one,l=g.neg_one,m=g.succ,n=g.max_int,o=g.min_int;g=g.to_string;f.zero=j;f.one=k;f.minus_one=l;f.succ=m;f.pred=a;f.abs=c;f.max_int=n;f.min_int=o;f.lognot=d;f.of_string_opt=e;f.to_string=g;f.compare=h;f.equal=i}),null);
__d("I64",["bs_caml","bs_caml_format","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])?a:void 0}function b(a){return a}g.mk=c("bs_caml_int64").mk;g.succ=c("bs_caml_int64").succ;g.min_int=c("bs_caml_int64").min_int;g.max_int=c("bs_caml_int64").max_int;g.one=c("bs_caml_int64").one;g.zero=c("bs_caml_int64").zero;g.neg_one=c("bs_caml_int64").neg_one;g.of_int32=c("bs_caml_int64").of_int32;g.to_int32=c("bs_caml_int64").to_int32;g.add=c("bs_caml_int64").add;g.neg=c("bs_caml_int64").neg;g.sub=c("bs_caml_int64").sub;g.lsl_=c("bs_caml_int64").lsl_;g.lsr_=c("bs_caml_int64").lsr_;g.asr_=c("bs_caml_int64").asr_;g.is_zero=c("bs_caml_int64").is_zero;g.mul=c("bs_caml_int64").mul;g.xor=c("bs_caml_int64").xor;g.or_=c("bs_caml_int64").or_;g.and_=c("bs_caml_int64").and_;g.equal_null=c("bs_caml_int64").equal_null;g.equal_undefined=c("bs_caml_int64").equal_undefined;g.equal_nullable=c("bs_caml_int64").equal_nullable;g.to_float=c("bs_caml_int64").to_float;g.of_float=c("bs_caml_int64").of_float;g.div=c("bs_caml_int64").div;g.mod_=c("bs_caml_int64").mod_;g.compare=c("bs_caml_int64").compare;g.float_of_bits=c("bs_caml_int64").float_of_bits;g.bits_of_float=c("bs_caml_int64").bits_of_float;g.div_mod=c("bs_caml_int64").div_mod;g.to_hex=c("bs_caml_int64").to_hex;g.discard_sign=c("bs_caml_int64").discard_sign;g.to_string=c("bs_caml_int64").to_string;g.minus_one=c("bs_int64").minus_one;g.pred=c("bs_int64").pred;g.abs=c("bs_int64").abs;g.lognot=c("bs_int64").lognot;g.of_string_opt=c("bs_int64").of_string_opt;g.equal=c("bs_int64").equal;g.of_string=c("bs_caml_format").caml_int64_of_string;g.gt=c("bs_caml").i64_gt;g.ge=c("bs_caml").i64_ge;g.lt=c("bs_caml").i64_lt;g.le=c("bs_caml").i64_le;g.max=c("bs_caml").i64_max;g.min=c("bs_caml").i64_min;g.cast=a;g.asI64=b}),98);
__d("LSArrayGetObjectAt",["I64","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f){return b("Promise").resolve([e[d("I64").to_int32(f)],e])}g.call=a}),98);
__d("IGDSEyeOffPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M2.936 8.014A12.792 12.792 0 0 0 .559 11.82a1 1 0 0 0 1.881.677 10.987 10.987 0 0 1 1.988-3.15 1 1 0 1 0-1.492-1.332Zm20.271 13.779-5.916-5.916a4.969 4.969 0 0 0 .133-.582.983.983 0 0 0-1.107-1.108 3.315 3.315 0 0 1-.678.038l-3.366-3.366a3.3 3.3 0 0 1 .036-.676.99.99 0 0 0-1.134-1.107 4.623 4.623 0 0 0-.553.132L8.13 6.717a10.395 10.395 0 0 1 13.429 5.779 1 1 0 0 0 1.881-.677C23.413 11.74 20.542 4 12 4a12.104 12.104 0 0 0-5.367 1.22L2.207.792A1 1 0 0 0 .793 2.207l21 21a1 1 0 0 0 1.414-1.414ZM11.382 14.9l-3.044-3.03a1.005 1.005 0 0 0-1.636.326 5.495 5.495 0 0 0 1.31 6.074 5.495 5.495 0 0 0 6.075 1.31 1.005 1.005 0 0 0 .325-1.636Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSEyeOffOutlineIcon",["IGDSEyeOffPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSEyeOffPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSVideoChatPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("rect",{fill:"none",height:"18",rx:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"16.999",x:"1",y:"3"}),h.jsx("path",{d:"m17.999 9.146 2.495-2.256A1.5 1.5 0 0 1 23 8.003v7.994a1.5 1.5 0 0 1-2.506 1.113L18 14.854",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisAPICommentOnPost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){b={comment_text:b,replied_to_comment_id:c};return d("PolarisInstapi").apiPost("/api/v1/web/comments/{media_id}/add/",{body:b,path:{media_id:a}}).then(function(a){return a.data})}g.commentOnPost=a}),98);
__d("PolarisPendingCommentActions",["fbt","PolarisAPICommentOnPost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisLogger","PolarisPendingCommentState","PolarisSentryFeedbackActions","nullthrows","polarisPostSelectors","polarisUserSelectors"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c,d,e,f){return{postId:a,repliedToCommentAuthorId:d,repliedToCommentId:c,repliedToCommentParentId:f,repliedToUsername:e,text:b,type:"CHANGE_PENDING_COMMENT"}}function b(a){return{postId:a,type:"CLEAR_PENDING_COMMENT"}}function i(a,b,e,f){return function(g,j){var k;g({postId:a,type:"COMMIT_PENDING_COMMENT_REQUESTED"});d("PolarisLogger").logAction("comment",{source:e});var l=j();k=(k=l.pendingComments[a])!=null?k:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT;var m=k.repliedToCommentAuthorId,n=k.repliedToCommentId,o=k.text;k=l.posts.byId.get(a,{hasRankedComments:!1});var p=k.hasRankedComments,q=Boolean((k=d("polarisUserSelectors").getViewer(l))==null?void 0:k.isVerified);return d("PolarisAPICommentOnPost").commentOnPost(a,o,n).then(function(h){var i=c("nullthrows")(d("polarisUserSelectors").getViewer(j())).id;h=h.id;g({commentAuthorId:i,commentAuthorIsVerified:q,commentId:h,commentText:o,hasRankedComments:p,postedAt:Math.round(Date.now()/1e3),postId:a,repliedToCommentId:n,type:"COMMIT_PENDING_COMMENT_SUCCEEDED"});d("PolarisLogger").logAction("commentSuccess",{source:e});i={commentAuthorId:i,commentId:h,containerModule:e,mediaAuthorId:b,mediaId:a,mediaType:d("polarisPostSelectors").getMediaTypeById(l,a),parentCommentAuthorId:m,parentCommentId:n};f!=null?d("PolarisAdsEngagementLogger").logAdComment(i,f):d("PolarisEngagementLogger").logOrganicComment(i)},function(c){var f;f=((f=c.responseObject)==null?void 0:f.spam)||!1;if(f){var j,k,l;j=(j=c.responseObject)==null?void 0:j.feedback_title;k=(k=c.responseObject)==null?void 0:k.feedback_message;l=(l=c.responseObject)==null?void 0:l.feedback_url;c=(c=c.responseObject)==null?void 0:c.feedback_action;g(d("PolarisSentryFeedbackActions").showSentryFeedback({action:c,message:k,source:e,sourceOfAction:"commit_pending_comment",title:j,url:l}))}g({postId:a,toast:f?void 0:{actionHandler:function(){return g(i(a,b,e))},actionText:h._("Tentar novamente"),text:h._("N\u00e3o foi poss\u00edvel publicar o coment\u00e1rio.")},type:"COMMIT_PENDING_COMMENT_FAILED"});d("PolarisLogger").logAction("commentFailure",{source:e})})}}g.changePendingComment=a;g.clearPendingComment=b;g.commitPendingComment=i}),98);/*FB_PKG_DELIM*/
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1487]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[1]?d[2]=!0:d[2]=!1,d[2]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[12]=c.createArray(),f!==f?d[13]=(d[12].push(f),d[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[12],c.i64.cast([0,3]))):c.resolve()},function(e){return c.db.table(172).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,h){var i=e.done;e=e.value;return i?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1488]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()},function(a){return d[3]=c.i64.cast([0,0])}]):(h=e.item,c.seq([function(e){return d[14]=h.backupId,d[13]=h.authorityLevel,c.i64.eq(d[13],c.i64.cast([0,20]))?c.resolve(d[12]=c.i64.cast([0,1])):c.seq([function(e){return c.i64.eq(d[13],c.i64.cast([0,80]))?c.seq([function(e){return c.i64.eq(d[14],f)?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1492]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),f!==f?d[20]=(d[19].push(f),d[19]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()},function(a){return d[16]=c.i64.cast([0,2])}]):c.seq([function(e){return c.i64.eq(d[14],c.i64.cast([-1,4294967295]))?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()},function(a){return d[17]=c.i64.cast([-1,4294967295])}]):c.seq([function(e){return c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.backupId,d[14])&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1490]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[18]=c.i64.cast([0,4])}]):(e.item,c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1491]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[18]=c.i64.cast([0,3])}]))})},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}]):c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),f!==f?d[19]=(d[18].push(f),d[18]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()},function(a){return d[15]=c.i64.cast([-1,4294967295])}])},function(a){return d[12]=d[15]}])},function(a){return d[3]=d[12]}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",d[6],d[7],d[6],d[8],d[6],d[10]].join("")),d[9]=",",d[11]=c.createArray(),f!==f?d[12]=(d[11].push(f),d[11]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[d[7],d[9],d[8],d[9],d[10]].join(""),d[11],c.i64.cast([0,4]))},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMarkFolderSeen",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[0]=f.lastActivityTimestampMs,c.i64.gt(d[0],c.i64.cast([0,0]))?c.db.table(35).fetch([[[a[0]]]]).next().then(function(f,h){var e=f.done;f=f.value;return e?c.seq([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[0]})},function(e){return d[2]=new c.Map(),d[2].set("parent_thread_key",a[0]),d[2].set("last_seen_time_ms",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[3])}]):(h=f.item,c.i64.lt(h.lastSeenRequestTimestampMs,d[0])?c.seq([function(b){return c.fe(c.db.table(35).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSeenRequestTimestampMs:d[0]})})},function(e){return d[2]=new c.Map(),d[2].set("parent_thread_key",a[0]),d[2].set("last_seen_time_ms",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[3])}]):c.resolve())}):c.resolve())})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDChannelsGating",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("1003")===!0}function b(){return c("qex")._("411")===!0}g.isChannelsTabInProfessionalInboxEnabled=a;g.isChannelsTabAlwaysEnabledInProfessionalInbox=b}),98);
__d("IGDProfessionalIGFolderContext.react",["I64","IgTags_InboxFolder","LSIntEnum","PolarisReactRedux","emptyFunction","polarisUserSelectors","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.useCallback,l=i.useContext,m=i.useState,n=d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY),o=j(n),p=j(c("emptyFunction"));function a(a){a=a.children;var b=m(n),c=b[0],e=b[1];b=k(function(a){e(function(b){return d("I64").equal(b,a)?b:a})},[]);return h.jsx(o.Provider,{value:c,children:h.jsx(p.Provider,{value:b,children:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a,b=d("PolarisReactRedux").useSelector(d("polarisUserSelectors").getViewer);b=(b=b==null?void 0:b.isProfessionalAccount)!=null?b:!1;a=(a=c("qex")._("803"))!=null?a:!1;return b&&a}function e(){return l(o)}function q(){return l(p)}g.IGDProfessionalFolderContextProvider=a;g.useIsProfessionalIGD=b;g.useIGDProfessionalFolder=e;g.useIGDProfessionalFolderSetter=q}),98);
__d("useHasIGBroadcastChannels",["I64","IGDChannelsGating","IGDProfessionalIGFolderContext.react","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=!!d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(2)).filter(function(a){return a.threadSubtype!=null&&d("I64").equal(a.threadSubtype,d("LSIntEnum").ofNumber(c("MessagingThreadSubtype").IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT))}).take(1)},[a],f.id+":26"),e=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD();if(!e)return!1;e=d("IGDChannelsGating").isChannelsTabInProfessionalInboxEnabled();return e&&b}g["default"]=a}),98);
__d("useHasIGBroadcastChannelTab",["IGDChannelsGating","IGDProfessionalIGFolderContext.react","useHasIGBroadcastChannels"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),b=c("useHasIGBroadcastChannels")(),e=d("IGDChannelsGating").isChannelsTabAlwaysEnabledInProfessionalInbox();return b||a&&e}g["default"]=a}),98);
__d("MWEARKeychainV3",["MAWCryptoConsts","MAWEncyptionIndexedDbV2","MAWKeychainCrypto","Promise","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","err","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},i="browserEncryptionMetaV2";function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield r(s("readonly")));if(q(a)){var c=(yield n());yield new(b("Promise"))(function(b,d){var e=s("readwrite"),f=e.objectStore(i).getAll();f.onerror=function(a){return d(a)};f.onsuccess=function(){var g;a=f.result;var h=(g=(g=a[a.length-1])==null?void 0:g.version)!=null?g:0;if(q(a)){var j=babelHelpers["extends"]({},c,{version:h+1});g=e.objectStore(i).put(j);g.onerror=function(a){return d(a)};g.onsuccess=function(){a.push(babelHelpers["extends"]({},j,{id:h+1})),b()}}}})}var e=(yield b("Promise").all(a.map(l)));for(e of e)h.databaseEncryptionKeys.set(e.version,e.key);h.latestVersion=Math.max.apply(Math,a.map(function(a){return a.version}));return d("WAResultOrError").makeResult(k())});return j.apply(this,arguments)}function k(){return h.latestVersion}function e(a){a===void 0&&(a=k());var b=h.databaseEncryptionKeys.get(a);if(b==null)throw c("err")("EAR Key "+a+" was null. Latest version: "+k());return{key:b,version:a}}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield p());c=(yield b("Promise").all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a.key),d("MAWKeychainCrypto").decryptDataToArrayBuffer(c,a.seed)]));var e=c[0];c=c[1];e=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(e,c));return{key:e,version:a.version}});return m.apply(this,arguments)}function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield p()),b=d("MAWKeychainCrypto").genBrowserEncryptionKeyString(),c=d("MAWKeychainCrypto").genDatabaseEncryptionSeed();a=(yield d("MAWKeychainCrypto").encryptDataToStringBuffer(a,c));c=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{expiration:c,key:b,seed:a}});return o.apply(this,arguments)}var p=c("memoizeOneWithArgs")(function(){return d("MAWKeychainCrypto").genAccountKey()});function q(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function r(a){return t(a.objectStore(i).getAll()).then(function(a){return a.sort(function(a,b){return a.version-b.version})})}function s(a){var b=d("MAWEncyptionIndexedDbV2").getEncryptionDB();return b.transaction(i,a,{durability:"relaxed"})}function t(a){return new(b("Promise"))(function(b,c){a.onsuccess=function(){return b(a.result)},a.onerror=function(a){return c(a)}})}g.init=a;g.getLatestVersion=k;g.getDbEncryptionKey=e}),98);
__d("IGDViewerForThread.bs",["MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey,e)},[b,a.threadKey,e],f.id+":25");if(g==null)return!1;g=g.isAdmin;if(g!=null)return g;else return!1}b=a;g.useIsViewerAdmin=b}),98);
__d("MWEncryptedBackupsProcessBackupIds.bs",["I64","LSFactory","LSIntEnum","LSProcessBackupIds","Promise","ReQL.bs","ReQLSubscription.bs","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(c("gkx")("7958"))return a.runInTransaction(function(a){return c("LSProcessBackupIds")(void 0,c("LSFactory")(a))},"readwrite").then(function(a){return d("I64").to_int32(a[0])});else return b("Promise").resolve(d("I64").to_int32(d("LSIntEnum").ofNumber(0)))}function a(a,b){var e=d("ReQL.bs").fromTableAscending(a.table("encrypted_backups"));return d("ReQLSubscription.bs").subscribe(a,e,function(d){if(d!=null){c("promiseDone")(h(a),b);return}})}e=h;g.subscribeToEncryptedBackupsRow=a;g.processBackupIdsStoredProcedure=e}),98);
__d("MWPMarkSeenDeferred.bs",["CometDebounce","LSFactory","LSMarkFolderSeen","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a!=null){c("promiseDone")(b.runInTransaction(function(b){return c("LSMarkFolderSeen")(a,c("LSFactory")(b))},"readwrite"));return}}b=c("CometDebounce")(a,{wait:500,leading:!0});g.markSeen=b}),98);
__d("MWLSDefaultThreadSource",["LSMessagingSource","LSThreadAttributionTypeUtil.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("LSMessagingSource").useHook();return h(function(b){return d("LSThreadAttributionTypeUtil.bs").getSource(b,a)},[a])}g.useHook=a}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend.bs",["I64","MessageSendsClientFalcoEvent","ReQL.bs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r){c("promiseDone")(d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),function(a){return!d("I64").equal(a.contactId,h)})).then(function(a){var h=a.map(function(a){return d("I64").to_string(a.contactId)}),q=n!=null?n:d("I64").to_string(b),r=o!=null?d("I64").to_string(d("I64").of_float(o)):void 0;c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:p,backend:m,event_type:l,feature_tags:void 0,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:void 0,igd_verb:void 0,initiating_app_id:void 0,is_reply:k,message_attachment_fbids:g.map(String),message_id:void 0,message_type:j,messaging_thread_fbid:q,messaging_thread_type:d("I64").to_int32(e),msg_ttl:r,nav_chain:void 0,nonce:void 0,offline_threading_id:f,recipient_fbids:h,send_attribution:d("I64").to_int32(i),send_attribution_raw:void 0,view_mode:void 0}})}))}g.log=a}),98);
__d("MessengerWebUXLogger",["cr:160"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:160")}),98);
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs",["Int64Hooks","ReQL.bs","ReQLSubscription.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts")))},[b,a.threadKey]),"xqz7ql3u")}b=a;g.useValue=b}),98);
__d("first",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}return null}f["default"]=a}),66);
__d("TrustedTypesWebWorkerScriptURLPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:function(a){return a}};b=c("TrustedTypes").createPolicy("web-worker-url",a);d=b;g["default"]=d}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,n="@msgr",ba="msgr",o="@interop",ca="interop",da="@call",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",ga="@call",w="@newsletter",x=/^([1-9][0-9]{0,19})@newsletter$/,y=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,z=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,A="@lid",ha="lid",B=/^([1-9][0-9]{0,14})@lid$/,C=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ia="@broadcast",D=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,E=/^([0-9a-fA-F]{18,32})@call$/,F="@hosted",G="hosted",H=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[1-9][0-9]{0,1})))@hosted$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+A}function I(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(w)?a:""+a+w}function f(a){return a.endsWith(F)?a:""+a+F}function la(){return l}function J(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(A))return a.slice(0,-A.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function ma(a,b){return Y(J(a)+":"+b+u)}function na(a,b){return Z(J(a)+":"+b+n)}function K(a,b){return nb(Q(a)+":"+b+A)}function oa(a,b){return X(J(a)+":"+b+ib(a))}function pa(a){return""+a+ia}function L(a){return a.split("@")[0]}function M(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function N(a){a=M(a);return a.deviceID}function qa(a,b){if(a===i||a===j)return b;else return L(a)}function ra(a){return a===i||a===j?null:a}function sa(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function O(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function ta(a){if(a.endsWith(u))return O(a);else if(a.endsWith(A))return Q(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function P(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(A)?a:null}function ua(a){return a.endsWith(u)?a:null}function va(a){return a===k?null:$(a)}function wa(a){return a===k?null:$(a)}function xa(a){return a===k?k:null}function Q(a){if(!a.endsWith(A))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-A.length)}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===G&&(a=v);return ob(b+"@"+a)}function ya(a){return R(a)}function za(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else{a.jidType;return a.broadcastJid}}function Aa(a){return Y(J(a)+":"+h+u)}function Ba(a){return Z(J(a)+":"+h+n)}function Ca(a){return K(a,h)}function Da(a){return N(a)===h}function Ea(a){return sb(a)}function Fa(a){return a}function S(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Ga(a){a=S(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ha(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Ia(a){if(a===k)return{jidType:"status",statusJid:k};else if(z.test(a))return{jidType:"phoneUser",userJid:pb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:qb(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:rb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:I(b)}}else if(y.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:mb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(D.test(a))return{jidType:"broadcast",broadcastJid:a};else if(E.test(a))return{jidType:"call",callJid:a};else if(B.test(a))return{jidType:"lidUser",userJid:a};else if(C.test(a))return{jidType:"lidDevice",deviceJid:a};else if(x.test(a))return{jidType:"newsletter",newsletterJid:a};else if(H.test(a))return{jidType:"hosted",hostedDeviceJid:a};else return{jidType:"unknown"}}function Ja(a){return a==="status@broadcast"?a:null}function Ka(a){if(z.test(a)||q.test(a)||s.test(a)||B.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return I(a)}else return null}function La(a){return D.test(a)?a:null}function Ma(a){if(y.test(a)||r.test(a)||p.test(a)||C.test(a)||H.test(a))return a;return z.test(a)?jb(a):null}function T(a){return m.test(a)?a:null}function Na(a){return Ja(a)||T(a)||La(a)?a:null}function Oa(a){return E.test(a)?a:null}function Pa(a){return a==="s.whatsapp.net"||a==="g.us"?a:null}function Qa(a){return Ka(a)||T(a)}function Ra(a){return x.test(a)?a:null}function Sa(a){return H.test(a)?a:null}function Ta(a){return P(a)==null?$(a):null}function Ua(a){a=S(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function Va(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function Wa(a){var b=Ia(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ha(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function Xa(a){return!a.includes("@")?a:a.replace(ka,Wa)}function U(a){if(a.endsWith(l))return $(a);else return null}function V(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(A))return b.lidUser(a);else if(U(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function Ya(a,b){if(a.endsWith(n))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function W(a,b){if(a.endsWith(u))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function Za(a,b){return V(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function $a(a,b){return a===k?b.status():W(a,{user:b.user,group:b.group})}function ab(a,b){return a===k?b.status():V(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function bb(a,b){return a===k?b.multicast(k):W(a,{user:b.user,group:b.multicast})}function cb(a){return a.endsWith(A)}function db(a){return a==="@me"}function eb(a){return a==="@system"}function fb(){return n}function gb(){return u}function hb(){return ea}function ib(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(A))return A;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function jb(a){return X(J(a)+":"+h+ib(a))}function kb(a){a=a.platform;var b=a==="msgr"?n:u,c=a==="msgr"?da:ga;function d(a){return""+a+b}function e(){return b}function f(){return c}return{toUserJid:d,getUserDomain:e,getGroupCallDomain:f}}function lb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function mb(a){return a}function nb(a){return a}function ob(a){return a}function pb(a){return a}function qb(a){return a}function rb(a){return a}function $(a){return a}function sb(a){return a}function tb(a){return a}function ub(a){return a}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ba;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=ca;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_NEWSLETTER_JID_DOMAIN=w;g.LID_DOMAIN=A;g.LID_SUFFIX=ha;g.HOSTED_DOMAIN=F;g.HOSTED_SUFFIX=G;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=I;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.getGroupDomain=la;g.userIdFromJid=J;g.toPhoneDeviceJid=ma;g.toMsgrDeviceJid=na;g.toLidDeviceJid=K;g.toDeviceJid=oa;g.toBroadcastJid=pa;g.extractUserId=L;g.extractDeviceIDParts=M;g.extractDeviceId=N;g.authorToUserId=qa;g.authorAsUserJid=ra;g.authorAsPhoneUserJid=sa;g.phoneNumberFromJid=O;g.lidOrPhoneFromUserJid=ta;g.interpretAsUserJid=P;g.interpretAsPhoneUserJid=ua;g.asChatJid=va;g.asPhoneChatJid=wa;g.asStatusJid=xa;g.lidFromLidUserJid=Q;g.extractUserJid=R;g.extractPhoneUserJid=ya;g.extractJidFromJidWithType=za;g.defaultPhoneDeviceJidForUser=Aa;g.defaultMsgrDeviceJidForUser=Ba;g.defaultLidDeviceJidForLidUserJid=Ca;g.isPrimaryDevice=Da;g.interpretAsDeviceId=Ea;g.interpretAsNumber=Fa;g.parseJidParts=S;g.fullFormDeviceJidString=Ga;g.extractFromJid=Ha;g.interpretAndValidateJid=Ia;g.validateStatusJid=Ja;g.validateUserJid=Ka;g.validateBroadcastJid=La;g.validateDeviceJid=Ma;g.validateGroupJid=T;g.validateMulticastJid=Na;g.validateCallJid=Oa;g.validateDomainJid=Pa;g.validateChatJid=Qa;g.validateNewsletterJid=Ra;g.validateHostedDeviceJid=Sa;g.asMulticastJid=Ta;g.stripAgentIdFromPhoneDeviceJid=Ua;g.groupIdFromJid=Va;g.sanitizeJidForLogging=Wa;g.maybeSanitizeLogLineText=Xa;g.interpretAsGroupJid=U;g.switchOnChatJidType=V;g.switchOnMsgrChatJidType=Ya;g.switchOnPhoneChatJidType=W;g.switchOnUserChatJidType=Za;g.switchOnPhoneJidType=$a;g.switchOnJidType=ab;g.switchOnMulticastJidType=bb;g.isLidUser=cb;g.isAuthorMe=db;g.isAuthorSystem=eb;g.getMsgrUserDomain=fb;g.getWhatsappUserDomain=gb;g.getServerDomain=hb;g.defaultDeviceJidForUser=jb;g.createJidUtils=kb;g.unsafeCoerceToChatJid=lb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=mb;g.unsafeCoerceToLidDeviceJid=nb;g.unsafeCoerceToUserJid=ob;g.unsafeCoerceToPhoneUserJid=pb;g.unsafeCoerceToInteropUserJid=qb;g.unsafeCoerceToMsgrUserJid=rb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=sb;g.unsafeCoerceToNewsletterJid=tb;g.unsafeCoerceToHostedDeviceJid=ub}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("BPlusTreeBase",["MetaConfig","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function* i(a){var b=(yield* a.readHeader());if(b==null||b.rootId==null||b.headId==null)return;var c=(yield* a.readExn(b.rootId));c=[{node:c,id:b.rootId}];while(c.length>0){b=c.shift();var d=b.id;b=b.node;if(!b.isLeaf)for(b of b.children){var e=(yield* a.read(b));e!=null&&c.push({node:e,id:b})}yield* a.remove(d)}yield* a.removeHeader()}function* j(a,b,c,d){var e=(yield* b.readExn(c)),f=[];e=e;c=c;var g=-1;while(!e.isLeaf)f.push([e,c,g]),g=k(a,e.keys,d,h.gt),g===-1&&(g=e.keys.length),c=e.children[g],e=(yield* b.readExn(c));return[e,c,f,g]}function k(a,b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function l(a,b,c){if(!b.length)return[0,0];var d=k(a,b,c,h.gte);if(d===-1)return[b.length,0];else if(a(b[d],c)===0)return[d,1];return[d,0]}function m(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];return[].concat(a.slice(0,b),e,a.slice(b+c))}function* n(a){var b=(yield* a.readHeader());if(b==null){var c=(yield* a.writeNew({isLeaf:!0,children:[],keys:[]}));b={rootId:c,tailId:c,headId:c};yield* a.writeHeader(b)}return b}function* o(a,b,d){var e=(yield* b.readHeader());if(e==null)throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");b=(yield* j(a,b,e.rootId,d));e=b[0];b=k(a,e.keys,d,h.gte);if(b===-1||a(e.keys[b],d)!==0)throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");return e.children[b]}function* p(a,b,c,d){var e=(yield* b.readHeader());if(e==null)return d;b=(yield* j(a,b,e.rootId,c));e=b[0];b=k(a,e.keys,c,h.gte);return b===-1||a(e.keys[b],c)!==0?d:e.children[b]}function* q(a,b,c){var d=(yield* b.readHeader());if(d==null)return!1;b=(yield* j(a,b,d.rootId,c));d=b[0];b=k(a,d.keys,c,h.gte);return b!==-1&&a(d.keys[b],c)===0}function* r(a,b,c,d,e){var f=(yield* n(b)),g={},h=(yield* j(a,b,f.rootId,d)),i=h[0],k=h[1];h=h[2];var o=l(a,i.keys,d),p=o[0];o=o[1];for(e=babelHelpers["extends"]({},i,{children:m(i.children,p,o,e),keys:o===1?i.keys:m(i.keys,p,o,d)}),i=k;e.keys.length>=c;e=o,i=d){p=h.pop()||[{keys:[],children:[i],isLeaf:!1}];o=p[0];d=p[1];k=Math.floor(e.keys.length/2);p=void 0;var q=void 0;e.isLeaf?(p={isLeaf:!0,children:e.children.slice(k),keys:e.keys.slice(k),nextId:e.nextId,prevId:i},q=e.nextId=(yield* b.writeNew(p)),p.nextId?yield* b.write(p.nextId,babelHelpers["extends"]({},yield* b.readExn(p.nextId),{prevId:q})):g.tailId=q):(p={isLeaf:!1,children:e.children.slice(k+1),keys:e.keys.slice(k+1)},q=(yield* b.writeNew(p)));p=l(a,o.keys,e.keys[k]);p=p[0];o=babelHelpers["extends"]({},o,{keys:m(o.keys,p,0,e.keys[k]),children:m(o.children,p+1,0,q)});yield* b.write(i,babelHelpers["extends"]({},e,{keys:e.keys.slice(0,k),children:e.children.slice(0,k+(e.isLeaf?0:1))}))}i==null?g.rootId=(yield* b.writeNew(e)):yield* b.write(i,e);Object.keys(g).length&&(yield* b.writeHeader(babelHelpers["extends"]({},f,g)))}function* s(a,b,d,e){var f=(yield* n(b)),g={};d=Math.floor(d/2);var i=(yield* j(a,b,f.rootId,e)),l=i[0],o=i[1],p=i[2];i=i[3];var q=k(a,l.keys,e,h.gte);if(q===-1||a(l.keys[q],e)!==0)return!1;a=babelHelpers["extends"]({},l,{keys:m(l.keys,q,1),children:m(l.children,q,1)});e=o;yield* b.write(e,a);l=i;for(var o,i,q;a.keys.length<d&&p.length;r=[o,i,q],a=r[0],e=r[1],l=r[2],r){q=p.pop();o=q[0];i=q[1];q=q[2];var r=[[{nodeId:o.children[l-1]},{nodeId:e,node:a},l-1],[{nodeId:e,node:a},{nodeId:o.children[l+1]},l]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});for(var s of r){var t=s[0],u=s[1],v=s[2];t.node=t.node||(yield* b.readExn(t.nodeId));u.node=u.node||(yield* b.readExn(u.nodeId));if(t.node.keys.length+u.node.keys.length>=d*2){a.isLeaf?(u.node=babelHelpers["extends"]({},u.node,{children:[].concat(t.node.children,u.node.children),keys:[].concat(t.node.keys,u.node.keys)}),t.node=babelHelpers["extends"]({},t.node,{children:u.node.children.splice(0,d),keys:u.node.keys.splice(0,d)}),o=babelHelpers["extends"]({},o,{keys:m(o.keys,v,1,u.node.keys[0])})):(u.node=babelHelpers["extends"]({},u.node,{children:[].concat(t.node.children,u.node.children),keys:[].concat(t.node.keys,[o.keys[v]],u.node.keys)}),t.node=babelHelpers["extends"]({},t.node,{children:u.node.children.splice(0,d+1)}),o=babelHelpers["extends"]({},o,{keys:m(o.keys,v,1,u.node.keys.splice(d,1)[0])}),t.node.keys=u.node.keys.splice(0,d));yield* b.write(t.nodeId,t.node);yield* b.write(u.nodeId,u.node);yield* b.write(i,o);Object.keys(g).length&&(yield* b.writeHeader(babelHelpers["extends"]({},f,g)));return!0}}for(v of r){t=v[0];u=v[1];s=v[2];t.node=babelHelpers["extends"]({},t.node,{children:[].concat(t.node.children,u.node.children)});a.isLeaf?(t.node.keys=[].concat(t.node.keys,u.node.keys),u.node.nextId?yield* b.write(u.node.nextId,babelHelpers["extends"]({},yield* b.readExn(u.node.nextId),{prevId:t.nodeId})):g.tailId=t.nodeId,t.node.nextId=u.node.nextId):t.node.keys=[].concat(t.node.keys,[o.keys[s]],u.node.keys);o=babelHelpers["extends"]({},o,{keys:m(o.keys,s,1),children:m(o.children,s+1,1)});c("MetaConfig")._("15")&&(yield* b.write(i,o));yield* b.write(t.nodeId,t.node);yield* b.remove(u.nodeId);break}}yield* b.write(e,a);s=(yield* b.readExn(f.rootId));if(!s.keys.length&&s.children.length){if(s.isLeaf)throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product");yield* b.remove(f.rootId);g.rootId=s.children[0]}Object.keys(g).length&&(yield* b.writeHeader(babelHelpers["extends"]({},f,g)));return!0}function t(a,b,d){d=d===void 0?{}:d;var e=d.dir,f=e===void 0?"asc":e,g=babelHelpers.objectWithoutPropertiesLoose(d,["dir"]);function i(){if(f==="asc"){if(Object.prototype.hasOwnProperty.call(g,"gt"))return g.gt;else if(Object.prototype.hasOwnProperty.call(g,"gte"))return g.gte}else if(Object.prototype.hasOwnProperty.call(g,"lt"))return g.lt;else if(Object.prototype.hasOwnProperty.call(g,"lte"))return g.lte}function l(b){if(f==="asc")return Object.prototype.hasOwnProperty.call(g,"gt")?k(a,b.keys,g.gt,h.gt):Object.prototype.hasOwnProperty.call(g,"gte")?k(a,b.keys,g.gte,h.gte):0;else return Object.prototype.hasOwnProperty.call(g,"lt")?k(a,b.keys,g.lt,h.lt):Object.prototype.hasOwnProperty.call(g,"lte")?k(a,b.keys,g.lte,h.lte):b.keys.length-1}if(Object.prototype.hasOwnProperty.call(g,"gt")&&Object.prototype.hasOwnProperty.call(g,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");if(Object.prototype.hasOwnProperty.call(g,"lt")&&Object.prototype.hasOwnProperty.call(g,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");var m;return{next:function*(d){var e,n;if(m==null){var o=(yield* b.readHeader());if(o==null)return{done:!0};var p=i();if(p!==void 0){p=(yield* j(a,b,o.rootId,p));e=p[0];p=p[1]}else if(f==="asc"){var q=[yield* b.readExn(o.headId),o.headId];e=q[0];p=q[1]}else{q=[yield* b.readExn(o.tailId),o.tailId];e=q[0];p=q[1]}o=l(e)}else{q=m;o=q.i;n=q.key;p=q.nodeId;e=(yield* b.read(p));if(d!=null){if(a(d,n)===(f==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","messenger_web_product");if(e==null||a(d,e.keys[0])<0||a(d,e.keys[e.keys.length-1])>0){q=(yield* b.readHeader());if(q==null)return{done:!0};q=(yield* j(a,b,q.rootId,d));e=q[0];p=q[1]}o=k(a,e.keys,d,h[f==="asc"?"gte":"lte"])}else{if(e==null||o<0||o>=e.keys.length||a(e.keys[o],n)!==0){if(e==null||!e.keys.length||a(n,e.keys[0])<0||a(n,e.keys[e.keys.length-1])>0){q=(yield* b.readHeader());if(q==null)return{done:!0};d=(yield* j(a,b,q.rootId,n));e=d[0];p=d[1]}o=k(a,e.keys,n,h[f==="asc"?"lte":"gte"])}o+=f==="asc"?1:-1}}if(o<0||o>=e.keys.length)if(f==="asc"){if(e.nextId===void 0)return{done:!0};p=e.nextId;e=(yield* b.readExn(p));o=0}else{if(e.prevId===void 0)return{done:!0};p=e.prevId;e=(yield* b.readExn(p));o=e.keys.length-1}n=e.keys[o];m={node:e,nodeId:p,key:n,i:o};if(o<0||o>=e.keys.length)return{done:!0};q=f==="asc"?Object.prototype.hasOwnProperty.call(g,"lt")&&a(n,g.lt)>=0||Object.prototype.hasOwnProperty.call(g,"lte")&&a(n,g.lte)>0:Object.prototype.hasOwnProperty.call(g,"gt")&&a(n,g.gt)<=0||Object.prototype.hasOwnProperty.call(g,"gte")&&a(n,g.gte)<0;return q?{done:!0}:{done:!1,value:[e.keys[o],e.children[o]]}}}}function a(a,b,c){b===void 0&&(b=32);return{get:function(b){return o(a,c,b)},getWithDefault:function(b,d){return p(a,c,b,d)},has:function(b){return q(a,c,b)},set:function(d,e){return r(a,c,b,d,e)},"delete":function(d){return s(a,c,b,d)},entries:function(b){return t(a,c,b)},clear:function(){return i(c)}}}g["default"]=a}),98);
__d("BPlusTree",["BPlusTreeBase","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a={},b=void 0,d=0;return{read:function*(b){return a[b]},readExn:function*(b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b];else throw c("unrecoverableViolation")("expected key","messenger_web_product")},readHeader:function*(){return b},remove:function*(b){delete a[b]},removeHeader:function*(){b=void 0},write:function*(b,c){a[b]=c},writeHeader:function*(a){b=a},writeNew:function*(b){a[d++]=b;return d-1}}}function i(a){var b=a.next();while(!b.done)b=a.next(b.value);return b.value}function a(a,b){b===void 0&&(b=16);var d=c("BPlusTreeBase")(a,b,h()),e;return e={clear:function(){return i(d.clear())},"delete":function(a){return i(d["delete"](a))},entries:function(a){function b(){var c,e=d.entries(a);return c={next:function(a){return i(e.next(a))}},c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=b,c}return b()},get:function(a){return i(d.get(a))},getWithDefault:function(a,b){return i(d.getWithDefault(a,b))},has:function(a){return i(d.has(a))},set:function(a,b){i(d.set(a,b));return e}}}g["default"]=a}),98);
__d("PromiseOrValue",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(c("isPromise")(a)&&c("isPromise")(b))return a.then(function(a){return b.then(function(b){return[a,b]})});if(c("isPromise")(a))return a.then(function(a){return[a,b]});return c("isPromise")(b)?b.then(function(b){return[a,b]}):[a,b]}function b(a,b){return c("isPromise")(a)?a.then(b):b(a)}function h(a,b){b=b;while(!0){var d=a(b);if(c("isPromise")(d))return d.then(function(b){return b.action==="break"?b.value:h(a,b.value)});if(d.action==="break")return d.value;b=d.value}throw c("unrecoverableViolation")("just for flow","messenger_web_product")}g.all2=a;g.map=b;g.loop=h}),98);
__d("ReQLBounds",["LSDbKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(a){if(c===0)return b;c=c!==1?h(a.tl,b,c-1):0;return{hd:a.hd,tl:c}}return b}function i(a,b){b===void 0&&(b=-1);return h(a,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0},b)}function j(a,b,c){if(a!=null&&b!=null)return d("LSDbKeyComparer").compareKey(a[1],b[1])*c>0?a[0]:b[0];if(a!=null)return a[0];if(b!=null)return b[0]}function k(a,b){return j((a==null?void 0:a.gt)!=null?[{gt:a.gt},i(a.gt)]:(a==null?void 0:a.gte)!=null?[{gte:a.gte},a.gte]:void 0,(b==null?void 0:b.gt)!=null?[{gt:b.gt},i(b.gt)]:(b==null?void 0:b.gte)!=null?[{gte:b.gte},b.gte]:void 0,1)}function l(a,b){return j((a==null?void 0:a.lt)!=null?[{lt:a.lt},a.lt]:(a==null?void 0:a.lte)!=null?[{lte:a.lte},i(a.lte)]:void 0,(b==null?void 0:b.lt)!=null?[{lt:b.lt},b.lt]:(b==null?void 0:b.lte)!=null?[{lte:b.lte},i(b.lte)]:void 0,-1)}function a(a,b,c){a.forEach(function(a){var e=a[0];a=a[1];var f=(e==null?void 0:e.gt)!=null?d("LSDbKeyComparer").compareKey(b,i(e.gt))>=0:(e==null?void 0:e.gte)!=null?d("LSDbKeyComparer").compareKey(b,e.gte)>0:!0;e=(e==null?void 0:e.lt)!=null?d("LSDbKeyComparer").compareKey(b,e.lt)<0:(e==null?void 0:e.lte)!=null?d("LSDbKeyComparer").compareKey(b,i(e.lte))<=0:!0;if(f&&e)return c(a)})}function b(a,b){if(b==null)return a;var c=k(b,a);b=l(b,a);if(c!=null&&b!=null)return babelHelpers["extends"]({},c,b);if(c!=null)return c;if(b!=null)return b}g.nextKey=i;g.getLowerLimit=k;g.getUpperLimit=l;g.forEachMatchingBounds=a;g.mergeBounds=b}),98);
__d("ReQLGlobalQueryContext",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return a.get(g)}function b(a,b){a.set(g,b)}c={contents:void 0};f.getDependencies=a;f.setDependencies=b;f.globalQueryContext=c}),66);
__d("ReQL",["BPlusTree","LSDbKeyComparer","Promise","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","asyncToGeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={bounds:e,filter:m,getKeyRange:n,map:p,take:t};function i(a,b){return a?{hd:a.hd,tl:i(a.tl,b)}:b}function j(a,b){b=b;a=a;while(b){if(!a)throw c("unrecoverableViolation")("unexpected end of key","messenger_web_product");b=b.tl;a=a.tl}return a}function k(a,c){try{var e=d("ReQLGlobalQueryContext").globalQueryContext.contents,f=d("ReQLGlobalQueryContext").getDependencies(c);d("ReQLGlobalQueryContext").setDependencies(c,[]);d("ReQLGlobalQueryContext").globalQueryContext.contents=c;var g,h;try{g=a(),h=d("ReQLGlobalQueryContext").getDependencies(c)||[]}finally{d("ReQLGlobalQueryContext").setDependencies(c,f),d("ReQLGlobalQueryContext").globalQueryContext.contents=e}return[g,h]}catch(d){if(d instanceof b("Promise"))return d.then(function(){return k(a,c)});throw d}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function e(a){var b=this;return Object.setPrototypeOf({direction:b.direction,iterator:function(c,e){return b.iterator(c,d("ReQLBounds").mergeBounds(a,e))},keyLength:b.keyLength,subscribe:function(c,e){return b.subscribe(c,d("ReQLBounds").mergeBounds(a,e))}},h)}var l=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},h);function f(){return l}function m(a){var c=this,e=new Map();return Object.setPrototypeOf({direction:c.direction,iterator:function(b,f){var g=c.iterator(b,f);return{next:function(b){return d("PromiseOrValue").loop(function(b){return d("PromiseOrValue").map(g.next(b),function(b){if(b.done)return{action:"break",value:b};var c=b.value,f=c[0];c=c[1];if(a(c)){d("ReQLBounds").forEachMatchingBounds(e,f,function(a){a.add(JSON.stringify(f))});return{action:"break",value:b}}d("ReQLBounds").forEachMatchingBounds(e,f,function(a){a["delete"](JSON.stringify(f))});return{action:"continue",value:void 0}})},b)}}},keyLength:c.keyLength,subscribe:function(d,f){var g={},h=new Set();e.set(g,[f,h]);var i=c.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,e){var f=JSON.stringify(b);c.operation==="add"&&a(c.value)?(h.add(f),yield d(b,c,e)):c.operation==="put"&&a(c.value)?h.has(f)?yield d(b,c,e):(h.add(f),yield d(b,{operation:"add",value:c.value},e)):c.operation==="put"&&h.has(f)?(h["delete"](f),yield d(b,{operation:"delete"},e)):c.operation==="delete"&&h.has(f)&&(h["delete"](f),yield d(b,c,e))});return function(a,b,d){return c.apply(this,arguments)}}(),f);return function(){e["delete"](g);return i()}}},h)}function n(){var a=this;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];var f=c.reduceRight(function(a,b){return{hd:b,tl:a}},0);function g(a){return a.gt!=null?{gt:i(f,a.gt)}:{gte:i(f,a.gte)}}function k(a){return a.lt!=null?{lt:i(f,a.lt)}:{lte:i(f,a.lte)}}function l(a){return a==null?{gte:f,lte:f}:babelHelpers["extends"]({},a.gte!=null||a.gt!=null?g(a):{gte:f},a.lte!=null||a.lt!=null?k(a):{lte:f})}return Object.setPrototypeOf({direction:a.direction,iterator:function(b,c){var e=a.iterator(b,l(c));return{next:function(a){return d("PromiseOrValue").map(e.next(a==null?a:i(f,a)),function(a){return a.done?{done:!0}:{done:!1,value:[j(a.value[0],f),a.value[1]]}})}}},keyLength:a.keyLength-c.length,subscribe:function(b,c){return a.subscribe(function(a,c,d){return b(j(a,f),c,d)},l(c))}},h)}function o(a,e){if(a.direction!==e.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(b,f){var g=a.iterator(b,f),h=e.iterator(b,f),i=h.next();function j(a){return d("PromiseOrValue").map(i,function(b){var c=b.done?!0:d("LSDbKeyComparer").compareKey(a,b.value[0])<=0;c=c?b:h.next(a);i=c;return c})}return{next:function(a){return d("PromiseOrValue").map(g.next(a),function(a){if(a.done)return{done:!0,value:void 0};var b=a.value;b=b[0];return d("PromiseOrValue").map(j(b),function(b){var e=a.value,f=e[0];e=e[1];if(b.done)return{done:!1,value:[f,[e,void 0]]};b=b.value;var g=b[0];b=b[1];g=d("LSDbKeyComparer").compareKey(f,g);if(g>0)throw c("unrecoverableViolation")("Right iterable should always be equal to or ahead","messenger_web_product");else if(g<0)return{done:!1,value:[f,[e,void 0]]};else return{done:!1,value:[f,[e,b]]}})})}}},keyLength:Math.max(a.keyLength,e.keyLength),subscribe:function(c,d){var f=!0,g=a.subscribe(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){var g=(yield e.iterator(d,{gte:a,lte:a}).next());if(!f)return;yield c(a,b.operation==="add"?{operation:"add",value:[b.value,(a=g.value)==null?void 0:a[1]]}:b.operation==="put"?{operation:"put",value:[b.value,(a=g.value)==null?void 0:a[1]]}:{operation:"delete"},d)});return function(b,c,d){return a.apply(this,arguments)}}(),d),h=e.subscribe(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,d,e){var g=(yield a.iterator(e,{gte:b,lte:b}).next());if(!f||g.done)return;yield c(b,d.operation==="add"?{operation:"add",value:[g.value[1],d.value]}:d.operation==="put"?{operation:"put",value:[g.value[1],d.value]}:{operation:"delete"},e)});return function(a,b,c){return d.apply(this,arguments)}}(),d);return function(){f=!1,g(),h()}}},h)}function p(a){var c=this,e=new Map();function f(c,d,e,f,h){var i=JSON.stringify(e),j=c.get(i);j==null&&(j=[],c.set(i,j));j.forEach(function(a){return a()});j.length=0;var k=j;h.forEach(function(h){k.push(h.subscribe(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h,i){yield g(c,d,e,f,i),yield d(e,{operation:"put",value:a(f)},i)});return function(a,b,c){return h.apply(this,arguments)}}()))})}function g(b,c,e,g,h){return d("PromiseOrValue").map(k(function(){return a(g)},h),function(a){var d=a[0];a=a[1];f(b,c,e,g,a);return d})}function i(a,b){var c=JSON.stringify(b);if(!a.has(c))return;b=(b=a.get(JSON.stringify(b)))!=null?b:[];b.forEach(function(a){return a()});b.length=0;a["delete"](c)}return Object.setPrototypeOf({direction:c.direction,iterator:function(b,g){var h=c.iterator(b,g);return{next:function(c){return d("PromiseOrValue").map(h.next(c),function(g){if(g.done)return g;g=g.value;var c=g[0],h=g[1];return d("PromiseOrValue").map(d("PromiseOrValue").map(k(function(){return a(h)},b),function(a){var b=a[0],g=a[1];d("ReQLBounds").forEachMatchingBounds(e,c,function(a){var b=a[0];a=a[1];return f(b,a,c,h,g)});return b}),function(a){return{done:!1,value:[c,a]}})})}}},keyLength:c.keyLength,subscribe:function(d,f){var h={},j=new Map();e.set(h,[f,[j,d]]);var k=c.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,e){if(c.operation==="delete")i(j,b),yield d(b,c,e);else if(c.operation==="add"){var f=c.value,h=(yield g(j,d,b,f,e));a(f);yield d(b,{operation:"add",value:h},e)}else if(c.operation==="put"){f=c.value;h=(yield g(j,d,b,f,e));a(f);yield d(b,{operation:"put",value:h},e)}});return function(a,b,d){return c.apply(this,arguments)}}(),f);return function(){j.forEach(function(a){a.forEach(function(a){return a()})}),e["delete"](h),k()}}},h)}function q(a,b){var c=r(a,b);for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return e.reduce(function(a,b){return r(a,b)},c)}function r(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("union requires iterables to be sorted in the same direction","messenger_web_product");var e=Math.max(a.keyLength,b.keyLength);function f(a,b){return b===0||a===0?0:{hd:a.hd,tl:f(a.tl,b-1)}}function g(a){return a.gt!=null?{gt:f(a.gt,e)}:{gte:f(a.gte,e)}}function j(a){return a.lt!=null?{lt:f(a.lt,e)}:{lte:f(a.lte,e)}}function k(a){return a==null?void 0:babelHelpers["extends"]({},a.gte!=null||a.gt!=null?g(a):{},a.lte!=null||a.lt!=null?j(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(c,g){var h=a.iterator(c,k(g)),j=b.iterator(c,k(g)),l=h.next(),m=j.next();return{next:function(b){b!==void 0&&(l=h.next(f(b,e)),m=j.next(f(b,e)));return d("PromiseOrValue").map(d("PromiseOrValue").all2(l,m),function(b){var c=b[0];b=b[1];function e(a,b){if(a.done)return{done:!0};a={done:!1,value:[i(a.value[0],{hd:b,tl:0}),a.value[1]]};b?l=h.next():m=j.next();return a}if(c.done)return e(b,!1);if(b.done)return e(c,!0);var f=a.direction==="asc"?[c,b]:[b,c],g=f[0];f=f[1];f=d("LSDbKeyComparer").compareKey((g=g.value)==null?void 0:g[0],(g=f.value)==null?void 0:g[0]);if(f<0)return e(c,!0);else return e(b,!1)})}}},keyLength:e+1,subscribe:function(c,d){var e=a.subscribe(function(a,b,d){return c(i(a,{hd:!0,tl:0}),b,d)},d),f=b.subscribe(function(a,b,d){return c(i(a,{hd:!1,tl:0}),b,d)},d);return function(){e(),f()}}},h)}function s(a,e){if(a.direction!==e.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(b,c){var f=a.iterator(b,c),g=e.iterator(b,c);function h(a){return d("PromiseOrValue").loop(function(a){var b=a[0];a=a[1];if(b.done||a.done)return{action:"break",value:{done:!0}};var c=b.value,e=c[0];c=c[1];var h=a.value,i=h[0];h=h[1];var j=d("LSDbKeyComparer").compareKey(e,i);if(j>0)return d("PromiseOrValue").map(d("PromiseOrValue").all2(b,g.next(e)),function(a){return{action:"continue",value:a}});else if(j<0)return d("PromiseOrValue").map(d("PromiseOrValue").all2(f.next(i),a),function(a){return{action:"continue",value:a}});return{action:"break",value:{done:!1,value:[e,[c,h]]}}},a)}return{next:function(a){return d("PromiseOrValue").map(d("PromiseOrValue").all2(f.next(a),g.next(a)),h)}}},keyLength:Math.max(a.keyLength,e.keyLength),subscribe:function(c,d){var f=!0;function g(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e,g){a=(yield a.iterator(g,{gte:d,lte:d}).next());if(a.done||!f)return;a=a.value[1];b=e.operation==="add"?{operation:"add",value:b(e.value,a)}:e.operation==="put"?{operation:"put",value:b(e.value,a)}:e;yield c(d,b,g)});return h.apply(this,arguments)}var i=a.subscribe(function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.apply(void 0,[e,function(a,b){return[a,b]}].concat(b))},d),j=e.subscribe(function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return g.apply(void 0,[a,function(a,b){return[b,a]}].concat(c))},d);return function(){f=!1,i(),j()}}},h)}function t(a){var e=this,f=new Map();return Object.setPrototypeOf({direction:e.direction,iterator:function(b,c){var g=e.iterator(b,c),h=0;return{next:function(b){if(h>=a)return{done:!0};else return d("PromiseOrValue").map(g.next(b),function(b){b.done||d("ReQLBounds").forEachMatchingBounds(f,b.value[0],function(c){var d=c[0];c=c[1];c.contents<=a&&(d.has(b.value[0])||(c.contents+=1,d.set(b.value[0],void 0)))});h+=1;return b})}}},keyLength:e.keyLength,subscribe:function(g,h){var i={},j=e.direction==="asc"?1:-1,k=c("BPlusTree")(function(a,b){return d("LSDbKeyComparer").compareKey(a,b)*-j}),l={contents:0};f.set(i,[h,[k,l]]);var m=e.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,h){var m;m=(m=k.entries().next().value)==null?void 0:m[0];var n=m==null?!0:d("LSDbKeyComparer").compareKey(b,m)*j<=0;if(c.operation==="delete"&&n){l.contents>0&&(k["delete"](b),yield g(b,c,h));var o=(yield e.iterator(h,m==null?void 0:j===1?{gt:m}:{lt:m}).next());!o.done&&f.has(i)?(k.set(o.value[0],void 0),yield g(o.value[0],{operation:"add",value:o.value[1]},h)):l.contents>0&&(l.contents-=1)}else c.operation==="add"&&l.contents<a?(l.contents+=1,k.set(b,void 0),yield g(b,c,h)):c.operation==="add"&&n?(m!=null&&(k["delete"](m),yield g(m,{operation:"delete"},h)),k.set(b,void 0),yield g(b,c,h)):c.operation==="put"&&n&&(yield g(b,c,h))});return function(a,b,d){return c.apply(this,arguments)}}(),h);return function(){f["delete"](i);return m()}}},h)}function u(a,b){return Object.setPrototypeOf({direction:"asc",iterator:function(b,c){return a.entries(b,"asc",c)},keyLength:a.keyLength,subscribe:function(c,d){return a.subscribe(c,d,b==null?void 0:Object.keys(b))}},h)}function v(a,b){return Object.setPrototypeOf({direction:"desc",iterator:function(b,c){return a.entries(b,"desc",c)},keyLength:a.keyLength,subscribe:function(c,d){return a.subscribe(c,d,b==null?void 0:Object.keys(b))}},h)}function w(a){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.iterator(new WeakMap());var c=(yield a.next());while(!c.done)b.push(c.value[1]),c=(yield a.next());return b});return x.apply(this,arguments)}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.iterator(new WeakMap());a=(yield a.next());return a.done?void 0:a.value[1]});return z.apply(this,arguments)}function A(a){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.iterator(new WeakMap());a=(yield a.next());if(a.done)throw c("unrecoverableViolation")("expected result","messenger_web_product");return a.value[1]});return B.apply(this,arguments)}g.prototype=h;g.key=a;g.empty=f;g.leftJoin=o;g.union=q;g.mergeJoin=s;g.fromTableAscending=u;g.fromTableDescending=v;g.toArrayAsync=w;g.firstAsync=y;g.firstExnAsync=A}),98);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}var g=function(a,b){delete a[b]};function c(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=a[b[e]];return d}function e(a){var b={};a=a;while(!0){var c=a;if(!c)return b;var d=c.hd;b[d[0]]=d[1];a=c.tl;continue}}function h(a){var b={},c=a.length;for(var d=0;d<c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0;f<e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=g;f.entries=c;f.values=d;f.fromList=e;f.fromArray=h;f.map=i}),null);
__d("ReQL.bs",["ReQL","ReQLBounds","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=function a(b){var e=b.NAME;if(e!=="range")if(e==="lessThan")return{lt:b.VAL};else if(e==="greaterThan")return{gt:b.VAL};else if(e==="greaterThanOrEqual")return{gte:b.VAL};else return{lte:b.VAL};e=b.VAL;b=a(e[0]);e=a(e[1]);return c("nullthrows")(d("ReQLBounds").mergeBounds(b,e))};return a.bounds(e(b))}function b(a,b){if(!b)throw c("unrecoverableViolation")("only support 5","messenger_web_product");var d=b.tl;b=b.hd;if(!d)return a.getKeyRange(b);var e=d.tl;d=d.hd;if(!e)return a.getKeyRange(b,d);var f=e.tl;e=e.hd;if(!f)return a.getKeyRange(b,d,e);var g=f.tl;f=f.hd;if(g)if(g.tl)throw c("unrecoverableViolation")("only support 5","messenger_web_product");else return a.getKeyRange(b,d,e,f,g.hd);else return a.getKeyRange(b,d,e,f)}function e(a,b){return a.filter(b)}function f(a,b){return a.map(b)}function h(a){return d("ReQL").toArrayAsync(a)}function i(a,b){return d("ReQL").mergeJoin(a,b)}function j(a,b){return d("ReQL").leftJoin(a,b)}function k(a,b){return a.take(b)}function l(a){return d("ReQL").firstAsync(a)}function m(a){return d("ReQL").firstExnAsync(a)}function n(a){return d("ReQL").fromTableAscending(a)}function o(a){return d("ReQL").fromTableDescending(a)}function p(a){return d("ReQL").fromTableAscending(a)}function q(a){return d("ReQL").fromTableDescending(a)}g.bounds=a;g.getKeyRange=b;g.filter=e;g.map=f;g.toArray=h;g.mergeJoin=i;g.leftJoin=j;g.take=k;g.first=l;g.firstExn=m;g.fromTableAscending=n;g.fromTableDescending=o;g.fromIndexAscending=p;g.fromIndexDescending=q}),98);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g){function a(a){var b,d=function(){c("TimerStorage").unset(c("TimerStorage").IMMEDIATE,b);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];Function.prototype.apply.call(a,this,e)};c("TimeSlice").copyGuardForWrapper(a,d);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];b=c("setImmediateAcrossTransitions").apply(void 0,[d].concat(f));c("TimerStorage").set(c("TimerStorage").IMMEDIATE,b);return b}g["default"]=a}),98);
__d("LSIntEnum",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){var b=h.get(a);if(b!=null)return b;b=d("I64").of_float(a);h.set(a,b);return b}function b(a){return d("I64").to_float(a)}function c(a){return d("I64").to_float(a)}g.ofNumber=a;g.toNumber=b;g.unwrapIntEnum=c}),98);
__d("LSPlatformLsInitLog",["ExecutionEnvironment","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25305590,"1127"),i=!1,j=!1;function a(){i||(i=!0,j=!1,c("QPLUserFlow").startFromNavStart(h,{cancelOnUnload:!0,timeoutInMs:c("ExecutionEnvironment").canUseDOM?6e4:0}))}function k(a,b,d){i&&!j&&(c("QPLUserFlow").addPoint(a,b),d!=null&&c("QPLUserFlow").addAnnotations(a,d))}function b(a){c("QPLUserFlow").addAnnotations(h,a)}function d(a,b){k(h,a,b)}function e(){i&&!j&&(j=!0,c("QPLUserFlow").endSuccess(h))}function f(a){j=!0,l(h,a)}function l(a,b){c("QPLUserFlow").endFailure(a,b)}g.start=a;g.addPointForEvent=k;g.addAnnotations=b;g.addPoint=d;g.endSuccess=e;g.fail=f;g.failEvent=l}),98);/*FB_PKG_DELIM*/
__d("MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5728355667179018"}),null);
__d("MAWShareAttachment_LinkPreviewQuery.graphql",["MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWShareAttachment_LinkPreviewQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWShareAttachment_LinkPreviewQuery",selections:c},params:{id:b("MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWShareAttachment_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWImagePreProcess",["MAWImageUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function e(e,f){var g=a.URL.createObjectURL(e),h=e.name;return d("MAWImageUtils").urlToFile(g,f).then(function(a){a=a.blob;return new File([a],h,{type:f})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function f(e){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToFile(e,d("MAWImageUtils").TYPE_JPEG).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function h(e,f){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToThumbnail(e,f)["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}g.imageTranscode=e;g.getImageSpec=f;g.getJpegThumbnailInfo=h}),98);
__d("IGDAWShareAttachmentUtils",["MAWImagePreProcess","PolarisLinkBuilder","PolarisPostShareUtils","WAArmadilloXMA.pb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;b=(b=a.sidecarChildren)!=null?b:[];c=(c=a.isVideo)!=null?c:!1;a=(a=a.productType)!=null?a:"";if(a==="story")return c?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE;if(c)return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE;return b.length>1?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE}function c(a){var b;b=(b=a.productType)!=null?b:"";if(b==="story")return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT;a=(b=a.isVideo)!=null?b:!1;return a?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.SINGLE}function e(a){return a.productType==="story"&&a.owner!=null?d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildDirectUserStoryLink(a.id+"_"+a.owner.id):d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils").getShareURL(a)}function f(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null)return null;var b=(yield d("MAWImagePreProcess").getImageSpec(a));return{file:a,height:b.height,width:b.width}});return h.apply(this,arguments)}g.getXMAType=a;g.getXMALayoutType=c;g.generateNativeURL=e;g.getImageFileArgs=f}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a,b,c,d)})}g["default"]=a}),98);
__d("MAWCreateOneToOneThreadWithStringFBID",["I64","MAWCreateOneToOneThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("I64").of_string(b);return d("MAWCreateOneToOneThread").call(a,b)}g.call=a}),98);
__d("MAWGetEphemeralSettings.bs",["MAWBridgeSendAndReceive","Promise","WAJids","WALogger","cr:7035","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);h=function(){return a};return a}function a(a){return c("qex")._("1516")===!0&&d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(e){d("WALogger").LOG(h(),a,e);if(e!=null){b("cr:7035")!=null&&c("promiseDone")(b("cr:7035").updateEphemeralSettingsByChatJid(e.ephemeralExpirationInSec,e.ephemeralLastUpdatedOrSetTimestamp,a,!0));return e}return void 0}):b("Promise").resolve()}g.getEphemeralSetting=a}),98);
__d("MWQPLMarkers",[],(function(a,b,c,d,e,f){"use strict";a={BEFORE_CREATE_OPTIMISTIC_MESSAGE:"before_create_optimistic_message",CREATE_OPTIMISTIC_MESSAGE_SUCCESS:"create_optimistic_message_success",CREATED_THREAD_FOR_XMA_SHARE:"created_thread_for_xma_share",FAILED_MEDIA_MISSING_THREAD:"failed_media_missing_thread",FAILED_MEDIA_MSGID_MISSING_IN_DB:"failed_media_msgid_missing_in_db",FAILED_MEDIA_UNSUPPORTED_TYPE:"failed_media_unsupported_type",FAILED_MESSAGE_MISSING_THREAD:"failed_message_missing_thread",FAILED_MISSING_ASSOCIATED_MESSAGE_IN_DB:"failed_missing_associated_message_in_db",FAILED_MISSING_THREAD_IN_DB:"failed_missing_thread_in_db",FAILED_MISSING_THREAD_IN_WRITING_XMA:"failed_missing_thread_in_writing_xma",FAILED_MISSING_XMA_MESSAGE_IN_DB:"failed_missing_xma_message_in_db",FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE:"failed_to_fetch_chat_jid_for_xma_share",FAILED_TO_FETCH_THREAD_KEY_FOR_XMA_SHARE:"failed_to_fetch_thread_key_for_xma_share",FAILED_UPLOAD_MEDIA_TO_BACKEND:"failed_upload_media_to_backend",FETCHING_DEVICES_FOR_XMA_SHARE:"fetching_devices_for_xma_share",GET_EXTERNAL_LINK_RESPONSE_SUCCESS:"get_external_link_response_success",MESSAGE_ALREADY_SENT_TO_BACKEND:"message_already_sent_to_backend",PREVIEW_DOES_NOT_EXIST:"preview_does_not_exist",PREVIEW_FAVICON_SPEC_READY:"preview_favicon_spec_ready",RECEIVED_MEDIA_IN_WAJOB:"received_media_in_wajob",RECEIVED_MESSAGE_IN_WAJOB:"received_message_in_wajob",SAVED_XMA_CONTENT_IN_DB:"saved_xma_content_in_db",SAVING_XMA_UPLOAD_RESULT_IN_DB:"saving_xma_upload_result_in_db",SEND_MESSAGE_TO_BACKEND_FAILED:"send_message_to_backend_failed",START_POST_SHARING:"start_post_sharing",SUCCESSFUL_MESSAGE_SENT_TO_BACKEND:"successful_message_sent_to_backend",SUCCESSFUL_UPLOAD_MEDIA_TO_BACKEND:"successful_upload_media_to_backend",UPLOADING_MEDIA_TO_BACKEND:"uploading_media_to_backend",WRITING_MEDIA_TO_DB_FAILED:"writing_media_to_db_failed",WRITING_MESSAGE_TO_DB:"writing_message_to_db",WRITING_XMA_TO_DB:"writing_xma_to_db"};f.MESSAGE_SEND_TO_SENT=a}),66);
__d("MAWShareAttachment",["fbt","CometRelay","ConstUriUtils","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWCreateOneToOneThreadWithStringFBID","MAWExternalId","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWJids","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWShareAttachment_LinkPreviewQuery.graphql","MAWTimedJob","MWQPLMarkers","Promise","QPLUserFlow","ReQL","ReQLSuspense","WAArmadilloXMA.pb","WAJids","WAJobOrchestratorTypes","asyncToGeneratorRuntime","err","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSDatabaseSingleton")),e=d("I64").of_string(a.targetID);return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("MAWJids").toUserJid(d("I64").to_string(a.contactId))}),f.id+":72")});return k.apply(this,arguments)}function l(a){return!Boolean(a)?b("Promise").resolve():window.fetch(a).then(function(a){return a.blob()})["catch"](function(){c("FBLogger")("messenger_e2ee_web").mustfix("Error fetching url in xma share");return b("Promise").resolve()})}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=d("ConstUriUtils").getUri(c);if(c==null)return{};c=(c=c.setSubDomain("www"))==null?void 0:c.toString();if(c==null)return{};a=(yield d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWShareAttachment_LinkPreviewQuery.graphql"),{url:c}).toPromise());a=a==null?void 0:a.post_reshare_xma;if(a==null)return{};if(a==="private"){var e=new Blob([],{type:"image/jpeg"});return{defaultCTA:{actionUrl:c,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:c,title:h._("Publica\u00e7\u00e3o privada").toString()},overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:e}}e=JSON.parse(a);a=e.action_url;var f=e.ctas,g=e.default_cta_title,j=e.favicon_url,k=e.image_url,m=e.preview_url,n=e.subtitle_text;e=e.title_text;j=(yield b("Promise").all([j,k,m].map(function(a){return l(a)})));k=j[0];m=j[1];j=j[2];f=f;var o=f==null?void 0:f[0];a=(a=(a=a)!=null?a:o==null?void 0:o.action_url)!=null?a:c;c={actionUrl:a,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(c=o==null?void 0:o.native_url)!=null?c:a,title:(o=g)!=null?o:void 0};return{ctas:f==null?void 0:f.map(function(a){var b;return{actionUrl:(b=a.action_url)!=null?b:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(b=a.native_url)!=null?b:void 0,title:(b=a.title)!=null?b:void 0}}),defaultCTA:c,favicon_blob:(a=k)!=null?a:void 0,image_blob:(g=m)!=null?g:void 0,preview_blob:(o=j)!=null?o:void 0,subtitle_text:(f=n)!=null?f:void 0,title_text:(c=e)!=null?c:void 0}});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g,h,i,j,k,l,m){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i,j,k,l,m,n,o,p){a!=null&&(e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE),yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(a)})));a=(yield d("MAWGetEphemeralSettings.bs").getEphemeralSetting(f));e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.CREATED_THREAD_FOR_XMA_SHARE);return f!=null?d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{ephemeralSetting:a==null?void 0:a,offlineAttachmentId:g.shareID,s2sInstanceKey:p,source:d("LSIntEnum").ofNumber((e=o)!=null?e:c("LSMessagingThreadAttributionType").UNKNOWN),xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},associatedMsgContent:(a=g.message)!=null?a:void 0,associatedMsgContentExternalId:g.message==null?void 0:d("MAWExternalId").generateExternalId(),chatJid:f,faviconFile:h,previewFile:i,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:{ctas:j,defaultCTA:k,overlayIconGlyph:(p=l)!=null?p:void 0,subtitleText:(o=m)!=null?o:void 0,titleText:(e=n)!=null?e:void 0},xmaMsgExternalId:d("MAWExternalId").generateExternalId()})):b("Promise").resolve()});return p.apply(this,arguments)}function a(a,b,c,d,e){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){if(e.url===null)return;a=(yield m(a,(a=e.url)!=null?a:""));var i=a.ctas,k=a.defaultCTA,l=a.favicon_blob;a.image_blob;var n=a.overlayIconGlyph,p=a.preview_blob,q=a.subtitle_text,r=a.title_text,s=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),a,{instanceKey:h})},t=function(a,b){b===void 0&&(b={}),c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),a,{annotations:b,instanceKey:h})};a=p==null?void 0:new File([p],"preview",{type:p.type});p=l==null?void 0:new File([l],"favicon",{type:l.type});l=n===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?b("Promise").resolve({height:0,width:0}):a!=null?d("MAWImagePreProcess").getImageSpec(a):b("Promise").resolve();var u=p!=null?d("MAWImagePreProcess").getImageSpec(p):b("Promise").resolve();l=(yield b("Promise").all([l,u]));u=l[0];l=l[1];s(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_FAVICON_SPEC_READY);var v=a==null||u==null?void 0:{file:a,height:u.height,width:u.width},w=p==null||l==null?void 0:{file:p,height:l.height,width:l.width};if(v==null){t(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_DOES_NOT_EXIST);throw c("err")("Preview must exist in the XMA Send Path")}if(f!=null)if(f.isTargetE2E===!0){var x=d("I64").of_string_opt(e.targetID);if(x==null){t(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch threadKey for MAW XMA Attachment Share")}return c("LSDatabaseSingleton").then(function(a){return d("MAWMiActOnActThreadReady").onActThreadReady(a,x,"fetch-existing-chatJid",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,l){a=l;if(a==null){t(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE,{bool:{createNewThread:!1}});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch chatJid for MAW XMA Attachment Share")}f!=null&&f.typeName==="User"?b=[d("MAWJids").toUserJid(e.targetID)]:b=(yield j(e));return o(b,s,a,e,w,v,i,k,n,q,r,g,h)});return function(b,c,d){return a.apply(this,arguments)}}())})}else if(f.targetType==="USER")return c("LSDatabaseSingleton").then(function(a){return d("MAWCreateOneToOneThreadWithStringFBID").call(a,f.targetID)}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a==null?void 0:a.jid;if(a==null){t(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE,{bool:{createNewThread:!0}});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch chatJid for MAW XMA Attachment Share")}var b=[d("WAJids").interpretAsUserJid(a)].filter(Boolean);s(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE);yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(b)}));return o(b,s,a,e,w,v,i,k,n,q,r,g,h)});return function(b){return a.apply(this,arguments)}}())});return q.apply(this,arguments)}g.fetchBlob=l;g.fetchXMAData=m;g.shareSecureAttachment=a}),98);
__d("IGDAWShareAttachment",["fbt","FBLogger","I64","IGDAWShareAttachmentUtils","LSDatabaseSingleton","MAWExternalId","MAWJids","MAWJobDefinitions","MAWMiActOnActThreadReadyDeferred","MAWShareAttachment","MAWTimedJob","Promise","ReQL","WAArmadilloXMA.pb","WAJobOrchestratorTypes","WATimeUtils","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=3,j=h._("Tap to see post").toString();function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSDatabaseSingleton"));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(d("I64").of_string(a)).map(function(a){return d("MAWJids").toUserJid(d("I64").to_string(a.contactId))}))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(c==null?void 0:c.isPrivate)!==!0&&a.viewerCanReshare===!0,f=c==null?void 0:c.username,g=d("IGDAWShareAttachmentUtils").generateNativeURL(a);g={buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:g};var h=(yield b("Promise").all([a.src,c==null?void 0:c.profilePictureUrl].map(function(a){return d("MAWShareAttachment").fetchBlob(a)}))),i=h[0];h=h[1];return!e?{defaultCTA:g,header_blob:h,header_title:f,overlayDescription:j,overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE}:{defaultCTA:g,header_blob:h,header_title:c==null?void 0:c.username,overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,preview_blob:i,title_text:a.caption}});return n.apply(this,arguments)}function a(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(f.candidate.isE2EE==null)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Open thread candidate not allowed for IGDAW XMA Attachment Share");c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(yield c("LSDatabaseSingleton"),d("I64").of_string(f.candidate.id),"IGDAWShareAttachment",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c,h,j){c=j;h=(yield m(a,e));j=h.defaultCTA;var l=h.header_blob,n=h.header_title,o=h.overlayDescription,p=h.overlayIconGlyph,q=h.preview_blob;h=h.title_text;q=q==null?void 0:new File([q],"preview",{type:q.type});l=l==null?void 0:new File([l],"header",{type:l.type});q=(yield b("Promise").all([d("IGDAWShareAttachmentUtils").getImageFileArgs(q),d("IGDAWShareAttachmentUtils").getImageFileArgs(l)]));l=q[0];q=q[1];var r=a.expiringAt==null?void 0:d("WATimeUtils").castToUnixTime(a.expiringAt),s=(yield k(f.candidate.id));yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(s)}));return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{xmaMessageType:d("IGDAWShareAttachmentUtils").getXMAType(a)},associatedMsgContent:(s=g)!=null?s:void 0,associatedMsgContentExternalId:g==null?void 0:d("MAWExternalId").generateExternalId(),chatJid:c,headerFile:(s=q)!=null?s:void 0,previewFile:(c=l)!=null?c:void 0,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:{defaultCTA:j,headerTitle:(q=n)!=null?q:void 0,maxTitleNumOfLines:i,overlayDescription:o,overlayIconGlyph:p,targetExpiringAtSec:r,targetId:a.id,targetUsername:e==null?void 0:e.username,titleText:(s=h)!=null?s:void 0,xmaLayoutType:d("IGDAWShareAttachmentUtils").getXMALayoutType(a)},xmaMsgExternalId:d("MAWExternalId").generateExternalId()}))});return function(a,b,d){return c.apply(this,arguments)}}()))});return o.apply(this,arguments)}g.shareIGPostAsSecureAttachment=a}),98);
__d("IGDSecureShareSheetCommentTextInput.react",["IGDSBox.react","IGDSTextInput.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useImperativeHandle,k=b.useState,l={commentTextInput:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transition:"x13vyecm",$$css:!0},hiddenCommentTextInput:{height:"xqtp20y",visibility:"xlshs6z",$$css:!0},visibleCommentTextInput:{height:"x5kalc8",visibility:"xnpuxes",$$css:!0}};function a(a,b){a=a.isHidden;a=a===void 0?!1:a;var e=k(""),f=e[0],g=e[1];e=i(function(a){g(a.target.value)},[]);j(b,function(){return{getComment:function(){return f}}});return h.jsx(c("IGDSBox.react"),{children:h.jsx(c("IGDSTextInput.react"),{backgroundColor:"transparent",name:"shareCommentText",onChange:e,placeholder:d("PolarisDirectStrings").COMMENT_INPUT_PLACEHOLDER,style:"borderless",value:f,xstyle:[l.commentTextInput,a?l.hiddenCommentTextInput:l.visibleCommentTextInput]})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("IGDSecureShareSheetUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];var f=babelHelpers["extends"]({},e);f.candidate.id=e.candidate.igid;b.set(e.candidate.igid,f)}return b}f.getIGDCandidatesWithIGIDs=a}),66);
__d("useShareSheetSendPostToOpenRecipients",["PolarisDirectActionSendPostToUsers","PolarisReactRedux","useMaybeLogInstagramAdDirectReshareSend","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("usePolarisMQTT")(),e=d("PolarisReactRedux").useDispatch(),f=c("useMaybeLogInstagramAdDirectReshareSend")(a);return c("useStableCallback")(function(c,g){e(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:(g=g)!=null?g:void 0,mediaId:String(a.id),mediaOverlayInfo:a.mediaOverlayInfo,mqtt:b,recipients:c}));f()})}g["default"]=a}),98);
__d("useShareSheetSendPostToSecureRecipients",["FBLogger","IGDAWShareAttachment","PolarisDirectStrings","PolarisReactRedux","PolarisToastActions","Promise","asyncToGeneratorRuntime","polarisUserSelectors","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("PolarisReactRedux").useDispatch(),f=d("PolarisReactRedux").useSelector(function(b){return d("polarisUserSelectors").getUserById(b,(b=(b=a.owner)==null?void 0:b.id)!=null?b:"")});return c("useStableCallback")(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(g,h){try{yield b("Promise").allSettled(Array.from(g.values()).map(function(b){return d("IGDAWShareAttachment").shareIGPostAsSecureAttachment(a,f,b,h)})),e(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").SENT_TOAST_TEXT}))}catch(a){c("FBLogger")("igd_web_on_msgr").warn("useShareSheetSendPostToSecureRecipients: Error has occured sharing secure attachment.",a.message)}});return function(a,b){return g.apply(this,arguments)}}())}g["default"]=a}),98);
__d("useShareSheetSendStoryToOpenRecipients",["PolarisDirectActionShareStory","PolarisReactRedux","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisMQTT")(),b=d("PolarisReactRedux").useDispatch();return c("useStableCallback")(function(c,e,f,g){var h,i="";h=(h=c.owner)==null?void 0:h.id;h!=null&&(i=c.id+"_"+h);b(d("PolarisDirectActionShareStory").shareStory(a,f,e,i,g))})}g["default"]=a}),98);
__d("useShareSheetSendPostToRecipients",["FBLogger","IGDSecureShareSheetUtils","Promise","asyncToGeneratorRuntime","react","useShareSheetSendPostToOpenRecipients","useShareSheetSendPostToSecureRecipients","useShareSheetSendStoryToOpenRecipients"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,e){var f=c("useShareSheetSendStoryToOpenRecipients")(),g=c("useShareSheetSendPostToOpenRecipients")(a),i=c("useShareSheetSendPostToSecureRecipients")(a);return h(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h,j){var k=h.openRecipients;h=h.secureRecipients;if(k!=null){k=d("IGDSecureShareSheetUtils").getIGDCandidatesWithIGIDs(k);a.productType==="story"&&e!=null?f(a,e,k,j):g(k,j)}k=[];h!=null&&k.push(i(h,j));try{yield b("Promise").allSettled(k)}catch(a){c("FBLogger")("igd_web_on_msgr").warn("IGDSecureShareSheet: Error has occured sharing post/story to recipients.",a.message)}});return function(a,b){return h.apply(this,arguments)}}(),[a,e,g,i,f])}g["default"]=a}),98);
__d("IGDSecureShareSheet.react",["FBLogger","IGDAWContactSearch.react","IGDSBox.react","IGDSButton.react","IGDSDivider.react","IGDSecureShareSheetCommentTextInput.react","IGDSecureShareSheetHeader.react","PolarisDirectActionInitInbox","PolarisDirectLogger","PolarisDirectStrings","PolarisReactRedux","PolarisToastActions","isStringNullOrEmpty","promiseDone","react","usePolarisAnalyticsContext","usePolarisSelector","useShareSheetSendPostToRecipients"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.onClose,e=a.onShareSubmit,f=a.post,g=a.reelId;a=a.searchType;var m=c("usePolarisAnalyticsContext")(),n=k(null),o=l(!1),p=o[0],q=o[1];o=l(new Map());var r=o[0];o=o[1];var s=d("PolarisReactRedux").useDispatch(),t=c("usePolarisSelector")(function(a){return a.direct.inboxLoaded});j(function(){t||s(d("PolarisDirectActionInitInbox").initInbox())},[s,t]);var u=c("useShareSheetSendPostToRecipients")(f,g);f=i(function(){var a;q(!0);var f=new Map(),g=new Map();r.forEach(function(a){a.candidate.isE2EE?g.set(a.candidate.id,a):c("isStringNullOrEmpty")(a.candidate.igid)||f.set(a.candidate.igid,a)});d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectShareSheet","share_sheet_send",{referral:m});c("promiseDone")(u({openRecipients:f,secureRecipients:g},(a=n.current)==null?void 0:a.getComment()),function(){q(!1),e==null?void 0:e()},function(a){q(!1),c("FBLogger")("igd_web_on_msgr").mustfix("Error sharing attachment to users in sharesheet:"+a.message),s(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))});b()},[m,b,s,e,r,u]);g=r.size!==0;return h.jsxs(c("IGDSBox.react"),{flex:"grow",children:[h.jsx(c("IGDSecureShareSheetHeader.react"),{onCloseClick:b}),h.jsx(c("IGDSBox.react"),{flex:"grow",children:h.jsx(c("IGDAWContactSearch.react"),{includeGroupSearch:!0,maxRecipients:32,recipients:r,searchType:a,setRecipients:o})}),h.jsx(c("IGDSDivider.react"),{variant:"elevated"}),h.jsx(c("IGDSecureShareSheetCommentTextInput.react"),{isHidden:!g,ref:n}),h.jsx(c("IGDSBox.react"),{margin:4,marginTop:0,children:h.jsx(c("IGDSButton.react"),{fullWidth:!0,isDisabled:!g,isLoading:p,label:r.size<2?d("PolarisDirectStrings").SEND_BUTTON_STRING:d("PolarisDirectStrings").SEND_SEPARATELY_BUTTON_STRING,onClick:f})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSecureShareSheetDialog.react",["IGDContactSearchDialogType.flow","IGDSDialog.react","IGDSecureShareSheet.react","PolarisDirectStrings","emptyFunction","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={dialogContainer:{display:"x78zum5",$$css:!0}};function a(a){var b=a.post,e=a.searchType,f=a.reelId,g=a.onShareSubmit;g=g===void 0?c("emptyFunction"):g;a=a.onClose;a=a===void 0?c("emptyFunction"):a;var j=c("useMatchMedia")("(max-width: 736px)");return!b.id?null:h.jsx(c("IGDSDialog.react"),{enablePopInAnimation:!0,fixedHeight:!0,fixedWidth:!0,innerContentXStyle:i.dialogContainer,label:d("PolarisDirectStrings").SHARE_TITLE,onClose:a,size:j?"fullscreen":"large",children:h.jsx(c("IGDSecureShareSheet.react"),{onClose:a,onShareSubmit:g,post:b,reelId:f,searchType:(j=d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.cast(e))!=null?j:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastDirectSecureShareSheet.react",["IGDSecureShareSheetDialog.react","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.onClose,d=a.post;a=a.reelId;i(function(){c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_modal_shown")},[]);var e=function(){c("QPLUserFlow").endCancel(c("qpl")._(379205139,"1723")),b()},f=function(){c("QPLUserFlow").endSuccess(c("qpl")._(379205139,"1723")),b()};return h.jsx(c("IGDSecureShareSheetDialog.react"),{onClose:e,onShareSubmit:f,post:d,reelId:a,searchType:"sharesheet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():typeof i==="function"&&i.amd?i(c):(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);/*FB_PKG_DELIM*/
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[!0,!0,!1],d[3]=g[0],d[4]=g[1],d[5]=g[2],g):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(g=[!0,!1,!1],d[7]=g[0],d[8]=g[1],d[9]=g[2],g):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?f:d[12])===f||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(e=[!1,!1,!1],d[16]=e[0],d[17]=e[1],d[18]=e[2],e):(g=[!0,!1,!0],d[16]=g[0],d[17]=g[1],d[18]=g[2],g),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),e=[d[13],d[14],d[15]],d[7]=e[0],d[8]=e[1],d[9]=e[2],e),g=[d[7],d[8],d[9]],d[3]=g[0],d[4]=g[1],d[5]=g[2],g)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[11]=!1:(e=b.item,d[11]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[11]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([64,1083495711]),d[6]=c.i64.cast([0,0]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,8650752]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[8]:d[5],capabilities2:d[3]?d[9]:d[6],capabilities3:d[3]?d[10]:d[7],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],d[11]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[11])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[11],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1,!1)},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("BadgeCheckmarkFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-98 -917)",children:h.jsx("path",{d:"m106.853 922.354-3.5 3.5a.499.499 0 0 1-.706 0l-1.5-1.5a.5.5 0 1 1 .706-.708l1.147 1.147 3.147-3.147a.5.5 0 1 1 .706.708m3.078 2.295-.589-1.149.588-1.15a.633.633 0 0 0-.219-.82l-1.085-.7-.065-1.287a.627.627 0 0 0-.6-.603l-1.29-.066-.703-1.087a.636.636 0 0 0-.82-.217l-1.148.588-1.15-.588a.631.631 0 0 0-.82.22l-.701 1.085-1.289.065a.626.626 0 0 0-.6.6l-.066 1.29-1.088.702a.634.634 0 0 0-.216.82l.588 1.149-.588 1.15a.632.632 0 0 0 .219.819l1.085.701.065 1.286c.014.33.274.59.6.604l1.29.065.703 1.088c.177.27.53.362.82.216l1.148-.588 1.15.589a.629.629 0 0 0 .82-.22l.701-1.085 1.286-.064a.627.627 0 0 0 .604-.601l.065-1.29 1.088-.703a.633.633 0 0 0 .216-.819"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometPageVerificationIcon.react",["fbt","BadgeCheckmarkFilled12.svg.react","TetraIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isInverted,d=a.size;a=a.verificationBadge;var e=null,f=12,g=c("BadgeCheckmarkFilled12.svg.react"),j=h._("Conta verificada");d==="large"&&(f=16);if(b===!0)e=i.jsx(c("TetraIcon.react"),{alt:j,color:"white",icon:g,size:f});else switch(a){case"BLUE_VERIFIED":e=i.jsx(c("TetraIcon.react"),{alt:j,color:"highlight",icon:g,size:f});break;case"GRAY_VERIFIED":e=i.jsx(c("TetraIcon.react"),{alt:j,color:"secondary",icon:g,size:f});break}return e!=null?i.jsx("span",{className:"x3nfvp2 x11njtxf",children:e}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAvatarGlimmer.bs",["IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{position:"x1n2onr6",$$css:!0},glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function j(a,b){if(b==="tiny")return"32px";if(b==="medium")if(a)return"32px";else return"44px";else if(b==="XXL")if(a)return"56px";else return"96px";else if(b==="micro")return"14px";else return"56px"}function a(a){var b=a.isMobile;b=b===void 0?!1:b;a=a.size;b=j(b,a);return h.jsx("div",{className:"x1n2onr6",style:{height:b,width:b},children:h.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:i.glimmer})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreCallPanoFilled24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M18.227 22.912c-4.913 0-9.286-3.627-11.486-5.828C4.486 14.83.731 10.291.921 5.231a3.289 3.289 0 0 1 .908-2.138 17.116 17.116 0 0 1 1.865-1.71 2.308 2.308 0 0 1 3.004.174 13.283 13.283 0 0 1 3.658 5.325 2.551 2.551 0 0 1-.19 1.941l-.455.853a.463.463 0 0 0-.024.387 7.57 7.57 0 0 0 4.077 4.075.46.46 0 0 0 .386-.024l.853-.455a2.553 2.553 0 0 1 1.94-.19 13.278 13.278 0 0 1 5.326 3.658 2.309 2.309 0 0 1 .174 3.003 17.319 17.319 0 0 1-1.71 1.866 3.29 3.29 0 0 1-2.138.91 10.27 10.27 0 0 1-.368.006Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreVideoChatFilled24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M21.259 5.935q-.401.404-.877.88a2.998 2.998 0 0 0-.88 2.121v6.18a3 3 0 0 0 .878 2.121l.879.881A1.653 1.653 0 0 0 24 16.953V7.101a1.653 1.653 0 0 0-2.742-1.166Zm-7.075-3.408H3.818A3.823 3.823 0 0 0-.001 6.345v11.364a3.823 3.823 0 0 0 3.819 3.818h10.366a3.823 3.823 0 0 0 3.818-3.818V6.345a3.823 3.823 0 0 0-3.818-3.818Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDJoinCallButton.react",["FBLogger","I64","LSMessagingThreadTypeUtil","MWPActor.react","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisIGCoreCallPanoFilled24Icon","PolarisIGCorePressable","PolarisIGCoreText","PolarisIGCoreVideoChatFilled24Icon","ReQL","ReQLSuspense","cr:1009","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.isVideo,g=e===void 0?!1:e,i=a.serverInfoData,j=a.threadKey;e=a.threadType;var k=d("LSMessagingThreadTypeUtil").isSecure(e),l=c("useReStore")(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("ig_thread_info")).getKeyRange(j).map(function(a){return a.igThreadId})},[l,j],f.id+":102"),n=b("cr:1009")==null?void 0:b("cr:1009").useStartCallCallback(),o=d("MWPActor.react").useActor();a=function(){var a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(l.table("mi_act_mapping_table")).getKeyRange(j).map(function(a){return a.jid}),f.id+":115"),b=d("ReQLSuspense").toArray(d("ReQL").leftJoin(d("ReQL").fromTableAscending(l.table("participants")).getKeyRange(j).filter(function(a){return!d("I64").equal(a.contactId,o)}),d("ReQL").fromTableAscending(l.table("ig_contact_info"))).map(function(a){a[0];a=a[1];return a}),f.id+":120");b=(b=b[0])==null?void 0:b.contactId;d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","join_button_click",{has_video:g,ig_thread_id:m,server_info_data:i});k&&n?c("promiseDone")(n({existingCall:{call_state:null,initiator_fbid:null,server_info_data:i},extra:{igThreadId:m},invitees:[],isE2eeMandated:a!==void 0,mediaType:g?"video":"audio",thread:{e2eeThreadID:a?d("I64").to_string(a):void 0,id:d("I64").to_string(j),secureOneToOneThreadPeerId:b?d("I64").to_string(b):void 0,type:2},trigger:"armadillo_direct_join_button"})):m!=null?d("PolarisCallNavigator").launchCall(m,g,i):c("FBLogger")("ig_web").mustfix("Unable to join call - missing thread id")};return h.jsx("div",{className:"x6s0dn4 x78zum5 x1gslohp xw3qccf x12nagc xsgj6o6",children:h.jsx(c("PolarisIGCorePressable"),{onPress:a,children:h.jsxs("div",{className:"x1836swx x107yiy2 xv8uw2v x1tfwpuw x2g32xy x78zum5 xazcve0 xwib8y2 xn6708d x1ye3gou x1y1aw1k xtvhhri",children:[h.jsx("div",{className:"x6s0dn4 x78zum5 xw3qccf",children:g?h.jsx(c("PolarisIGCoreVideoChatFilled24Icon"),{alt:d("PolarisDirectStrings").VIDEO_CALL_STRING,color:"web-always-white",size:14}):h.jsx(c("PolarisIGCoreCallPanoFilled24Icon"),{alt:d("PolarisDirectStrings").AUDIO_CALL_STRING,color:"web-always-white",size:14})}),h.jsx(c("PolarisIGCoreText").Body2Emphasized,{color:"web-always-white",display:"truncated",weight:"semibold",zeroMargin:!0,children:d("PolarisDirectStrings").JOIN_STRING})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDIsCompactModeContext.react",["react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j="900px",k=d(!1);function a(a){a=a.children;var b=c("useMatchMedia")("(max-width: "+j+")");return h.jsx(k.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.IGDIsCompactModeContextProvider=a;g.useIsCompactMode=b}),98);
__d("PolarisIGCoreArrowLeftPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"2.909",x2:"22.001",y1:"12.004",y2:"12.004"}),h.jsx("polyline",{fill:"none",points:"9.276 4.726 2.001 12.004 9.276 19.274",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMobileNavigationButton.react",["fbt","IGDSIconButton.react","PolarisIGCoreArrowLeftPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Voltar"),k={root:{marginEnd:"xq8finb",$$css:!0}};function a(a){a=a.onClick;return i.jsx(c("IGDSIconButton.react"),{onClick:a,padding:0,xstyle:k.root,children:i.jsx(c("PolarisIGCoreArrowLeftPanoOutlineIcon"),{alt:j,color:"ig-primary-text",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDListCellPlaceholder.react",["IGDAvatarGlimmer.bs","IGDIsCompactModeContext.react","IGDSGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={compactRoot:{display:"x78zum5",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},root:{display:"x78zum5",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",width:"xxsgkw5",$$css:!0},subtitleGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"x1oux285",$$css:!0},textContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",justifyContent:"xl56j7k",paddingStart:"x1ye3gou",$$css:!0},textGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xmix8c7",marginBottom:"x1e56ztr",width:"x1f9tj09",$$css:!0}};function a(a){a=a.avatarSize;a=a===void 0?"large":a;var b=d("IGDIsCompactModeContext.react").useIsCompactMode();return h.jsxs("div",{className:c("stylex")(b?i.compactRoot:i.root),children:[h.jsx(c("IGDAvatarGlimmer.bs"),{size:a}),!b&&h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k x1ye3gou",children:[h.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:i.textGlimmer}),h.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:i.subtitleGlimmer})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDDeviceTypeProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");c=b.createContext;var h=b.createElement,i=b.useMemo,j=c({isDesktop:!0,isMobile:!1});function a(a){var b=a.children,c=a.isMobile;a=i(function(){return{isDesktop:!c,isMobile:c}},[c]);return h(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";g.context=j;g.IGDDeviceTypeProvider=a}),98);
__d("useIGDDeviceType",["IGDDeviceTypeProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(d("IGDDeviceTypeProvider.react").context)}g.useIGDDeviceType=a}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),b);if(b===!0)if(e!=null)return h.jsx("span",{className:"xurb0ha",children:e});else if(a!=null)return h.jsx("span",{className:"xurb0ha",children:h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSAvatar.react",["CometPressable.react","IGDSConstants","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",cursor:"x1ypdohk",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},container:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6","::after_borderTopColor":"xzfakq","::after_borderEndColor":"x7imw91","::after_borderBottomColor":"x1j8hi7x","::after_borderStartColor":"x5aw536","::after_borderTopStartRadius":"x194ut8o","::after_borderTopEndRadius":"x1vzenxt","::after_borderBottomEndRadius":"xd7ygy7","::after_borderBottomStartRadius":"xt298gk","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"xoiy6we","::after_borderEndWidth":"x15xhmf9","::after_borderBottomWidth":"x1qj619r","::after_borderStartWidth":"x15tem40","::after_bottom":"x1xrz1ek","::after_content":"x1s928wv","::after_end":"x1n449xj","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x162n7g1","::after_top":"x1m1drc7",$$css:!0},root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function j(a){var b=a.children,d=a.href,e=a.onClick,f=a.role,g=a.size,j=a.target;a=a.xstyle;return h.jsx(c("CometPressable.react"),{linkProps:d!=null?{target:j,url:d}:void 0,onPress:e,overlayDisabled:!0,role:f,style:{height:c("IGDSConstants").AVATAR_SIZES[g],width:c("IGDSConstants").AVATAR_SIZES[g]},xstyle:[i.button,i.container,a],children:b})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.alt,d=a.href,e=a.onClick,f=a.role,g=a.size;g=g===void 0?"medium":g;var k=a.src,l=a.target;a=a.xstyle;var m=!c("isStringNullOrEmpty")(k);return d!=null||e?h.jsx(j,{href:d,onClick:e,role:f,size:g,target:l,xstyle:a,children:m?h.jsx("img",{alt:b,className:"x5yr21d xh8yej3",height:c("IGDSConstants").AVATAR_SIZES[g],src:k,width:c("IGDSConstants").AVATAR_SIZES[g]}):null}):h.jsx("span",{className:c("stylex")(i.container,a),style:{height:c("IGDSConstants").AVATAR_SIZES[g],width:c("IGDSConstants").AVATAR_SIZES[g]},children:m?h.jsx("img",{alt:b,className:"x5yr21d xh8yej3",height:c("IGDSConstants").AVATAR_SIZES[g],src:k,width:c("IGDSConstants").AVATAR_SIZES[g]}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDContactSearchDialogType.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({OMNIPICKER:"omnipicker",SHARESHEET:"sharesheet",FORWARD_MESSAGE:"forward_message"});f.IGDContactSearchDialogType=a}),66);
__d("IGDSReplyPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M14 8.999H4.413l5.294-5.292a1 1 0 1 0-1.414-1.414l-7 6.998c-.014.014-.019.033-.032.048A.933.933 0 0 0 1 9.998V10c0 .027.013.05.015.076a.907.907 0 0 0 .282.634l6.996 6.998a1 1 0 0 0 1.414-1.414L4.415 11H14a7.008 7.008 0 0 1 7 7v3.006a1 1 0 0 0 2 0V18a9.01 9.01 0 0 0-9-9Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisDataControlsSupportRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisDataControlsSupportRoot.react").__setRef("PolarisDataControlsSupportRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCreateAdvancedSettingsRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateAdvancedSettingsRoot.react").__setRef("PolarisCreateAdvancedSettingsRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCreateDetailsRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateDetailsRoot.react").__setRef("PolarisCreateDetailsRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCreateLocationRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateLocationRoot.react").__setRef("PolarisCreateLocationRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCreateStoryRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateStoryRoot.react").__setRef("PolarisCreateStoryRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCreateStyleRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateStyleRoot.react").__setRef("PolarisCreateStyleRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisCreateTagRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateTagRoot.react").__setRef("PolarisCreateTagRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisDataDownloadRequestConfirmRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisDataDownloadRequestConfirmRoot.react").__setRef("PolarisDataDownloadRequestConfirmRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisDataDownloadRequestRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisDataDownloadRequestRoot.react").__setRef("PolarisDataDownloadRequestRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisTabbedFeedHeader.react",["IGDSDivider.react","IGDSTab.react","IGDSTabGroup.react","PolarisDSACommonStrings","PolarisNavigationLayoutContext","PolarisPanavisionQEHelpers","PolarisScrollawayHeaderWrapper.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={hasBottomNavTopMargin:{marginTop:"xvkph5b",$$css:!0},headerFamiliarFeed:{maxWidth:"x1mcj5oc",$$css:!0},headerNotFamiliarFeed:{maxWidth:"x1rva566",$$css:!0},headerSpacingFamiliarFeed:{marginTop:"x1muwf4h",$$css:!0},headerSpacingNotFamilarFeed:{marginTop:"x1pdq3kb",$$css:!0},headerTopMargin:{marginTop:"x11fxgd9",$$css:!0},root:{width:"xh8yej3",$$css:!0}};function a(a){var b=a.currentFeed;a=a.onChange;var e=i(c("PolarisNavigationLayoutContext"));e=e.navigationPosition;e=e==="bottom";var f=d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisScrollawayHeaderWrapper.react"),{xstyle:[j.root,f?j.headerFamiliarFeed:j.headerNotFamiliarFeed],children:h.jsxs("div",{className:c("stylex")(j.headerTopMargin,e&&j.hasBottomNavTopMargin),children:[h.jsxs(c("IGDSTabGroup.react"),{leftAlign:!0,onChange:a,value:b,children:[h.jsx(c("IGDSTab.react"),{label:d("PolarisDSACommonStrings").FOR_YOU_HEADER,leftAlign:!0,size:"label",value:"home"}),h.jsx(c("IGDSTab.react"),{label:d("PolarisDSACommonStrings").FOLLOWING_HEADER,leftAlign:!0,size:"label",value:"following"})]}),h.jsx(c("IGDSDivider.react"),{})]})}),h.jsx("div",{className:c("stylex")(f?j.headerSpacingFamiliarFeed:j.headerSpacingNotFamilarFeed)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLoggedOutMobileLandingPageUpsell.react",["cx","fbt","ix","IGCoreImage","IGDSBox.react","PolarisAPIHelpers","PolarisAppInstallStrings","PolarisIGCoreButton","PolarisIGCoreText","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutCtaLogger","PolarisLoggedOutLoginOrSignupRow.react","PolarisLoggedOutUpsellStrings","PolarisMobileNavLoggedOutUtils","PolarisNavigationActionConstants","PolarisODS","PolarisOpenInApp","PolarisRoutes","getRGBString","react","usePolarisGetDeepLink"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");b=d("react");var l=b.useCallback,m=b.useEffect;function a(a){var b=a.navSelection,e=c("usePolarisGetDeepLink")(),f=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),g;switch(b){case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_DIRECT:g=d("PolarisRoutes").DIRECT_INBOX;break;case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_OWN_PROFILE:g=d("PolarisRoutes").SELF_PROFILE_PATH;break;case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_SEARCH_EXPLORE:g=d("PolarisRoutes").DISCOVER_MEDIA_PATH;break;default:g=d("PolarisRoutes").FEED_PATH}m(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"mobile_landing_upsell",ctaVersion:f?"instagramlitecarbon":"",eventName:"impression"})},[f]);a=l(function(a){a.preventDefault();c("PolarisODS").incr("web.app.install.click");d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"mobile_landing_upsell",ctaVersion:f?"instagramlitecarbon":"",eventName:"app_open_click"});a={};a[d("PolarisMobileNavLoggedOutUtils").NAV_BAR_QUERY_PARAM]=d("PolarisMobileNavLoggedOutUtils").getQueryParam(b);var g=e(),h=g.android,i=g.ios;g=g.originalPath;d("PolarisOpenInApp").openInApp(h,i,d("PolarisAPIHelpers").appendQueryParameters(g,a),null,f)},[e,f,b]);var h=function(){switch(b){case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_DIRECT:return d("PolarisLoggedOutUpsellStrings").getLandingUpsellDirectTabHeader(c("getRGBString")("gradient-orange"));case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_OWN_PROFILE:return d("PolarisLoggedOutUpsellStrings").getLandingUpsellProfileTabHeader(c("getRGBString")("gradient-lavender"));case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_SEARCH_EXPLORE:return d("PolarisLoggedOutUpsellStrings").getLandingUpsellSearchTabHeader(c("getRGBString")("gradient-pink"));default:return null}},n=function(){switch(b){case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_DIRECT:return d("PolarisLoggedOutUpsellStrings").LANDING_UPSELL_DIRECT_TAB_BODY;case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_OWN_PROFILE:return d("PolarisLoggedOutUpsellStrings").LANDING_UPSELL_PROFILE_TAB_BODY;case d("PolarisNavigationActionConstants").NAVIGATION_SECTION_SEARCH_EXPLORE:return d("PolarisLoggedOutUpsellStrings").LANDING_UPSELL_SEARCH_TAB_BODY;default:return null}};return!new Set([d("PolarisNavigationActionConstants").NAVIGATION_SECTION_DIRECT,d("PolarisNavigationActionConstants").NAVIGATION_SECTION_OWN_PROFILE,d("PolarisNavigationActionConstants").NAVIGATION_SECTION_SEARCH_EXPLORE]).has(b)?k.jsx("div",{"data-testid":void 0}):k.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"grow",justifyContent:"center",marginBottom:14,maxWidth:350,position:"relative",children:k.jsxs(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:[b===d("PolarisNavigationActionConstants").NAVIGATION_SECTION_DIRECT&&k.jsx(c("IGCoreImage"),{alt:i._("Ilustra\u00e7\u00e3o do Direct"),src:{light:j("261865")}}),b===d("PolarisNavigationActionConstants").NAVIGATION_SECTION_OWN_PROFILE&&k.jsx(c("IGCoreImage"),{alt:i._("Ilustra\u00e7\u00e3o do perfil"),src:{light:j("261866")}}),b===d("PolarisNavigationActionConstants").NAVIGATION_SECTION_SEARCH_EXPLORE&&k.jsx("div",{className:"_a7tk","data-testid":void 0}),k.jsx(c("IGDSBox.react"),{"data-testid":void 0,marginEnd:4,marginStart:4,marginTop:12,position:"relative",children:k.jsx(c("PolarisIGCoreText"),{Element:"h1",size:"headline1",textAlign:"center",weight:"medium",children:h()})}),k.jsxs(c("IGDSBox.react"),{"data-testid":void 0,flex:"grow",position:"relative",width:"100%",children:[k.jsx(c("IGDSBox.react"),{marginEnd:4,marginStart:4,marginTop:4,position:"relative",children:k.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",textAlign:"center",children:n()})}),k.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",children:k.jsx(c("PolarisIGCoreButton"),{borderless:!1,dangerouslySetClassName:{__className:"_aazu"},fullWidth:!0,large:!1,onClick:a,children:k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",position:"relative",children:d("PolarisAppInstallStrings").GET_THE_APP_V3})})}),k.jsx(c("PolarisLoggedOutLoginOrSignupRow.react"),{ctaType:"mobile_landing_upsell",loginReturnPath:g,loginSource:"mobile_nav",pageIdentifier:"unifiedHome"})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisRamClassContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext("");g.RamClassContext=b}),98);
__d("PolarisLandingPageMobile.react",["IGDSBox.react","PolarisAuthFormCard.react","PolarisFooter.react","PolarisLandingPageModals.react","PolarisLandingPageShell.react","PolarisLandingPageWrapper.react","PolarisLoggedOutMobileLandingPageUpsell.react","PolarisMobileNavLoggedOutUtils","PolarisNavigationActionConstants","PolarisNavigationActions","PolarisRamClassContext","PolarisReactRedux","PolarisRoutes","browserHistory","react","usePolarisLandingPagePageIdentifier"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={relativePosition:{position:"x1n2onr6",$$css:!0}};function a(a){var b=d("PolarisReactRedux").useDispatch(),e=c("usePolarisLandingPagePageIdentifier")(),f=d("PolarisReactRedux").useSelector(function(a){return a.navigation.navSelection}),g=d("PolarisMobileNavLoggedOutUtils").getTypeFromQueryParam(d("browserHistory").getQuery(d("browserHistory").browserHistory)[d("PolarisMobileNavLoggedOutUtils").NAV_BAR_QUERY_PARAM])!=null,k=d("PolarisMobileNavLoggedOutUtils").shouldUseLoggedOutBottomNav(!0);g=k&&g&&f!==d("PolarisNavigationActionConstants").NAVIGATION_SECTION_LANDING;i(function(){if(k){var a=function(){var a=d("PolarisMobileNavLoggedOutUtils").getTypeFromQueryParam(d("browserHistory").getQuery(d("browserHistory").browserHistory)[d("PolarisMobileNavLoggedOutUtils").NAV_BAR_QUERY_PARAM]);a!=null&&b(d("PolarisNavigationActions").setNavSelection(a))},c=d("browserHistory").browserHistory.listen(function(c,e){e==="POP"&&(c.pathname===d("PolarisRoutes").LANDING_PAGE_PATH?a():c.pathname===d("PolarisRoutes").POLARIS_CLIPS_TAB_PAGE_PATH?b(d("PolarisNavigationActions").setNavSelection(d("PolarisNavigationActionConstants").NAVIGATION_SECTION_REELS)):b(d("PolarisNavigationActions").setNavSelection(d("PolarisNavigationActionConstants").NAVIGATION_SECTION_HOME)))});a();return function(){c()}}return void 0},[b,k]);return h.jsxs(d("PolarisRamClassContext").RamClassContext.Provider,{value:a.ramClass,children:[h.jsx(c("PolarisLandingPageShell.react"),{footerVariant:g?c("PolarisFooter.react").VARIANTS.none:c("PolarisFooter.react").VARIANTS.centered,hideFooter:!0,hideLanguageSwitcher:g,hideNavigation:!k,isUsingBottomNav:k,pageIdentifier:e,pushFooterOutsideViewport:!0,children:h.jsx(c("PolarisLandingPageWrapper.react"),{xstyle:j.relativePosition,children:g&&f?h.jsx(c("PolarisLoggedOutMobileLandingPageUpsell.react"),{navSelection:f}):h.jsx(c("IGDSBox.react"),{direction:"column",position:"relative",width:"100%",children:h.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:h.jsx(c("PolarisAuthFormCard.react"),{isCaptchaEnabled:a.isCaptchaEnabled,pageIdentifier:e})})})})}),h.jsx(c("PolarisLandingPageModals.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfilePageContainerDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisProfilePageContainer.react").__setRef("PolarisProfilePageContainerDeferred.react"));b=a;g["default"]=b}),98);
__d("PolarisPostFastOptionViewAdDebugTool.react",["fbt","IGCoreDialog","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.onClick;return i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:h._("[Meta-only] Ver ferramenta de depura\u00e7\u00e3o de an\u00fancios")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostModalHelpers","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=!1,f=!1,g=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(a.analyticsContext)==="profilePageModal";b=((b=a.modalEntryPath)==null?void 0:b.endsWith("/"+d("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0;g&&!b&&(e=!0);g=d("usePolarisPost").usePost(a.postId,function(a){return a.isVideo});b&&g===!0&&(f=!0);return h.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:f,skipMediaInfo:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFairplayLicenseHandler",["EventEmitter","FBLogger","JSResourceForInteraction","Promise","SubscriptionsHandler","cr:1335238","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){var h=c("JSResourceForInteraction")("XHRRequest").__setRef("VideoPlayerFairplayLicenseHandler"),i=window.WebKitMediaKeys;a=function(a){babelHelpers.inheritsLoose(d,a);function d(d,e,f,g){var h;h=a.call(this)||this;h.$VideoPlayerFairplayLicenseHandler5=new(c("SubscriptionsHandler"))();h.$VideoPlayerFairplayLicenseHandler1=e;h.$VideoPlayerFairplayLicenseHandler2=d;h.$VideoPlayerFairplayLicenseHandler3=f;h.$VideoPlayerFairplayLicenseHandler4=g;h.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("cr:1335238").listen(e,"webkitneedkey",function(a){try{h.$VideoPlayerFairplayLicenseHandler6(a.initData)}catch(a){h.$VideoPlayerFairplayLicenseHandler7()}}));return h}var e=d.prototype;e.destroy=function(){this.$VideoPlayerFairplayLicenseHandler5.release(),this.$VideoPlayerFairplayLicenseHandler1=null,this.$VideoPlayerFairplayLicenseHandler4=null};e.$VideoPlayerFairplayLicenseHandler6=function(a){var d=this,e=this.$VideoPlayerFairplayLicenseHandler1;if(e==null)return;var f=new Uint16Array(a.buffer);f=String.fromCharCode.apply(null,f).substring(8);var g;if(e.webkitKeys==null){if(i!=null&&i.isTypeSupported("com.apple.fps.1_0","video/mp4"))g="com.apple.fps.1_0";else throw c("unrecoverableViolation")("Key System not supported","FairplayLicenseHandler");e.webkitSetMediaKeys(new i(g))}g=e.webkitKeys;if(g==null)throw c("unrecoverableViolation")("Could not create MediaKeys","FairplayLicenseHandler");e=this.concatInitDataIdAndCertificate(a,f);a=g.createSession("video/mp4",e);if(!a)throw c("unrecoverableViolation")("Could not create key session","FairplayLicenseHandler");a.contentId=f;this.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("cr:1335238").listen(a,"webkitkeymessage",function(a){d.$VideoPlayerFairplayLicenseHandler8(a.target,a.message)}),b("cr:1335238").listen(a,"webkitkeyerror",function(a){d.emit("error",{error:"Fairplay webkitkeyerror"})}))};e.concatInitDataIdAndCertificate=function(a,b){var c=new Uint16Array(new ArrayBuffer(b.length*2));for(var d=0,e=b.length;d<e;d++)c[d]=b.charCodeAt(d);b=window.atob(this.$VideoPlayerFairplayLicenseHandler2);d=new Uint8Array(new ArrayBuffer(b.length));for(e=0;e<b.length;e++)d[e]=b.charCodeAt(e);e=0;b=new ArrayBuffer(a.byteLength+4+c.byteLength+4+d.byteLength);var f=new DataView(b),g=new Uint8Array(b,e,a.byteLength);g.set(a);e+=a.byteLength;f.setUint32(e,c.byteLength,!0);e+=4;g=new Uint16Array(b,e,c.byteLength/2);g.set(c);e+=g.byteLength;f.setUint32(e,d.byteLength,!0);e+=4;a=new Uint8Array(b,e,d.byteLength);a.set(d);return new Uint8Array(b,0,b.byteLength)};e.$VideoPlayerFairplayLicenseHandler8=function(a,c){var d=this,e=window.btoa(String.fromCharCode.apply(null,new Uint8Array(c)));if(a.contentId==null||a.contentId===""){this.$VideoPlayerFairplayLicenseHandler9();return}var f=this.$VideoPlayerFairplayLicenseHandler4[a.contentId];if(f==null){this.$VideoPlayerFairplayLicenseHandler10();return}b("Promise").resolve().then(function(){return h.load()}).then(function(b){new b(f).setMethod("POST").setRawData(e).setResponseType("text").setResponseHandler(function(b){d.$VideoPlayerFairplayLicenseHandler11(b,a)}).setRequestHeader("Content-type","application/x-www-form-urlencoded").setErrorHandler(function(){d.$VideoPlayerFairplayLicenseHandler12()}).send()})["catch"](function(){d.$VideoPlayerFairplayLicenseHandler12()})};e.$VideoPlayerFairplayLicenseHandler11=function(a,b){var d=!1;try{var e=window.atob(a),f=new Uint8Array(new ArrayBuffer(e.length*2));for(var g=0,h=e.length;g<h;g++){var i=e.charCodeAt(g);(i<0||i>255)&&(d=!0);f[g]=i}b.update(f)}catch(b){i=b;if(c("gkx")("3318")){g=typeof a!=="string"?"response was "+typeof a:a===""?"response was empty string":d?"key character overflow":"key potentially malformed";e=c("FBLogger")("VideoPlayerFairplayLicenseHandler");i instanceof Error&&(e=e.catching(i));e.warn("Fairplay License update failed: %s - %s",String(i),g);this.emit("error",{error:"Fairplay License update failed"})}else throw i}};e.$VideoPlayerFairplayLicenseHandler7=function(){this.emit("error",{error:"Fairplay Key creation failed"})};e.$VideoPlayerFairplayLicenseHandler10=function(){this.emit("error",{error:"Fairplay Content ID not found"})};e.$VideoPlayerFairplayLicenseHandler9=function(){this.emit("error",{error:"Fairplay Content ID empty"})};e.$VideoPlayerFairplayLicenseHandler12=function(){this.emit("error",{error:"Fairplay License fetch failed"})};d.newIfSupported=function(a,b,c,e){return i!=null?new d(a,b,c,e):null};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?d:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSLogHistory",["ExecutionEnvironment","performance"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function a(){return h}function b(){h=[]}function d(a,b){var d;c("performance").timing!=null?d=Math.round(c("performance").timing.navigationStart+c("performance").now()):d=Date.now();a=a+" inWorker="+String(c("ExecutionEnvironment").isInWorker);h.push([d.toString(),b,"lightspeed_log","lightspeed_log_event",a].join(" | "))}g.getEntries=a;g.clearEntries=b;g.log=d}),98);
__d("LSJSONOp",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BLOCK:1,LOAD:2,STORE:3,STORE_ARRAY:4,CALL_STORED_PROCEDURE:5,CALL_NATIVE_TYPE_OPERATION:6,CALL_NATIVE_OPERATION:7,LIST:8,UNDEFINED:9,INFINITY:10,NAN:11,RETURN:12,BOOL_TO_STR:13,BLOBS_TO_STRING:14,BLOBS_OF_STRING:15,TO_BLOB:16,I64_OF_FLOAT:17,I64_TO_FLOAT:18,I64_FROM_STRING:19,I64_TO_STRING:20,READ_GK:21,READ_QE:22,IF:23,OR:24,AND:25,NOT:26,IS_NULL:27,ENFORCE_NOT_NULL:28,GENERIC_EQUAL:29,I64_EQUAL:30,BLOB_EQUAL:31,GENERIC_NOT_EQUAL:32,I64_NOT_EQUAL:33,BLOB_NOT_EQUAL:34,GENERIC_GREATER_THAN:35,I64_GREATER_THAN:36,BLOB_GREATER_THAN:37,GENERIC_GREATER_THAN_OR_EQUAL:38,I64_GREATER_THAN_OR_EQUAL:39,BLOB_GREATER_THAN_OR_EQUAL:40,GENERIC_LESS_THAN:41,I64_LESS_THAN:42,BLOB_LESS_THAN:43,GENERIC_LESS_THAN_OR_EQUAL:44,I64_LESS_THAN_OR_EQUAL:45,BLOB_LESS_THAN_OR_EQUAL:46,THROW:47,LOG_CONSOLE:48,LOGGER_LOG:49,NATIVE_OP_ARRAY_CREATE:50,NATIVE_OP_ARRAY_APPEND:51,NATIVE_OP_ARRAY_GET_SIZE:52,NATIVE_OP_MAP_CREATE:53,NATIVE_OP_MAP_GET:54,NATIVE_OP_MAP_SET:55,NATIVE_OP_MAP_KEYS:56,NATIVE_OP_MAP_DELETE:57,NATIVE_OP_MAP_HAS:58,NATIVE_OP_STR_JOIN:59,NATIVE_OP_CURRENT_TIME:60,NATIVE_OP_JSON_STRINGIFY:61,NATIVE_OP_RNG_NUM:62,NATIVE_OP_LOCALIZATION_SUPPORTED:63,NATIVE_OP_LOCALIZATION_SUPPORTED_V2:64,NATIVE_OP_RESOLVE_LOCALIZED:65,NATIVE_OP_RESOLVE_LOCALIZED_V2:66,ADD:68,I64_ADD:69,I64_CAST:70,READ_JUSTKNOB:71});c=a;f["default"]=c}),66);
__d("LSDatascriptJSONEval",["FBLogger","isPromise"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d){if(c("isPromise")(a))return a.then(b,d);try{return b(a)}catch(a){if(d)return d(a);else throw a}}a=function(){function a(a,b,d,e){var f=this;e===void 0&&(e=[]);this.$4={};this.$5=function(a){return h(f.$6(a),function(a){return a},function(b){c("FBLogger")("messenger_web_product").catching(b).mustfix("Error evaluating step op: %s",Array.isArray(a)?a[0]:"<primitive value>");throw b})};this.$1=b;this.$2=a;this.$3=d;for(b=0;b<e.length;b++)this.$4[b]=e[b]}var b=a.prototype;b.eval=function(){return this.$2==null?this.$1.resolve([]):this.$1.resolve(this.$5(this.$2.step))};b.$6=function(a){var b=this;if(!Array.isArray(a))return a;var d=a[0];a=a.slice(1);var e=a;switch(d){case 8:return e.map(this.$5);case 2:return this.$4[e[0]];case 3:return h(this.$5(e[1]),function(a){return b.$4[e[0]]=a});case 4:return h(this.$5(e[2]),function(a){var c=e[0],d=e[1];for(var f=0;f<d;f++,c++)b.$4[c]=a[f];return a});case 12:a=e[0];d=e[1];var f=[];for(a=a;a<d;a++)f[a]=this.$4[a];return f;case 1:var g;a=function(a){g=h(g,function(){return b.$5(e[a])})};for(d=0;d<e.length;d++)a(d);return g;case 5:return(f=this.$1).sp.apply(f,e.map(this.$5));case 6:return(d=this.$1).ntop.apply(d,e.map(this.$5));case 7:return(a=this.$1).nop.apply(a,e.map(this.$5));case 9:return;case 10:return Infinity;case 11:return NaN;case 13:return this.$5(e[0])?"1":"0";case 14:return this.$1.blobs.to_string(this.$5(e[0]));case 15:return this.$1.blobs.of_string(this.$5(e[0]));case 16:return this.$1.blob(this.$5(e[0]));case 17:return this.$1.i64.of_float(this.$5(e[0]));case 18:f=this.$5(e[0]);return f!=null?this.$1.i64.to_float(f):void 0;case 19:return this.$1.i64.from_string(this.$5(e[0]));case 70:return this.$1.i64.cast(this.$5(e[0]));case 20:return this.$1.i64.to_string(this.$5(e[0]));case 21:return(d=this.$3)==null?void 0:(a=d.gk)==null?void 0:a[e[0]];case 22:var i;f=e[0];d=e[1];a=e[2];var j=e[3];i=(i=this.$3)==null?void 0:(i=i.qe)==null?void 0:(i=i[f])==null?void 0:(f=i[d])==null?void 0:f[a];if(i==null)return i;switch(j){case"BOOL":case"STR":return i;case"I64":if(typeof i!=="object")throw c("FBLogger")("messenger_web_product").mustfixThrow("Cannot convert value to string");return this.$1.i64.from_string(i.toString())}return;case 23:if(this.$5(e[0]))return this.$5(e[1]);else if(e[2]!=null)return this.$5(e[2]);return;case 24:return this.$5(e[0])||this.$5(e[1]);case 25:return this.$5(e[0])&&this.$5(e[1]);case 26:return!this.$5(e[0]);case 27:return this.$5(e[0])==null;case 28:return this.$1.notnull(this.$5(e[0]));case 29:return this.$5(e[0])===this.$5(e[1]);case 30:return this.$1.i64.eq(this.$5(e[0]),this.$5(e[1]));case 31:return this.$1.blobs.eq(this.$5(e[0]),this.$5(e[1]));case 32:return this.$5(e[0])!==this.$5(e[1]);case 33:return this.$1.i64.neq(this.$5(e[0]),this.$5(e[1]));case 34:return this.$1.blobs.neq(this.$5(e[0]),this.$5(e[1]));case 35:return this.$5(e[0])>this.$5(e[1]);case 36:return this.$1.i64.gt(this.$5(e[0]),this.$5(e[1]));case 37:return this.$1.blobs.gt(this.$5(e[0]),this.$5(e[1]));case 38:return this.$5(e[0])>=this.$5(e[1]);case 39:return this.$1.i64.ge(this.$5(e[0]),this.$5(e[1]));case 40:return this.$1.blobs.ge(this.$5(e[0]),this.$5(e[1]));case 41:return this.$5(e[0])<this.$5(e[1]);case 42:return this.$1.i64.lt(this.$5(e[0]),this.$5(e[1]));case 43:return this.$1.blobs.lt(this.$5(e[0]),this.$5(e[1]));case 44:return this.$5(e[0])<=this.$5(e[1]);case 45:return this.$1.i64.le(this.$5(e[0]),this.$5(e[1]));case 46:return this.$1.blobs.le(this.$5(e[0]),this.$5(e[1]));case 47:return this.$1["throw"](e[0]);case 48:return this.$1.print(this.$5(e[0]));case 49:d=this.$5(e[0]);f=e[1];a=this.$1.logger(d);switch(f){case"mustfix":return a.mustfix(d);case"info":return a.info(d);case"warn":return a.warn(d);case"debug":return a.debug(d);default:throw c("FBLogger")("messenger_web_product").mustfixThrow("Invalid logger level %s",f)}case 50:return e.length===0?this.$1.createArray():(j=this.$1).createArrayWithElements.apply(j,this.$5(e[0]));case 51:i=this.$5(e[0]);i.push(this.$5(e[1]));return i;case 52:return this.$1.i64.of_int32(this.$5(e[0]).length);case 53:return new this.$1.Map();case 54:return this.$5(e[0]).get(this.$5(e[1]));case 55:return this.$5(e[0]).set(this.$5(e[1]),this.$5(e[2]));case 56:return this.$5(e[0]).keys();case 57:return this.$5(e[0])["delete"](this.$5(e[1]));case 58:return this.$5(e[0]).has(this.$5(e[1]));case 59:return this.$5(e[0]).join(this.$5(e[1])||"");case 60:return this.$1.i64.of_float(Date.now());case 61:return this.$1.toJSON(this.$5(e[0]));case 62:return this.$1.i64.random();case 63:case 64:return!0;case 65:return this.$1.localizeAsync(this.$5(e[0]),this.$5(e[1]));case 66:return this.$1.localizeV2Async(this.$5(e[0]),this.$5(e[1]));case 68:return this.$5(e[0])+this.$5(e[1]);case 69:return this.$1.i64.add(this.$5(e[0]),this.$5(e[1]));case 71:return(a=this.$3)==null?void 0:(d=a.justknob)==null?void 0:d[e[0]]}};return a}();g["default"]=a}),98);
__d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE",["Env","TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";d={createScript:function(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];d.forEach(function(a){if(typeof window!=="undefined"&&typeof window.trustedTypes!=="undefined"&&!window.trustedTypes.isScript(a))throw c("err")("Trusted Function requires TrustedScripts args only.")});var f=d.slice(0,-1).join(","),g=d.pop().toString();return"(function anonymous(\n     "+f+"\n     ) {\n     "+g+"\n     })"}};var h=c("TrustedTypes").createPolicy("unsafe-function-do-not-use",d);function b(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];if(c("TrustedTypes").isSupportedNatively()&&c("Env").useTrustedTypes){var f=h.createScript.apply(h,[""].concat(d));return a.eval(f)}else return babelHelpers.construct(Function,d)}g.TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE=h;g.createTrustedFunction=b}),98);
__d("LSDatascriptEvaluator",["FBLogger","LSDatascriptJSONEval","LSFactory","LSProgramTarget","MWPBumpEntityKey","TrustedTypesNoOpPolicy_DO_NOT_USE","TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=function(b){return function(c,d){var e;return a==null?void 0:(e=a.qe)==null?void 0:(e=e[c])==null?void 0:(c=e[b])==null?void 0:c[d]}},f=new Proxy({getBool:e("fb"),getNumber:e("fb"),getString:e("fb")},{get:function(a,b){return b in a?a[b]:{getBool:e(b),getNumber:e(b),getString:e(b)}}}),g=function(b){var c;return a==null?void 0:(c=a.gk)==null?void 0:c[b]},h={getBool:function(b){var c;return a==null?void 0:(c=a.justknob)==null?void 0:c[b]}};return function(a){var e=d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE").createTrustedFunction(c("TrustedTypesNoOpPolicy_DO_NOT_USE").createScript("gkx"),c("TrustedTypesNoOpPolicy_DO_NOT_USE").createScript("qex"),c("TrustedTypesNoOpPolicy_DO_NOT_USE").createScript("justknobx"),c("TrustedTypesNoOpPolicy_DO_NOT_USE").createScript("return "+b));return e(g,f,h)(c("LSFactory")(a))}}function i(a,b){var d=JSON.parse(b),e=(b=a)!=null?b:{gk:{},justknob:{},qe:{}};return function(a){return new(c("LSDatascriptJSONEval"))(d,c("LSFactory")(a),e).eval()}}function j(a,b,d){if(d===3)try{return i(a,b)}catch(a){c("FBLogger")("messenger_web_product","json_program_parse_error").catching(a).warn("Unable to parse JSON program, falling back to JS program evaluation")}else if(d===1)throw c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow("Received a sync script with LSProgramTarget of DASM, this should never happen!");b.startsWith("{")&&c("FBLogger")("lightspeed","invalid_type_field").mustfix('We received a sync script that starts with "{" but the target field is not "JSON"! Target: %s',d!=null?c("LSProgramTarget").getName(d):"<null>");return h(a,b)}function a(a){return function(b){if(b==null)throw c("FBLogger")("messenger_comet").mustfixThrow("Error creating eval function, db is undefined. This is likely a currying error in the definition for LSDatascriptEvaluator");return function(e){var f=e.experiments,g=e.priority,h=e.syncScript;e=e.target;f=f!=null?JSON.parse(f):null;var i=j(f,h,e);try{return b.runInTransaction(function(b){a&&a();return i(b)},"readwrite",g)}catch(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform","eval_datascript_failure");c("FBLogger")("messenger_web_product").catching(a).mustfix("Error executing sync script");throw a}}}}a.__debugModuleName="LSDatascriptEvaluator";g["default"]=a}),98);
__d("LSDatascriptEvaluatorEager",["LSDatascriptEvaluator","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("Promise").resolve(c("LSDatascriptEvaluator"))}g["default"]=a}),98);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.setAllowCrossPageTransition=function(a){b.$1.setAllowCrossPageTransition(a);return b};this.$1=new(c("AsyncRequest"))(a)}var b=a.prototype;b.setURI=function(a){this.$1.setURI(a);return this};b.setTimeoutHandler=function(a,b){this.$1.setTimeoutHandler(a,b);return this};b.setOption=function(a,b){this.$1.setOption(a,b);return this};b.setMethod=function(a){this.$1.setMethod(a);return this};b.setData=function(a){this.$1.setData(a);return this};b.setHandler=function(a){this.$1.setHandler(a);return this};b.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};b.setErrorHandler=function(a){this.$1.setErrorHandler(a);return this};b.send=function(){this.$1.send();return this};b.abort=function(){this.$1.abort()};b.setReadOnly=function(a){this.$1.setReadOnly(a);return this};b.setAllowCrossOrigin=function(a){this.$1.setAllowCrossOrigin(a);return this};b.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};return a}();g["default"]=a}),98);
__d("MessagingThreadType",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201});f["default"]=a}),66);
__d("MessagingThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14,PARENT_APPROVED_SHEPHERD_MANAGED_THREAD:15,CAMPUS_GROUP_THREAD:16,LOCAL_COMMUNITIES_THREAD:17,CHAT_FOR_ROOM_THREAD:18,GAMING_PLAY_SQUAD:19,CHAT_FOR_GROUP_ADMIN_TO_MEMBER_THREAD:20,EITM_BACKED_IG_1TO1_THREAD:21,LEARNING_SPACE:23,E2EE_GROUP_THREAD_METADATA:24,IGD_BC_PARTNERSHIP:25,E2EE_1TO1_THREAD_METADATA:26,JOBS_CAREER_GROUP_THREAD:27,IG_CREATOR_SUBSCRIBER_GROUP_THREAD:28,IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT:29,BUSINESS_SUPPORT_THREAD:30,TAGGED_PII_DATA:31,IG_DISCOVERABLE_CHAT_THREAD:32,SUPPORT_MESSAGING_THREAD:33,DISCOVERABLE_PUBLIC_CHAT:34,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:35,DISCOVERABLE_PUBLIC_CHAT_V2:36,IG_DISCOVERABLE_CHAT_THREAD_V2:37,OCULUS_MEDIA_MESSAGING:38,WORK_CHAT_THREAD_CENTRIC:39,COMMUNITY_MESSAGING_PUBLIC_THREAD:40,COMMUNITY_MESSAGING_PRIVATE_THREAD:41,COMMUNITY_MESSAGING_ADMOD_THREAD:42,COMMUNITY_MESSAGING_BROADCAST_THREAD:43,IG_E2EE_GROUP_THREAD_METADATA:44,IG_NFT_BROADCAST_CHAT:45,STANDALONE_COMMUNITY_STANDARD_THREAD:46,IGD_GROUP:47,WORKCHAT_GROUP_THREAD:48,WORKROOM_GROUP_THREAD:49,OCULUS_GROUP_THREAD:50,INTEROP_GROUP:51,IG_BTV_E2EE_1TO1_THREAD_METADATA:52,COMMUNITY_MESSAGING_HELPER_BOT_THREAD:53,COMMUNITY_MESSAGING_SUB_THREAD:54,IG_GROUP_PROFILES:55,IG_PRIVATE_EVENT:56,ONE_TO_ONE:1001,PARENT_APPROVED_ONE_TO_ONE:1002,IG_ONLY_ONE_TO_ONE:1003,INTEROP_ONE_TO_ONE:1004,WHATSAPP_ONE_TO_ONE:1005,WORKCHAT_ONE_TO_ONE:1006,OC_PROXY_ONE_TO_ONE:1007,MARKETPLACE_ASSISTANT_ONE_TO_ONE:1008,PAGE_TO_USER:1009,PAGE_TO_PAGE:1010,MESSENGER_AI_BOT_ONE_TO_ONE:1011,IG_AI_BOT_ONE_TO_ONE:1012,OCULUS:2001});f["default"]=a}),66);
__d("LSBitFlag",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("I64").equal(d("I64").and_(b,a),a)}function b(a,b){return d("I64").or_(b,a)}function c(a,b){return d("I64").and_(b,d("I64").lognot(a))}g.has=a;g.set=b;g.clear=c;g.empty=d("I64").zero}),98);
__d("MWCMIsAnyCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(18))||d("I64").equal(a,d("LSIntEnum").ofNumber(19))||d("I64").equal(a,d("LSIntEnum").ofNumber(23))||d("I64").equal(a,d("LSIntEnum").ofNumber(24))||d("I64").equal(a,d("LSIntEnum").ofNumber(21)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(22))}g["default"]=a}),98);
__d("LSCommunityBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(d("I64").ge(a,d("I64").of_string("128")))return d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("128")))),b.capabilities3);return d("I64").ge(a,d("I64").of_string("64"))?d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("64")))),b.capabilities2):d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),b.capabilities)}g.has=a}),98);
__d("MWCMThreadTypes.react",["I64","LSCommunityBitOffset","LSIntEnum","MessagingThreadSubtype","MetaConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(18))||d("I64").equal(a,d("LSIntEnum").ofNumber(23))||d("I64").equal(a,d("LSIntEnum").ofNumber(21))}function b(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(19))||d("I64").equal(a,d("LSIntEnum").ofNumber(24))||d("I64").equal(a,d("LSIntEnum").ofNumber(22))}function h(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(18))||d("I64").equal(a,d("LSIntEnum").ofNumber(19))}function i(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(23))||d("I64").equal(a,d("LSIntEnum").ofNumber(24))}function e(a){return a==null?!1:d("I64").equal(a,d("LSIntEnum").ofNumber(c("MessagingThreadSubtype").IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT))}function j(a){return d("I64").equal(a,d("LSIntEnum").ofNumber(21))||d("I64").equal(a,d("LSIntEnum").ofNumber(22))}function f(a,b){b=d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(1),b);var e=d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(21)),f=i(a.threadType)&&c("MetaConfig")._("34"),g=j(a.threadType)&&c("MetaConfig")._("35");return h(a.threadType)||f||g||b||e||a.hasPendingInvitation===!0}g.isJoinedCMThread=a;g.isUnjoinedCMThread=b;g.isStandardThread=h;g.isBroadcastThread=i;g.isIGBroadcastChannelThread=e;g.isPrivateThread=j;g.isThreadEnabled=f}),98);
__d("MWPIsThreadUnread.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").compare(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)>0}b=a;g.isThreadUnread=b}),98);
__d("LSThreadBitOffset",["I64","LSBitFlag","MWCMThreadTypes.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(b.threadType))return!1;if(d("I64").ge(a,d("I64").of_string("128")))return d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("128")))),b.capabilities3);return d("I64").ge(a,d("I64").of_string("64"))?d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("64")))),b.capabilities2):d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),b.capabilities)}function b(a,b,c,e){return a.reduce(function(a,b){var c=a[0],e=a[1];a=a[2];if(d("I64").ge(b,d("I64").of_string("128")))return[c,e,d("LSBitFlag").set(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(b,d("I64").of_string("128")))),a)];return d("I64").ge(b,d("I64").of_string("64"))?[c,d("LSBitFlag").set(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(b,d("I64").of_string("64")))),e),a]:[d("LSBitFlag").set(d("I64").lsl_(d("I64").one,d("I64").to_int32(b)),c),e,a]},[b,c,e])}function c(a,b,c,e){return a.reduce(function(a,b){var c=a[0],e=a[1];a=a[2];if(d("I64").ge(b,d("I64").of_string("128")))return[c,e,d("LSBitFlag").clear(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(b,d("I64").of_string("128")))),a)];return d("I64").ge(b,d("I64").of_string("64"))?[c,d("LSBitFlag").clear(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(b,d("I64").of_string("64")))),e),a]:[d("LSBitFlag").clear(d("I64").lsl_(d("I64").one,d("I64").to_int32(b)),c),e,a]},[b,c,e])}g.has=a;g.set=b;g.clear=c;g.empty=d("I64").zero}),98);
__d("shallowEqualI64",["I64"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function i(a,b){return a!==b&&h(a)&&h(b)?d("I64").equal(a,b):a===b}function a(a,b){return j(a,b,i)}function j(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=j}),98);
__d("useMessengerSyncExternalStore",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").useSyncExternalStore;b=a;g["default"]=b}),98);
__d("ReStoreProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){var b=a.children;a=a.db;return h.jsx(i.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.context=i;g.ReStoreProvider=a}),98);
__d("useReStore",["LSDatabaseSingleton","LSSuspense","PromiseAnnotate","ReStoreProvider.react","react","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext,i=c("LSSuspense").makeCollection();function a(){var a=h(d("ReStoreProvider.react").context);if(a!=null)return a;c("suspendOrThrowIfUsedInSSR")("useReStore: LSDB is not available in SSR. Switching to client side render");void d("PromiseAnnotate").setDisplayName(c("LSDatabaseSingleton"),"LSDatabaseSingleton");return c("LSSuspense").getFromCollection(i,c("LSDatabaseSingleton"),function(){return c("LSDatabaseSingleton")})}g["default"]=a}),98);
__d("ReQLSuspense",["BPlusTree","FBLogger","I64","LSDbKeyComparer","Promise","PromiseAnnotate","ReQL","SortedAsyncIterable","isPromise","promiseDone","react","shallowEqualI64","useMessengerSyncExternalStore","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function i(a,b){return Array.from(a==="asc"?b.entries():b.entries({dir:"desc"})).map(function(a){a[0];a=a[1];return a})}function j(a,b){if(c("isPromise")(a))if(b!=null)throw d("PromiseAnnotate").setDisplayName(a,b);else throw a;return a}function k(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])?b.push(e[0],e[1]):b.push(e,void 0)}return b}function l(a){var b=arguments[1];return j(d("SortedAsyncIterable").toArray(a),b).map(function(a){a[0];a=a[1];return a})}function m(a){var b=arguments[1];return l(d("ReQL").prototype.take.call(a,1),b)[0]}function a(a){var b=arguments[1],d=m(a,b);if(d==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return d}var n=[];function o(a,e,f){var g=new Map(),h=j(d("SortedAsyncIterable").toArray(e)).map(function(a){a[0];a=a[1];return a}),i,k=!1,l,m;return{getSnapshot:function(){return h},subscribe:function(j){var n={};g.size===0&&(i=f(),l=e.subscribe(function(a,b){switch(b.operation){case"delete":i["delete"](a);break;case"put":var c=i.get(a);if(c===b.value)return;c=d("I64").cast(c);if(c!=null){var e=d("I64").cast(b.value);if(e!=null&&d("I64").equal(c,e))return}case"add":i.set(a,b.value);break}k=!0}),c("promiseDone")(b("Promise").resolve(d("SortedAsyncIterable").toArray(e)),function(a){var b=a.map(function(a){a[0];a=a[1];return a});d("shallowEqualI64").shallowEqualI64(h,b)||(h=b);for(var b=a,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=b.length)break;e=b[c++]}else{c=b.next();if(c.done)break;e=c.value}e=e;var f=e[0];e=e[1];i.set(f,e)}for(f=g,e=Array.isArray(f),c=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(c>=f.length)break;a=f[c++]}else{c=f.next();if(c.done)break;a=c.value}b=a;b[0];a=b[1];g.has(n)&&a()}}),m=a.subscribeToCommit(function(){if(k){k=!1;h=i.toData(e.direction);for(var a=g,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d[0];d=d[1];g.has(n)&&d()}}}));g.set(n,j);return function(){g["delete"](n),g.size===0&&(l!=null&&(l(),l=void 0),m!=null&&(m(),m=void 0))}}}}function e(a,b){var e=arguments[2],f=h(function(){var b=a();b.uniqueId=e;return b},b==null?[a]:k(b)),g=c("useReStore")(),j=h(function(){return o(g,f,function(){var a=c("BPlusTree")(d("LSDbKeyComparer").compareKey);return{"delete":function(b){a["delete"](b)},get:function(b){return a.getWithDefault(b,void 0)},set:function(b,c){a.set(b,c)},toData:function(){return i(f.direction,a)}}})},[f,g]),l=j.getSnapshot,m=j.subscribe;return c("useMessengerSyncExternalStore")(m,l,function(){return n})}function p(a,b){var d=arguments[2],e=h(function(){var b=a().take(1);b.uniqueId=d;return b},b==null?[a]:k(b)),f=c("useReStore")(),g=h(function(){return o(f,e,function(){var a;return{"delete":function(){a=void 0},get:function(){return a},set:function(b,c){a=c},toData:function(){return a===void 0?[]:[a]}}})},[e,f]),i=g.getSnapshot,j=g.subscribe;return c("useMessengerSyncExternalStore")(j,i,function(){return n})[0]}function f(a,b){var d=arguments[2],e=p(a,b,d);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return e}g.toArray=l;g.first=m;g.firstExn=a;g.createIterableStore=o;g.useArray=e;g.useFirst=p;g.useFirstExn=f}),98);/*FB_PKG_DELIM*/
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("MAWEBSwitch",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.set=function(a){this.$1=a;return this.$1};b.isEnabled=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("BrowserLockManager",[],(function(a,b,c,d,e,f){"use strict";a=typeof window!=="undefined"?window:self;c=a==null?void 0:(b=a.navigator)==null?void 0:b.locks;f["default"]=c}),66);
__d("LockManager",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Exclusive:"exclusive",Shared_NOT_IMPLEMENTED:"shared"});f.LockMode=a}),66);
__d("MAWLogMultipleTabs",["BrowserLockManager","InteractionTracingMetrics","LockManager","Promise","QPLUserFlow","asyncToGeneratorRuntime","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h="multiple_tab_lock",i=!1,j=!1;function a(){return j}function k(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("BrowserLockManager")){var a=(yield c("BrowserLockManager").query());a=a.held.filter(function(a){return a.name===h}).length+a.pending.filter(function(a){return a.name===h}).length;i||a++;return a>1?!0:!1}return});return l.apply(this,arguments)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield k());return a!=null?a.toString():"undefined"});return n.apply(this,arguments)}function e(a){void m().then(function(b){return c("InteractionTracingMetrics").addMetadata(a,"hasMultipleTabs",b)})}function f(a){void m().then(function(b){return c("QPLUserFlow").addAnnotations(a,{string:{hasMultipleTabs:b}})})}var o=c("memoizeOneWithArgs")(function(a){c("BrowserLockManager")&&(i=!0,void c("BrowserLockManager").request(h,{mode:d("LockManager").LockMode.Exclusive},function(c){if(c){j=!0;return new(b("Promise"))(function(b){if(a)return b(a())})}}))});g.hasUniqueLock=a;g.hasMultipleTabs=k;g.getMultipleTabsAnnotation=m;g.addAnnotationWithInteractionUuid=e;g.addAnnotationToQPLEvent=f;g.init=o}),98);
__d("WAResolvable",["Promise"],(function(a,b,c,d,e,f){a=function(){function a(){var a=this;this.$1=function(){};this.$2=!1;this.promise=new(b("Promise"))(function(b){a.$1=b})}var c=a.prototype;c.resolve=function(a){this.$2=!0,this.$1(a)};c.reject=function(a){this.resolve(b("Promise").reject(a))};c.resolveWasCalled=function(){return this.$2};return a}();f.Resolvable=a}),66);
__d("waitForMAWTTRC",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("WAResolvable").Resolvable)();b=a.promise;g.resolvable=a;g.promise=b}),98);
__d("MAWTTRC",["MAWEBSwitch","MAWGating","MAWLogMultipleTabs","QPLUserFlow","QuickPerformanceLogger","performanceNow","qpl","vc-tracker","waitForMAWTTRC"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=!1,j=!1,k=new Set(),l=new Map(),m=new Map(),n=new Set(["main_process_offline_queue_end","maw_init_end","ls_init_end","occamadillo_thread_mapping_end"]),o={main_download_offline_queue_end:"main_download_offline_queue_start",worker_download_offline_queue_end:"worker_download_offline_queue_start"};function p(){var a;return(a=c("vc-tracker")==null?void 0:c("vc-tracker").VisibilityState.wasHidden(0,c("performanceNow")()))!=null?a:!1}function q(){var a;return(a=c("vc-tracker")==null?void 0:c("vc-tracker").VisibilityState.firstHiddenTime(0,c("performanceNow")()))!=null?a:0}function r(){var a;return(a=c("vc-tracker")==null?void 0:c("vc-tracker").VisibilityState.totalHiddenTime(0,c("performanceNow")()))!=null?a:0}function a(){return!j}function b(){if(j||!i)return;j=!0;c("QPLUserFlow").endCancel(c("qpl")._(1056839232,"112"))}function e(a){if(j)return;j=!0;var b={"int":{firstHiddenTime:Number(q()),hidden:Number(p()),totalHiddenTime:Number(r())}};d("waitForMAWTTRC").resolvable.reject("TTRC Failed");c("QPLUserFlow").endFailure(c("qpl")._(1056839232,"112"),a,{annotations:b})}function f(a,b){if(i)v(a,b);else if(!l.has(a)){l.set(a,(a=b)!=null?a:c("QuickPerformanceLogger").currentTimestamp())}}function s(){m.forEach(function(a,b){a===!0||a===!1?w(b,a):Number.isInteger(a)?x(b,Number(a)):y(b,String(a))}),m.clear()}function t(){l.forEach(function(a,b){return v(b,a)}),l.clear()}function u(){if(i)return;c("QPLUserFlow").startFromNavStart(c("qpl")._(1056839232,"112"),{annotations:{bool:{isEBEnabled:c("MAWEBSwitch").isEnabled(),isTlcPublicUser:d("MAWGating").isTlcPublicUser()}},onFlowTimeout:function(){x("hidden",Number(p())),x("firstHiddenTime",Number(q())),x("totalHiddenTime",Number(r())),j=!0},timeoutInMs:h});d("MAWLogMultipleTabs").addAnnotationToQPLEvent(c("qpl")._(1056839232,"112"));i=!0;t();s()}function v(a,b){if(j||k.has(a)||d("MAWGating").isCodeOnlyInitEnabled())return;k.add(a);n["delete"](a);b=b!=null?{timestamp:b}:void 0;var e=o[a];e!=null&&!k.has(e)&&c("QPLUserFlow").addPoint(c("qpl")._(1056839232,"112"),e,b);c("QPLUserFlow").addPoint(c("qpl")._(1056839232,"112"),a,b);if(n.size===0){j=!0;e={"int":{firstHiddenTime:Number(q()),hidden:Number(p()),totalHiddenTime:Number(r())}};d("waitForMAWTTRC").resolvable.resolve();c("QPLUserFlow").endSuccess(c("qpl")._(1056839232,"112"),{annotations:e})}}function w(a,b){var d;if(!i){m.set(a,b);return}c("QPLUserFlow").addAnnotations(c("qpl")._(1056839232,"112"),{bool:(d={},d[a]=b,d)})}function x(a,b){var d;if(!i){m.set(a,b);return}c("QPLUserFlow").addAnnotations(c("qpl")._(1056839232,"112"),{"int":(d={},d[a]=b,d)})}function y(a,b){var d;if(!i){m.set(a,b);return}c("QPLUserFlow").addAnnotations(c("qpl")._(1056839232,"112"),{string:(d={},d[a]=b,d)})}g.duringMIC=a;g.cancel=b;g.fail=e;g.markEvent=f;g.startMAWTTRCFlow=u;g.addBoolAnnotation=w;g.addIntAnnotation=x;g.addStringAnnotation=y}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("MWThreadKey.react",["Int64Hooks","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.useContext,l=j(void 0);function a(a){var b=a.children,e=a.id;a=k(l);var f=d("Int64Hooks").useMemoInt64(function(){return e},[e]);if(a!=null)throw c("unrecoverableViolation")("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");return h.jsx(l.Provider,{value:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(l)}function e(){var a=k(l);if(a!=null)return a;throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product")}g.MWThreadKeyProvider=a;g.useMWThreadKeyMemoized=b;g.useMWThreadKeyMemoizedExn=e}),98);
__d("useIsThreadBlocked",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)},[a,b],f.id+":30"),h=d("ReQLSuspense").useFirst(function(){return(g==null?void 0:g.threadKey)!=null&&(g==null?void 0:g.threadType)!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(g==null?void 0:g.threadType)?d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).filter(function(a){return!d("I64").equal(a.contactId,e)}).take(1),d("ReQL").fromTableAscending(a.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[a,b],f.id+":35");if(h!=null)return!d("I64").equal(h.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));else return!1}g["default"]=a}),98);
__d("MWPreloadableQueries",["I64","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_nullstate")).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_nullstate_ctas").index("threadKeyCtaId")).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)};var h=function(a,b){return d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b).take(6)},i=function(a,b,e){return e.forEach(function(e){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.table("reactions")).getKeyRange(b,e.messageId))),c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.table("reactions_v2")).getKeyRange(b,e.messageId))),c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.table("attachments")).getKeyRange(b,e.messageId)))})},j=function(a,b){return d("ReQL").fromTableAscending(a.table("community_folders")).getKeyRange(b)},k=function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("threads")).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&j(a,b.parentThreadKey)})},l=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_proactive_warning_settings")).getKeyRange(b)},m=function(a,b){return d("ReQL").fromTableAscending(a.table("in_thread_banner")).getKeyRange(b)},n=function(a,b){return d("ReQL").fromTableAscending(a.table("cm_channel_list")).filter(function(a){return d("I64").equal(a.threadId,b)})};function a(a,b){return d("ReQL").fromTableAscending(a.table("media_staging")).filter(function(a){return!a.isSent&&d("I64").equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=h;g.getReactionsForMessages=i;g.getCommunityFolderQuery=j;g.getCommunityFolderForThreadParentQuery=k;g.getProactiveWarningsForThreadQuery=l;g.getThreadBannerQuery=m;g.getCMChannelListQuery=n;g.getMediaStagingQuery=a}),98);
__d("ThreadStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PAUSED:0,PAUSED:1});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=d("ReQL").fromTableAscending(a.table("cutover_threads"));return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.table("cutover_threads")["delete"](d("ReQL").key(c.openThreadId))})},b("Promise").resolve())})}g.call=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage.bs","LSMetadata","LSPlatformLsInitLog","MAWLSVaultingHooks","MessengerLogHistory","ReStore","asyncToGeneratorRuntime","cr:6693"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("ls_db_init");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("init_start");var a;if(b("cr:6693")!=null){try{h.debug("Creating EB State DB");var e=(yield b("cr:6693").makeEBStateDB());e!=null&&(a=c("ReStore")(e,d("LSMetadata").metadata,[c("MAWLSVaultingHooks")]))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}h.debug("EB State DB inited")}a==null&&(h.debug("Creating EDB"),a=d("LSJSInMemoryStorage.bs").make(d("LSMetadata").metadata),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return a});return i.apply(this,arguments)}g.createDB=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("1224637")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;b=d("I64").of_int32(c("qex")._("461")===!0?3:1);e=d("I64").of_int32(0);g.syncParams=a;g.syncChannel=b;g.lastSyncTimestampMs=e}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";a={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:d("LSIntEnum").ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:d("LSIntEnum").ofNumber(0),minTimeToSyncTimestampMs:d("LSIntEnum").ofNumber(-1),priority:d("LSIntEnum").ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSIntEnum").ofNumber(1),syncParams:JSON.stringify({locale:c("CurrentLocale").get()}),syncStatus:d("LSIntEnum").ofNumber(0)};b={epochId:void 0,failureCount:d("LSIntEnum").ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:d("LSIntEnum").ofNumber(0),lastSyncRequestTimestampMs:d("LSIntEnum").ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:d("LSIntEnum").ofNumber(0),taskQueueName:""};e=d("LSIntEnum").ofNumber(0);f=d("LSIntEnum").ofNumber(9999999999999);g.defaultSyncGroup=a;g.defaultNetworkRequest=b;g.initialEpochId=e;g.neverSyncTimestamp=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50});f["default"]=a}),66);
__d("CurrentMessengerUser",["CurrentEnvironment","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("CurrentEnvironment").instagramdotcom?c("CurrentUser").getEIMU():c("CurrentUser").getID()}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("CurrentMessengerUser")();return a.table("_user_info").put({facebookUserId:d("I64").of_string(b),id:d("LSIntEnum").ofNumber(1)})}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MAWGating","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();(d("MAWGating").isArmadillo()||c("qex")._("1377")===!0)&&!d("MAWGating").isOccamadilloResumeSyncEnabled()&&h.add(95);e=d("MAWGating").isArmadillo()||c("qex")._("1377")===!0?{groupId:95}:null;var i=[{groupId:1},{groupId:2},{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},{groupId:16},{groupId:28},{groupId:196},{groupId:198},c("qex")._("923")?{groupId:95}:null,{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}],j=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:16},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:5},{groupId:28},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:196},{groupId:104},{groupId:198},e,c("qex")._("274")||c("gkx")("5849")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,c("gkx")("2250")?{groupId:108}:null];function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return d("LSIntEnum").toNumber(a)});return b("Promise").all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||h.has(b.groupId))&&(yield a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:d("LSIntEnum").ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("sync_groups")))),f=e.map(function(a){a=a.groupId;return d("LSIntEnum").toNumber(a)});function g(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);(!f.includes(c)||h.has(c))&&(yield a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:d("LSIntEnum").ofNumber(c)})))});return i.apply(this,arguments)}yield b("Promise").all(c.map(function(a){return a&&g(a)}))});return n.apply(this,arguments)}function o(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?i:j}function a(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=o(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield k(a,b);yield m(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return p.apply(this,arguments)}g.e2eeMetadataSyncGroup=e;g.igdSyncGroups=i;g.defaultSyncGroups=j;g.seedDb=a}),98);
__d("MWLSSchemaEphemeralProxy",["MWLSSchemaEphemeral"],(function(a,b,c,d,e,f){"use strict";Object.keys(importNamespace("MWLSSchemaEphemeral")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("MWLSSchemaEphemeral")[a]})}),null);
__d("GetLsDatabase",["ExecutionEnvironment","FBLogger","LSDefaultSyncGroups","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MWLSSchemaEphemeralProxy","MessengerLogHistory","Promise","asyncToGeneratorRuntime","cr:4489","cr:5774","cr:665","cr:6800","cr:757","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:757"))!=null?e:b("cr:6800"),i=c("gkx")("4471")&&c("gkx")("4463"),j=d("MessengerLogHistory").getInstance("ls_db_init"),k=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){j.debug("====Creating DB====");b("cr:4489")!=null&&b("cr:665")!=null&&(j.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield b("cr:4489").setupVaultMaterials(),b("cr:4489").listenToVaultMaterialsRequest(),j.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("support_check_start");var a=b("cr:5774").isSupported!=null?yield b("cr:5774").isSupported():!1;d("LSPlatformLsInitLog").addPoint("support_check_end",{bool:{using_pdb:a}});a&&self.navigator.locks==null&&c("FBLogger")("messenger_web_product").mustfix("PDB exposed to people without navigator.locks");j.debug("Connecting to DB");a=a?yield b("cr:5774").createDB():yield d("MWLSSchemaEphemeralProxy").createDB();j.debug("Connecting established");yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=i||h==null?[b("Promise").resolve(),b("Promise").resolve()]:[h.call(a),d("MAWDropCutoverThreadsTable").call(a)],e=c[0];c=c[1];yield b("Promise").all([e,c]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");j.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(a,void 0);j.debug("DB seeded")});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui");j.debug("====DB created====");return a});return function(){return a.apply(this,arguments)}}(),l;function a(){l==null&&(l=c("ExecutionEnvironment").isInBrowser?k():new(b("Promise"))(function(){}));return l}g.get=a}),98);/*FB_PKG_DELIM*/
__d("WAProtoConst",[],(function(a,b,c,d,e,f){a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,d("WAProtoConst").TYPES.STRING],fromMe:[2,d("WAProtoConst").TYPES.BOOL],id:[3,d("WAProtoConst").TYPES.STRING],participant:[4,d("WAProtoConst").TYPES.STRING]};e.internalSpec={commandType:[1,d("WAProtoConst").TYPES.ENUM,a],offset:[2,d("WAProtoConst").TYPES.UINT32],length:[3,d("WAProtoConst").TYPES.UINT32]};f.internalSpec={text:[1,d("WAProtoConst").TYPES.STRING],mentionedJid:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],commands:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d("WAProtoConst").TYPES.BYTES],version:[2,d("WAProtoConst").TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,PORTRAIT:3};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f={};var h={};f.internalSpec={associatedMessage:[1,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],targetType:[2,d("WAProtoConst").TYPES.ENUM,e],targetUsername:[3,d("WAProtoConst").TYPES.STRING],targetId:[4,d("WAProtoConst").TYPES.STRING],targetExpiringAtSec:[5,d("WAProtoConst").TYPES.INT64],xmaLayoutType:[6,d("WAProtoConst").TYPES.ENUM,c],ctas:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,h],previews:[8,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],titleText:[9,d("WAProtoConst").TYPES.STRING],subtitleText:[10,d("WAProtoConst").TYPES.STRING],maxTitleNumOfLines:[11,d("WAProtoConst").TYPES.UINT32],maxSubtitleNumOfLines:[12,d("WAProtoConst").TYPES.UINT32],favicon:[13,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],headerImage:[14,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],headerTitle:[15,d("WAProtoConst").TYPES.STRING],overlayIconGlyph:[16,d("WAProtoConst").TYPES.ENUM,a],overlayTitle:[17,d("WAProtoConst").TYPES.STRING],overlayDescription:[18,d("WAProtoConst").TYPES.STRING],sentWithMessageId:[19,d("WAProtoConst").TYPES.STRING],messageText:[20,d("WAProtoConst").TYPES.STRING],headerSubtitle:[21,d("WAProtoConst").TYPES.STRING],xmaDataclass:[22,d("WAProtoConst").TYPES.STRING],contentRef:[23,d("WAProtoConst").TYPES.STRING]};h.internalSpec={buttonType:[1,d("WAProtoConst").TYPES.ENUM,b],title:[2,d("WAProtoConst").TYPES.STRING],actionUrl:[3,d("WAProtoConst").TYPES.STRING],nativeUrl:[4,d("WAProtoConst").TYPES.STRING],ctaType:[5,d("WAProtoConst").TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=h}),98);
__d("MAWGating",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}function b(){return c("qex")._("607")===!0}function d(){if(c("qex")._("1514")===!0)return!0;else return c("qex")._("779")===!0}function e(){return c("qex")._("354")}function f(){if(c("qex")._("1506")===!0)return!0;else return c("qex")._("408")===!0}function h(){return c("qex")._("1516")===!0}function i(){return!1}function j(){return!1}function k(){return!1}function l(){return!1}function m(){if(c("qex")._("1520")===!0)return!0;else return c("qex")._("779")===!0}function n(){return c("qex")._("205")===!0}function o(){return c("gkx")("4470")}function p(){return c("qex")._("588")===!0}function q(){return!0}function r(){return c("qex")._("1672")===!0}function s(){return c("qex")._("1526")===!0}function t(){return c("qex")._("386")===!0}function u(){return c("qex")._("1266")===!0}function v(){return c("gkx")("6450")}function w(){return c("gkx")("6450")}function x(){return c("gkx")("6551")&&c("gkx")("4471")&&c("gkx")("4463")}function y(){if(c("qex")._("1530")===!0)return!0;else return c("qex")._("121")===!0}function z(){return c("qex")._("1532")===!0}function A(){return c("qex")._("1533")===!0}function B(){return c("qex")._("1534")===!0}function C(){if(c("qex")._("189")===!0)return!0;else return c("qex")._("779")===!0}function D(){return c("qex")._("729")===!0}function E(){return c("qex")._("883")===!0}function F(){return c("qex")._("1536")===!0}function G(){if(c("qex")._("68")===!0)return!0;else return c("qex")._("310")===!0}function H(){if(c("qex")._("77")===!0||c("qex")._("68")===!0)return!0;else return c("qex")._("1264")===!0}function I(){if(c("qex")._("1746")===!0&&c("qex")._("160")===!0)return!0;else return c("qex")._("987")===!0&&c("qex")._("1059")===!0}function J(){return c("qex")._("1763")===!0}function K(){return c("qex")._("780")===!0||c("qex")._("391")===!0}var L=c("gkx")("5834");function M(){return c("qex")._("114")===!0}function N(){return c("gkx")("6581")}function O(){return c("qex")._("542")===!0}function P(){return c("gkx")("3883")}function Q(){return c("gkx")("8355")}var R=c("gkx")("1115");function S(){return c("gkx")("964")}function T(){return c("gkx")("4169")}function U(){return c("gkx")("4662")}function V(){return!0}function W(){return c("qex")._("342")===!0}function X(){return c("gkx")("6940")}function Y(){return c("gkx")("4483")}function Z(){return c("qex")._("795")===!0}function aa(){return c("qex")._("1766")===!0}function ba(){return c("qex")._("1766")===!0}function ca(){return c("gkx")("3383")}function da(){return c("qex")._("681")}function ea(){return c("gkx")("8239")}function fa(){return c("gkx")("8350")}function ga(){if(c("gkx")("5884"))return!0;else return c("qex")._("302")===!0}function ha(){return c("gkx")("4214")}function ia(){return c("gkx")("1573")}function ja(){return c("gkx")("7935")}function ka(){return c("gkx")("1901")}function la(){return!$()}function $(){return c("qex")._("294")===!0||c("gkx")("5534")}function ma(){return c("gkx")("5653")}function na(){return c("qex")._("1396")===!0}function oa(){return c("gkx")("678680")}function pa(){return c("gkx")("4801")}g.isArmadillo=a;g.isTlcSearchEnabled=b;g.isStickerEnabled=d;g.getArmadilloDbVersion=e;g.wellBeingFeaturesEnabled=f;g.isEphemeralMessagesEnabled=h;g.isOneToOneDualSendTextEnabled=i;g.isOneToOneDualSendMediaEnabled=j;g.isGroupDualSendTextEnabled=k;g.isGroupDualSendMediaEnabled=l;g.isForwardEnabled=m;g.isCrossForwardEnabled=n;g.isVaultingEnabled=o;g.isFeatureLimitEnabled=p;g.isDbCleanupEnabled=q;g.isICDCHTTPRegEnabled=r;g.isICDCEnabled=s;g.isICDCErrorEnabled=t;g.isClientTimeoutsEnabled=u;g.isUnsendGlobalEnabled=v;g.isUnsendLocallyEnabled=w;g.isOccamadilloResumeSyncEnabled=x;g.isEncryptionAtRestEnabled=y;g.isBlockEnabled=z;g.isRestrictEnabled=A;g.isReactionsCleanerEnabled=B;g.isRepliesEnabled=C;g.isSearchEnabled=D;g.isContentSearchEnabled=E;g.isAppSyncDeleteThreadEnabled=F;g.isThreadLevelCutoverEnabled=G;g.isXMAFeedPostShareEnabled=H;g.isXMABackupEnabled=I;g.isAttachmentBackupEnabled=J;g.isGroupInvitesEnabled=K;g.isArmadilloMessageSortedOrderChanged=L;g.isPushNotificationEnabled=M;g.isGDriveIntegrationEnabled=N;g.isMobileExternalIdFormatEnabled=O;g.isWebErrorStateM2Enabled=P;g.isBulkifyHIMEnabled=Q;g.isInitSyncApiImprovementsEnabled=R;g.isSenderKeyPredistributionEnabled=S;g.isPreEstablishSessionEnabled=T;g.isSmartSenderKeyRotationEnabled=U;g.isArmadilloTotalMessageCollectionEnabled=V;g.isDeviceAdminMessagesSnippetDisabled=W;g.isBulkContactUpdateEnabled=X;g.isDetailedHandleIncomingMsgQPLEnabled=Y;g.isFrankingEnabled=Z;g.isCodeOnlyInitEnabled=aa;g.isCodeOnlyWorkerEnabled=ba;g.isSecurityToggleForDFEnabled=ca;g.getOrchestratorVersion=da;g.isTlcPublicUser=ea;g.isDownloadablePreviewsEnabled=fa;g.isVoiceClipEnabled=ga;g.isJpegThumbnailOverChatdDisabled=ha;g.shouldPreloadSessions=ia;g.isChatWithYourselfEnabled=ja;g.isCMCDMessengerWebEnabled=ka;g.isMAWLoggerDisabled=la;g.isFlushingLogsFromWorkerInBulkEnabled=$;g.isUseridAnnotationEnabled=ma;g.enableProtocolQueueChatProcessing=na;g.isEmployee=oa;g.isErrDuplicateMsgDetectEnabled=pa}),98);/*FB_PKG_DELIM*/
__d("LSIssueNewTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[0],httpUrlOverride:a[3],timeoutTimestampMs:a[4],pluginType:a[5],priority:a[6],syncGroupId:a[7],minTimeToSyncTimestampMs:a[9]})},function(d){return b.ftr(b.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])&&c.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[1]=b.i64.cast([-1,4294967295]):(d=a.item,c[1]=d.taskId)})},function(a){return function(a){b.logger(a).info(a)}(["NewTask"," ",b.i64.to_string(c[1])].join(""))}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var g=e.done;e.value;return g?c.seq([function(b){return d[0]=a[3]==null?"":a[3],c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],draftMessage:a[42],snippetHasEmoji:a[43],hasPersistentMenu:a[44],disableComposerInput:a[45],cannotUnsendReason:a[46],viewedPluginKey:a[47],viewedPluginContext:a[48],clientThreadKey:a[49],capabilities:a[50],shouldRoundThreadPicture:a[51],proactiveWarningDismissTime:a[52],isCustomThreadPicture:a[53],otidOfFirstMessage:a[54],normalizedSearchTerms:a[55],additionalThreadContext:a[56],disappearingThreadKey:a[57],isDisappearingMode:a[58],disappearingModeInitiator:a[59],unreadDisappearingMessageCount:a[60],lastMessageCtaId:a[62],lastMessageCtaType:a[63],consistentThreadFbid:a[64],threadDescription:a[65],unsendLimitMs:a[66],syncGroup:a[67],threadInvitesEnabled:a[68],threadInviteLink:a[69],threadInvitesEnabledV2:a[70],eventStartTimestampMs:a[71],eventEndTimestampMs:a[72],takedownState:a[73],memberCount:a[74],secondaryParentThreadKey:a[75],igFolder:a[76],inviterId:a[77],threadTags:a[78],threadStatus:a[79],threadSubtype:a[80],pauseThreadTimestamp:a[81]}):(f=d.item,c[1]=f.lastActivityTimestampMs,c[3]=f.parentThreadKey,c[2]=f.disappearingThreadKey,c[4]=f.isDisappearingMode,b.i64.le(f.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],e)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(g=[c[3],f.folderName],c[5]=g[0],c[6]=g[1],g):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:f.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],draftMessage:a[42],snippetHasEmoji:a[43],hasPersistentMenu:a[44],disableComposerInput:a[45],cannotUnsendReason:a[46],viewedPluginKey:a[47],viewedPluginContext:a[48],clientThreadKey:a[49],capabilities:a[50],shouldRoundThreadPicture:a[51],proactiveWarningDismissTime:a[52],isCustomThreadPicture:a[53],otidOfFirstMessage:a[54],normalizedSearchTerms:a[55],additionalThreadContext:a[56],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[59],unreadDisappearingMessageCount:a[60],lastMessageCtaId:a[62],lastMessageCtaType:a[63],consistentThreadFbid:a[64],threadDescription:a[65],unsendLimitMs:a[66],syncGroup:a[67],threadInvitesEnabled:a[68],threadInviteLink:a[69],threadInvitesEnabledV2:a[70],eventStartTimestampMs:a[71],eventEndTimestampMs:a[72],takedownState:a[73],memberCount:a[74],secondaryParentThreadKey:a[75],igFolder:a[76],inviterId:a[77],threadTags:a[78],threadStatus:a[79],threadSubtype:a[80],pauseThreadTimestamp:a[81]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],draftMessage:a[42],snippetHasEmoji:a[43],hasPersistentMenu:a[44],disableComposerInput:a[45],cannotUnsendReason:a[46],viewedPluginKey:a[47],viewedPluginContext:a[48],clientThreadKey:a[49],capabilities:a[50],shouldRoundThreadPicture:a[51],proactiveWarningDismissTime:a[52],isCustomThreadPicture:a[53],otidOfFirstMessage:a[54],normalizedSearchTerms:a[55],additionalThreadContext:a[56],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[59],unreadDisappearingMessageCount:a[60],lastMessageCtaId:a[62],lastMessageCtaType:a[63],consistentThreadFbid:a[64],threadDescription:a[65],unsendLimitMs:a[66],syncGroup:a[67],threadInvitesEnabled:a[68],threadInviteLink:a[69],threadInvitesEnabledV2:a[70],eventStartTimestampMs:a[71],eventEndTimestampMs:a[72],takedownState:a[73],memberCount:a[74],secondaryParentThreadKey:a[75],igFolder:a[76],inviterId:a[77],threadTags:a[78],threadStatus:a[79],threadSubtype:a[80],pauseThreadTimestamp:a[81]}):b.resolve())})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),e,e],c[3]=f[0],c[4]=f[1],c[5]=f[2],f):(d=a.item,f=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=f[0],c[4]=f[1],c[5]=f[2],f)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=e:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[15]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[16]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[17]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[18]=b.i64.cast([0,2]):c[18]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[17]=c[18]),c[16]=c[17]),c[15]=c[16]),c[9]=c[15]),c[10]=c[5]!==e&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==e&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==e?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[14],b.i64.cast([0,8192])):c[14]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSSetMessageTextHasLinks",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(a){var b=a.update;a.item;return b({textHasLinks:!0})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("MWPBumpEntityKey",["CurrentUser","ODS"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){d("ODS").bumpEntityKey(3185,a,b)}function a(a,b){var d=c("CurrentUser").getAppID();d=d==null?"unknown":d;return h(a,b+"."+d)}g.bumpEntityKey=h;g.bumpEntityKeyWithAppId=a}),98);
__d("LSProgramTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DASM:1,JS:2,JSON:3});c=a;f["default"]=c}),66);/*FB_PKG_DELIM*/
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WATagsLogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV.apply(d,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV_XMPP.apply(d,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).LOG.apply(d,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).WARN.apply(d,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).ERROR.apply(d,[a].concat(c))})})}function i(a,b,c){return h.load().then(function(d){return d.whenReady().then(function(){return d.TAGS(a)}).then(function(a){a[c](b)})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f;g.logWithTags=i}),98);
__d("IGDWebUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a===1217981644879628||a===936619743392459||a===487152425211411||a===1035956773910536:!1}f.isInstagramWebSupportedApp=a}),66);
__d("MAWCurrentUser",["CurrentUserInitialData","IGDWebUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=Number(h());if(a===772021112871879||a===2220391788200892||a===256281040558)return j();else if(d("IGDWebUtils").isInstagramWebSupportedApp(a))return i();return j()}function h(){return d("CurrentUserInitialData").APP_ID}function b(){return!!d("CurrentUserInitialData").IS_EMPLOYEE}function i(){var a;return(a=d("CurrentUserInitialData").IG_USER_EIMU)!=null?a:"0"}function j(){return d("CurrentUserInitialData").USER_ID}g.getID=a;g.getAppID=h;g.isEmployee=b}),98);
__d("LSPersistedDbGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("6543");b=c("gkx")("6543");g.anyTablesPersisted=a;g.allTablesPersisted=b}),98);
__d("MWLSDatabaseNames",[],(function(a,b,c,d,e,f){"use strict";a="LightSpeed";b=a+"V3";f.name=a;f.lightspeedPrefix=b}),66);
__d("MWIndexedDBDelete",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MWLSDatabaseNames","ODS","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){try{if(a===1)return""+d("MWLSDatabaseNames").name+d("MAWCurrentUser").getID();else return d("MWLSDatabaseNames").name+"V"+a+d("MAWCurrentUser").getID()}catch(a){return null}}function a(a){var b;if(c("ExecutionEnvironment").canUseDOM&&((b=window)==null?void 0:b.indexedDB)!=null){var e=h(a);if(e!=null)if(typeof window.indexedDB.databases==="function"){b=window.indexedDB.databases();b.then(function(a){a.forEach(function(a){var b=a.name||"";if(b===e){a=window.indexedDB.deleteDatabase(b);a.onsuccess=function(){c("FBLogger")("messenger_web_product").info("MW PDB deletion success for "+b)};a.onblocked=function(){c("recoverableViolation")("[db clean up patch] Cannot delete db: blocked","messenger_web_product"),d("ODS").bumpEntityKey(3185,"mw_pdb_delete","blocked")};a.onerror=function(){d("ODS").bumpEntityKey(3185,"mw_pdb_delete","error"),c("recoverableViolation")("[pdb clean up patch] Cannot delete db","messenger_web_product")}}})})["catch"](function(a){c("recoverableViolation")("[pdb clean up patch] LS delete databases error","messenger_web_product",{error:a})})}else{a=window.indexedDB.deleteDatabase(e);a.onsuccess=function(){d("ODS").bumpEntityKey(3185,"mw_pdb_delete","success_v2")};a.onblocked=function(){c("recoverableViolation")("[db clean up patch v2] Cannot delete db: blocked","messenger_web_product"),d("ODS").bumpEntityKey(3185,"mw_pdb_delete","blocked_v2")};a.onerror=function(){d("ODS").bumpEntityKey(3185,"mw_pdb_delete","error_v2"),c("recoverableViolation")("[pdb clean up patch v2] Cannot delete db","messenger_web_product")}}}}g.getUserDbNameForVersion=h;g.deleteAllDBs=a}),98);
__d("LSDatabaseSingleton",["CurrentUser","ExecutionEnvironment","LSPersistedDbGating","LSPlatformLsInitLog","MWIndexedDBDelete","Promise","QE2Logger","QPLUserFlow","asyncToGeneratorRuntime","cr:1266","cr:1956","cr:6587","gkx","justknobx","qpl","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=b("cr:1956"))!=null?a:b("cr:6587");d("QE2Logger").logExposureForUser("lightspeed_web_persisted_db");c("gkx")("8635");c("gkx")("5156");d("LSPlatformLsInitLog").start();e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h.get());try{var e=c("justknobx")._("541"),f=!d("LSPersistedDbGating").anyTablesPersisted;f&&e>0&&d("MWIndexedDBDelete").deleteAllDBs(e)}catch(a){c("recoverableViolation")("[db clean up patch] Cant delete db","messenger_web_product")}try{d("LSPlatformLsInitLog").addPoint("db_created"),c("CurrentUser").isWorkUser()&&c("QPLUserFlow").addPoint(c("qpl")._(1036588047,"310"),"db_created"),b("cr:1266")!==null&&b("cr:1266").registerDb(a)}catch(a){}return a});return function(){return a.apply(this,arguments)}}();f=c("ExecutionEnvironment").isInBrowser?e():new(b("Promise"))(function(){});a=f;g["default"]=a}),98);
__d("LSSuspense",["PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw a}function b(a){return{current:{error:a,state:"Error"}}}function c(a){return{current:{state:"Done",value:a}}}function e(a){var b={current:{promise:a.then(function(a){b.current={state:"Done",value:a};return a})["catch"](function(a){b.current={error:a,state:"Error"}}),state:"Loading"}};return b}function f(){return new WeakMap()}function h(a){if(a.state==="Loading")throw a.promise;else if(a.state==="Error")throw a.error;else return a.value}function i(a){return h(a.current)}function j(a,b,c){var e=a.get(b);if(e!=null)return h(e);e=c();c={promise:e.then(function(c){a.set(b,{state:"Done",value:c});return c})["catch"](function(c){a.set(b,{error:c,state:"Error"})}),state:"Loading"};var f=c.promise;if(f){void d("PromiseAnnotate").setDisplayName(f,(f=d("PromiseAnnotate").getDisplayName(e))!=null?f:"LSCollection")}a.set(b,c);return h(c)}j={getFromCollection:j,getOrSuspend:i,makeCollection:f,makeWithError:b,makeWithPromise:e,makeWithValue:c,throwErrorOrPromise:a};g["default"]=j}),98);
__d("SortedAsyncIterable",["PromiseAnnotate","PromiseOrValue","ReQLGlobalQueryContext","isPromise"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;if(d("ReQLGlobalQueryContext").globalQueryContext.contents==null){var c=new WeakMap();d("ReQLGlobalQueryContext").globalQueryContext.contents=c;return c}c=d("ReQLGlobalQueryContext").globalQueryContext.contents;(b=d("ReQLGlobalQueryContext").getDependencies(c))==null?void 0:b.push(a);return c}function a(a){var b=[],e=a.iterator(h(a)),f=d("PromiseOrValue").loop(function(){return d("PromiseOrValue").map(e.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value);return{action:"continue",value:void 0}})});return c("isPromise")(f)?d("PromiseAnnotate").setDisplayName(f,"ReQL"+(a.uniqueId!=null?"_"+a.uniqueId:"")):f}g.toArray=a}),98);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);/*FB_PKG_DELIM*/
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.seq([function(c){return b.fe(b.ftr(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var e=c.update;c=c.item;return e({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:d,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSAppendDataTraceAddon",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(154).add({addonId:void 0,traceId:a[0],timestampMs:c[0],checkPointId:a[1],syncChannel:a[2],errorMessage:a[3],tags:a[4]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLogEventAnnotate.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("Promise").resolve()}c=a;f.call=c}),66);
__d("LSLogEventAnnotate.nop",["LSLogEventAnnotate.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g){return d("LSLogEventAnnotate.bs").call(a,b,c,e,f,g)};g["default"]=a}),98);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(f){return c.seq([function(a){return c.resolve()},function(e){return c.ftr(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.seq([function(e){return function(a){c.logger(a).mustfix(a)}(["epoch mismatch",",",c.i64.to_string(a[0])].join("")),d[2]=new c.Map(),d[2].set("database_id",a[0]),d[2].set("epoch_id",a[1]),d[2].set("sync_status",a[4]),d[2].set("next_cursor",a[3]),d[2].set("error_msg","epoch mismatch"),a[9]?d[3]=!1:d[3]=!0,d[3]?c.resolve():(d[5]=a[9].keys(),d[6]=c.i64.of_int32(d[5].length),c.i64.gt(d[6],c.i64.cast([0,0]))?c.loopAsync(d[6],function(e){return d[7]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[5],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return d[10]=a[9].get(d[8]),a[9],d[2].set(d[8],d[10])}])}):c.resolve())},function(a){return c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[2])},function(a){return d[4]=!1,d[0]=d[4]}]):(e.item,c.seq([function(e){return c.ftr(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.seq([function(e){return function(a){c.logger(a).mustfix(a)}(["cursor mismatch",",",c.i64.to_string(a[0])].join("")),d[4]=new c.Map(),d[4].set("database_id",a[0]),d[4].set("epoch_id",a[1]),d[4].set("sync_status",a[4]),d[4].set("next_cursor",a[3]),d[4].set("error_msg","cursor mismatch"),a[9]?d[5]=!1:d[5]=!0,d[5]?c.resolve():(d[7]=a[9].keys(),d[8]=c.i64.of_int32(d[7].length),c.i64.gt(d[8],c.i64.cast([0,0]))?c.loopAsync(d[8],function(e){return d[9]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[7],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(b){return d[12]=a[9].get(d[10]),a[9],d[4].set(d[10],d[12])}])}):c.resolve())},function(a){return c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[4])},function(a){return d[6]=!1,d[2]=d[6]}]):(e.item,c.seq([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.fe(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.fe(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),a[9],d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMciTraceLog",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return c[0]=b.i64.cast([0,1]),b.resolve(c)}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertContactPresence",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(186).put({contactId:a[0],status:a[1],expirationTimestampMs:a[3],lastActiveTimestampMs:a[2],capabilities:a[4],publishId:a[5]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSTruncatePresenceDatabase",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return a[0]?b.fe(b.db.table(186).fetch(),function(a){return a["delete"]()}):b.fe(b.db.table(186).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
__d("MetaConfig",["invariant","BanzaiLazyQueue","ExecutionEnvironment","MetaConfigMap"],(function(a,b,c,d,e,f,g,h){"use strict";var i={};a={_:function(a){var b=c("MetaConfigMap").get(a);b!=null||h(0,57910,a);i[a]||(i[a]=!0,(c("ExecutionEnvironment").canUseDOM||c("ExecutionEnvironment").isInWorker)&&d("BanzaiLazyQueue").queuePost("metaconfig_exposure",{identifier:a,log_id:b.log_id}));return b.value}};b=a;g["default"]=b}),98);
__d("LSDbKeyComparer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=[[]];function i(a,b){var d=a===h,e=b===h;if(d&&e)return 0;if(d)return 1;if(e)return-1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;else if(Array.isArray(a)){if(!Array.isArray(b))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");d=a[0];e=b[0];if(d<e)return-1;if(d>e)return 1;d=a[1];e=b[1];if(d<e)return-1;if(d>e)return 1}else if(typeof a==="string"){if(typeof b!=="string")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(!a&&b)return-1;if(a&&!b)return 1}else throw c("unrecoverableViolation")("Unexpected type","messenger_comet");return 0}function a(a,b){for(a=a,b=b;;a=a.tl,b=b.tl){if(a===0&&b===0)return 0;if(a===0)return-1;if(b===0)return 1;var c=i(a.hd,b.hd);if(c!==0)return c}return 0}g.MAX_KEY=h;g.compareValue=i;g.compareKey=a}),98);